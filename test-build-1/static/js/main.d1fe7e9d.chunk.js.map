{"version":3,"sources":["templates/CreateEvaluatos/CreateEvaluators.module.scss","templates/SelectSiteResource/SelectSiteResources.module.scss","views/MyProfile/EditInfo/EditInfo.module.scss","views/ManageScrapers/ManageScrapers.module.scss","templates/EditEvaluators/EditEvaluators.module.scss","components/Sidebar/Sidebar.module.scss","Layout/Layout.module.scss","views/ScrapedData/ScrapedDataTable/ScrapedDataTable.module.scss","views/ManageUsers/ManageUsers.module.scss","views/ManageUsers/EditUser/EditUser.module.scss","views/ManageTasks/ManageTasks.module.scss","views/Page404/Page404.module.scss","templates/CreateModelOptions/CreateModelOptions.module.scss","components/Main/Main.module.scss","components/SiteLogo/SiteLogo.module.scss","views/ManageScrapers/RunScraperScript/RunScraperScript.module.scss","components/Nav/Nav.module.scss","components/Footer/Footer.module.scss","components/Card/Card.module.scss","components/EmptyCardFlex/EmptyCardFlex.module.scss","views/ManageScrapers/ScraperDetails/ScraperDetails.module.scss","components/Select/Select.module.scss","MainComponent.module.scss","templates/CreateScraperData/CreateScraperData.module.scss","views/ManageUsers/UserDetails/UserDetails.module.scss","views/ScrapedData/ScrapedData.module.scss","views/MyProfile/MyProfile.module.scss","views/ManageUsers/CreateUser/CreateUser.module.scss","hooks/useAuth.js","hooks/useActiveMenu.js","routes/index.js","components/Header/Header.js","hooks/useWindowWidth.js","components/Main/Main.js","components/SiteLogo/logo.png","components/SiteLogo/SiteLogo.js","components/Sidebar/Sidebar.js","components/Nav/Nav.js","components/Footer/Footer.js","Layout/Layout.js","components/Card/Card.js","config/index.js","views/Login/logo.png","views/Login/Login.js","hooks/useFetch.js","components/EmptyCardFlex/EmptyCardFlex.js","utilities/string/index.js","utilities/objects-array/index.js","components/MuiTable/MuiTable.js","views/Dashboard/Dashboard.js","views/ManageScrapers/ManageScrapers.js","components/CodeEditor/CodeEditor.js","components/Select/Select.js","templates/SelectSiteResource/SelectSiteResources.js","templates/CreateSiteResource/CreateSiteResource.js","templates/CreateScraperData/CreateScraperData.js","components/Radio/Radio.js","templates/CreateModelOptions/CreateModelOptions.js","templates/CreateEvaluatos/CreateEvaluators.js","views/ManageScrapers/CreateScraper/CreateScraper.js","views/ManageScrapers/RunScraperScript/RunScraperScript.js","templates/EditEvaluators/EditEvaluators.js","views/ManageScrapers/ScraperDetails/ScraperDetails.js","views/ScrapedData/ScrapedData.js","views/ScrapedData/ScrapedDataTable/ScrapedDataTable.js","hooks/useAccessCheck.js","views/ManageUsers/ManageUsers.js","views/ManageUsers/EditUser/EditUser.js","views/ManageUsers/UserDetails/UserDetails.js","views/ManageTasks/ManageTasks.js","views/MyProfile/EditInfo/EditInfo.js","views/MyProfile/MyProfile.js","views/Page404/Page404.js","views/ManageUsers/CreateUser/CreateUser.js","utilities/index.js","MainComponent.js","theme/index.js","App.js","index.js","components/Header/Header.module.scss","components/MuiTable/MuiTable.module.scss","views/Login/Login.module.scss","views/ManageScrapers/CreateScraper/CreateScraper.module.scss","views/Dashboard/Dashboard.module.scss","templates/CreateSiteResource/CreateSiteResource.module.scss"],"names":["module","exports","useAuth","useState","isLoggedIn","setIsLoggedIn","loggedUser","setLoggedUser","window","localStorage","getItem","authToken","setAuthToken","fileToken","setFileToken","tokenExpiration","setTokenExpiration","loginMessage","setLoginMessage","history","useHistory","logout","prev","removeItem","checkLoggedIn","Date","getTime","Number","JSON","parse","location","pathname","push","useEffect","login","res","xAuthToken","xFileToken","xTokenExpiration","userInfo","statusOk","message","setItem","stringify","useActiveMenu","setActiveParentMenu","setActiveChildMenu","href","currentUrl","setCurrentUrl","listen","addEventListener","e","console","log","activeMenuHandler","parentMenus","Array","from","document","querySelectorAll","childMenus","activeParent","find","item","includes","activeChild","forEach","classList","remove","add","mainNavObjectsArr","title","path","shown","children","permissionLevel","Header","className","openMenuHandler","menuActive","windowWidth","callback","innerWidth","setWindowWidth","useWindowWidth","styles","firstName","active","onClick","bind","this","to","Main","SiteLogo","src","logo","Sidebar","Nav","navObjectsArr","nav","length","map","child","Footer","year","getFullYear","Layout","setActive","mainNav","setMainNav","filter","wrapper","Card","style","width","card","domainName","baseUrl","fileUrl","socketUrl","Login","username","setUsername","password","setPassword","loggingIn","setLoggingIn","messageType","setMessageType","abortCont","AbortController","onChangeHandler","inputName","setter","value","target","trim","submitHandler","a","preventDefault","fetch","method","headers","body","signal","then","json","jsonData","Error","catch","err","name","abort","action","onSubmit","FormControl","fullWidth","TextField","onChange","label","type","Button","variant","size","color","disableElevation","startIcon","disabled","CircularProgress","height","useFetch","apiEndPoint","fetchOptions","initialValue","data","setData","isLoading","setIsLoading","hasError","setHasError","fetchMessage","setFetchMessage","ok","EmptyCardFlex","toNormalString","str","previousFormat","replace","char","toUpperCase","split","toCapitalize","join","index","toCapitalizeAll","getAllObjectKeys","objects","reduce","b","Object","keys","key","isObjectUnique","obj","objectsArray","overAllResults","object","results","every","isObjectInArray","array","some","useStyles","makeStyles","root","container","maxHeight","StickyHeadTable","tableData","uniqueId","excludedColumns","classes","React","page","setPage","rowsPerPage","setRowsPerPage","rows","columns","isArray","id","align","minWidth","maxWidth","Paper","TableContainer","Table","stickyHeader","TableHead","TableRow","column","TableCell","TableBody","slice","row","hover","role","tabIndex","imagePaths","alt","textAlign","justifyContent","TablePagination","rowsPerPageOptions","component","count","onPageChange","event","newPage","onRowsPerPageChange","Dashboard","pageTitle","ManageScrapers","scrapers","isLoadingTableData","optionClickHandler","display","flexDirection","gap","_id","backgroundColor","whiteSpace","includedKeys","Divider","margin","Alert","severity","CodeEditor2","padding","placeholder","language","fontSize","fontFamily","minHeight","border","gridAutoFlow","theme","formControl","selectEmpty","marginTop","spacing","Select2","options","uniqueProp","optionLabelProp","selectOnchangeHandler","defaultValue","selectedOption","setSeletedOption","select","InputLabel","Select","labelId","MenuItem","selected","SelectSiteResource","selectOptions","selectedSiteResource","setSelectHandler","createReadyHandler","hasSelected","setHasSelected","siteName","siteUrl","CreateSiteResource","siteResourceHandler","siteResource","setSiteResource","setMessage","url","changeHandler","setTimeout","form","noValidate","autoComplete","CreateScraperData","currentValue","setScraperDataHandler","backButtonHandler","cancelHandler","scraperDetails","setScraperDetails","productBrandErrorMessage","setProductBrandErrorMessage","imagePropNameErrorMessage","setImagePropNameErrorMessage","uniqueSplitErrorMessage","setUniqueSplitErrorMessage","arrItemError","setArrItemError","splitItem","sharedItem","csvExcludedPropsItem","arrItem","setArrItem","prop","arrInputChangeHandler","addItemToArrayInObjectHandler","propName","arrName","arr","handleDeleteChipEntry","productBrand","imagePropName","imageNameObject","Chip","onDelete","deleteIcon","shared","csvExcludedProps","endIcon","RadioButtonsGroup","legend","radioOptions","setValue","FormLabel","RadioGroup","FormControlLabel","control","Radio","CreateModelSchema","setModelObjectHandler","modelObjectOptions","setModelObjectOptions","saveButtonEnabled","setSavedButtonEnabled","schema","propKey","schemaArray","setSchemaArray","addSchemaButtonDisabled","setAddSchemaButtonDisabled","schemaKey","setSchemaKey","schemaKeyType","setSchemaKeyType","schemaKeyRequired","setSchemaKeyRequired","schemaError","setSchemaError","friendlyUrlProps","immutableProps","uniqueProps","propObjectsErrMessage","setPropObjectsErrMessage","initializedProps","propObjects","setPropObjects","friendlyUrlProp","setFriendlyUrlProp","immutableProp","setImmutableProp","setUniqueProp","addSchemaHandler","schemaObject","required","deleteSchemaHandler","propObjectChangeHandler","addPropObjects","IconButton","CreateEvaluators","currentUsageValue","currentGroupIdentifierKeyValue","currentSchema","setEvaluatorObjectsHandler","setUsageHandler","setGroupIdentifierKeyHandler","evaluatorObjects","setEvaluatorObjects","submitButtonEnabled","setSubmitButtonEnabled","addEvaluatorButtonEnabled","setAddEvaluatorButtonEnabled","setCallback","setType","waitMethods","setWaitMethods","args","currentWaitMethod","setCurrentWaitMethod","addWaitMethodButtonReady","setAddWaitMethodButtonReady","waitMethodError","setWaitMethodError","showPaginated","setShowPaginated","paginated","setPaginated","objPropArgs","setObjPropArgs","objPropArgsError","setObjPropArgsError","currentPropArg","setCurrentPropArg","addObjPropArgsButtonEnabled","setAddObjPropArgsButtonEnabled","productUrlProp","setProductUrlProp","productUrlPropError","setProductUrlPropError","usage","setUsage","groupIdentifierKey","setGroupIdentifierKey","removeWaitMethodHandler","waitMethodInputChangeHandler","handleDeleteObjPropArgs","addEvaluatorObjectHandler","prv","removeEvaluatorHandler","evaluator","i","toString","fontWeight","waitMethod","prevState","multiline","CreateScraper","selectOn","setSelectOn","setSelectOptions","siteResourceReady","setSiteResourceReady","scraperDetailsReady","setScraperDetailsReady","imageUris","modelObjectOptionsReady","setModelObjectOptionsReady","recordName","pluralized","routeObjectOptions","setRouteObjectOptions","evaluatorObjectsReady","setEvaluatorObjectsReady","loading","submitObject","setSubmitObject","state","saveScraperHandler","scraperDetailsObj","boolState","modelObject","values","socket","io","RunScraperScript","useParams","scraperData","setSiteName","setProductBrand","setSiteUrl","setCsvExcludedProps","apiRoute","setApiRoute","evaluatorIndexes","setEvaluatorIndexes","scriptId","setScriptId","productsListEvaluatorUris","setProductsListEvaluatorUris","groupIdentifier","setGroupIdentifier","evaluatorArgs","setEvaluatorArgs","scriptRunning","setScriptRunning","scrapingMessage","setScrapingMessage","scrapingStatus","setScrapingStatus","downloadingZip","setDownloadingZip","savingToDb","setSavingToDb","savingDataMessage","setSavingDataMessage","savingDataStatus","setSavingDataStatus","scrapedData","setScrapedData","unscrapedData","setUnscrapedData","submitEnabled","setSubmitEnabled","currentProcess","setCurrentProcess","setCurrentScrapedProducts","rescraping","setRescraping","totalScrapedData","setTotalScrapedData","totalUnscrapedData","setTotalUnscrapedData","setCurrentShownData","productsTotal","setProductsTotal","progress","setProgress","groupIdentifierKeyChangeHandler","evaluatorUriChangeHandler","evaluatorObjectIndex","arrIndex","goBack","runScraperScriptHandler","downloadZipHandler","filePath","downloadUrl","aElem","createElement","setAttribute","click","saveDataHandler","scraperId","subApiRoute","evaluatorIndex","removeClick","alert","removeEventListener","on","phase","totalProducts","LinearProgress","EditEvaluators","status","setStatus","ScraperDetails","modalOpen","setModalOpen","editingEvaluatorObjects","setEditingEvaluatorObjects","deleteScriptHandler","modalSetter","setLoading","Modal","onClose","open","alignItems","paddingRight","ManageScrapedData","siteResources","fetchLoading","productSets","filteredScrapers","setFilteredScrapers","filteredProductSets","setFilteredProductSets","scraper","setScraper","productSet","setProductSet","productsData","setProductsData","dirPath","dataDirPath","createUrl","labelName","productData","setProductData","queryString","search","dataObject","useAccessCheck","allowedPermissionLevel","go","sort","accessLevel","EditUser","user","editUserSetter","userSetter","updateStateHandler","setInitialValue","currentUser","setCurrentUser","updateButtonEnabled","setUpdateButtonEnabled","inputChangeHandler","previousState","compareData","userObject","updateUserHandler","InputLabelProps","shrink","lastName","UserDetails","userFetchError","userFetchMessage","editUserOn","setEditUserOn","editUserHandler","deleteUserHandler","loadingState","messageState","messageTypeState","EditInfo","currentUserSetter","editInforHandler","changePassword","setChangePassword","passwordMessage","setPasswordMessage","passwordMessageType","setPasswordMessageType","setFirstName","setLastName","passwordConf","setPasswordConf","cancelEditHandler","changePasswordHandler","passwordInputChangeHandler","editInfoEnabled","setEditInfoEnabled","Page404","CreateUser","setUser","setSaveButtonEnabled","usernameCheckMessage","setUsernameCheckMessage","usernameCheckLoading","setUsernameCheckLoading","usernameCheckMessageType","setUsernameCheckMessageType","checkUsername","func","wait","timeout","immediate","context","arguments","later","apply","callNow","clearTimeout","debounce","enteredUsername","toLowerCase","checkAllFields","userId","startAdornment","InputAdornment","position","onKeyPress","code","getRoute","route","routes","main","exact","createTheme","palette","primary","blue","secondary","blueGrey","error","red","typography","button","textTransform","App","ThemeProvider","CssBaseline","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d1fe7e9d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"CreateEvaluators_main-container__L1QLS\",\"template-title\":\"CreateEvaluators_template-title__3joHi\",\"template-subtitle\":\"CreateEvaluators_template-subtitle__34U99\",\"template-section-title\":\"CreateEvaluators_template-section-title__HOskF\",\"error-message\":\"CreateEvaluators_error-message__3O6N1\",\"description\":\"CreateEvaluators_description__1nUIX\",\"buttons-container\":\"CreateEvaluators_buttons-container__o_nle\",\"added-evaluator-container\":\"CreateEvaluators_added-evaluator-container__3sKxr\",\"added-evaluator-object-container\":\"CreateEvaluators_added-evaluator-object-container__k62aU\",\"wait-methods-container\":\"CreateEvaluators_wait-methods-container__1DaOB\",\"added-methods\":\"CreateEvaluators_added-methods__2V2HE\",\"wait-method-input-container\":\"CreateEvaluators_wait-method-input-container__31vrb\",\"input-container-array\":\"CreateEvaluators_input-container-array__2sgoC\",\"field-container\":\"CreateEvaluators_field-container__2axJd\",\"evaluator-options\":\"CreateEvaluators_evaluator-options__1m5TU\",\"chip-container\":\"CreateEvaluators_chip-container__1xZ46\",\"evaluator-object-container\":\"CreateEvaluators_evaluator-object-container__smZQj\",\"input-container\":\"CreateEvaluators_input-container__3ivrg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select-container\":\"SelectSiteResources_select-container__1-JiI\",\"template-title\":\"SelectSiteResources_template-title__1U8_p\",\"site-resource-info-container\":\"SelectSiteResources_site-resource-info-container__3_EoZ\",\"buttons-container\":\"SelectSiteResources_buttons-container__3rckh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"highlighted\":\"EditInfo_highlighted__ifGoV\",\"template-subtitle\":\"EditInfo_template-subtitle__2MM2C\",\"template-section-title\":\"EditInfo_template-section-title__3UIeJ\",\"error-message\":\"EditInfo_error-message__dowMy\",\"success-message\":\"EditInfo_success-message__3ug0N\",\"description\":\"EditInfo_description__byuAZ\",\"buttons-container\":\"EditInfo_buttons-container__1B_3h\",\"buttons-container-main\":\"EditInfo_buttons-container-main__O7EZ_\",\"edit-user-field-container\":\"EditInfo_edit-user-field-container__3918V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"template-title\":\"ManageScrapers_template-title__1gYDy\",\"template-subtitle\":\"ManageScrapers_template-subtitle__2TNtk\",\"template-section-title\":\"ManageScrapers_template-section-title__2jxgT\",\"error-message\":\"ManageScrapers_error-message__fE1x8\",\"description\":\"ManageScrapers_description__1QpS5\",\"buttons-container\":\"ManageScrapers_buttons-container__1fUxG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"EditEvaluators_main-container__rVkYk\",\"template-title\":\"EditEvaluators_template-title__311Zh\",\"template-subtitle\":\"EditEvaluators_template-subtitle__25f9z\",\"template-section-title\":\"EditEvaluators_template-section-title__S2k_j\",\"error-message\":\"EditEvaluators_error-message__jq0Lc\",\"description\":\"EditEvaluators_description__4cI0s\",\"buttons-container\":\"EditEvaluators_buttons-container__ez580\",\"added-evaluator-container\":\"EditEvaluators_added-evaluator-container__40-o0\",\"added-evaluator-object-container\":\"EditEvaluators_added-evaluator-object-container__2SuVM\",\"wait-methods-container\":\"EditEvaluators_wait-methods-container__3Wsra\",\"added-methods\":\"EditEvaluators_added-methods__14x5C\",\"wait-method-input-container\":\"EditEvaluators_wait-method-input-container__11_d1\",\"input-container-array\":\"EditEvaluators_input-container-array__i589F\",\"field-container\":\"EditEvaluators_field-container__2hPyU\",\"evaluator-options\":\"EditEvaluators_evaluator-options__9Mulg\",\"chip-container\":\"EditEvaluators_chip-container__hmug_\",\"evaluator-object-container\":\"EditEvaluators_evaluator-object-container__3DTv-\",\"input-container\":\"EditEvaluators_input-container__101bE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-sidebar\":\"Sidebar_main-sidebar__3Rgi_\",\"active\":\"Sidebar_active__1nQ3e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Layout_wrapper__1I9fC\",\"main-section\":\"Layout_main-section__2RRp_\",\"active\":\"Layout_active__OP-CQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"template-title\":\"ScrapedDataTable_template-title__lXkco\",\"highlighted\":\"ScrapedDataTable_highlighted__O759G\",\"highlighted-2\":\"ScrapedDataTable_highlighted-2__i85Az\",\"template-subtitle\":\"ScrapedDataTable_template-subtitle__1ZE-H\",\"template-section-title\":\"ScrapedDataTable_template-section-title__270TT\",\"error-message\":\"ScrapedDataTable_error-message__3-DCc\",\"description\":\"ScrapedDataTable_description__1TPFq\",\"buttons-container\":\"ScrapedDataTable_buttons-container__2-RKT\",\"field-container\":\"ScrapedDataTable_field-container__3mUye\",\"main-container\":\"ScrapedDataTable_main-container__1lgwO\",\"action-buttons-container\":\"ScrapedDataTable_action-buttons-container__3leEa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"ManageUsers_main-container__3EGGz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"highlighted\":\"EditUser_highlighted__2K6Cp\",\"template-subtitle\":\"EditUser_template-subtitle__2ggI6\",\"template-section-title\":\"EditUser_template-section-title__3luT4\",\"error-message\":\"EditUser_error-message__3m0HO\",\"description\":\"EditUser_description__2ZFLJ\",\"buttons-container\":\"EditUser_buttons-container__1rSnl\",\"buttons-container-main\":\"EditUser_buttons-container-main__jL-Zj\",\"edit-user-field-container\":\"EditUser_edit-user-field-container__23cz2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"template-title\":\"ManageTasks_template-title__3OcT9\",\"highlighted\":\"ManageTasks_highlighted__1ae_C\",\"template-subtitle\":\"ManageTasks_template-subtitle__2S65B\",\"template-section-title\":\"ManageTasks_template-section-title__17HNP\",\"error-message\":\"ManageTasks_error-message__ClyLz\",\"success-message\":\"ManageTasks_success-message__34kHx\",\"info-message\":\"ManageTasks_info-message__1qF9_\",\"description\":\"ManageTasks_description__2r-a-\",\"main-container\":\"ManageTasks_main-container__1UMI4\",\"section-title\":\"ManageTasks_section-title__2ghl0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page404-container\":\"Page404_page404-container__3XbcL\",\"page404-error\":\"Page404_page404-error__HwDsE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"CreateModelOptions_main-container__2q2wt\",\"template-title\":\"CreateModelOptions_template-title__1a1hx\",\"template-subtitle\":\"CreateModelOptions_template-subtitle__SQ-Js\",\"template-section-title\":\"CreateModelOptions_template-section-title__2aKby\",\"model-object-container\":\"CreateModelOptions_model-object-container__1sG63\",\"schema-container\":\"CreateModelOptions_schema-container__3svsi\",\"delete-button\":\"CreateModelOptions_delete-button__1QvLU\",\"form-container\":\"CreateModelOptions_form-container__38ByB\",\"form\":\"CreateModelOptions_form__1ib5V\",\"input-container\":\"CreateModelOptions_input-container__3dBpU\",\"field-container\":\"CreateModelOptions_field-container__1bR8B\",\"error-message\":\"CreateModelOptions_error-message__2KfyY\",\"input-container-array\":\"CreateModelOptions_input-container-array__1V5SL\",\"description\":\"CreateModelOptions_description__2i8lD\",\"result-container\":\"CreateModelOptions_result-container__11MS-\",\"input-container-2\":\"CreateModelOptions_input-container-2__1sUPq\",\"button-container\":\"CreateModelOptions_button-container__2ZmVy\",\"buttons-container\":\"CreateModelOptions_buttons-container__1Wy5a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-content\":\"Main_main-content__2PId1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"site-logo\":\"SiteLogo_site-logo__15HOR\",\"active\":\"SiteLogo_active__16QxB\",\"selected\":\"SiteLogo_selected__2Mn19\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"template-title\":\"RunScraperScript_template-title__1nedh\",\"highlighted\":\"RunScraperScript_highlighted__34vZI\",\"highlighted-2\":\"RunScraperScript_highlighted-2__M1ahb\",\"template-subtitle\":\"RunScraperScript_template-subtitle__1eAiT\",\"template-section-title\":\"RunScraperScript_template-section-title__34btA\",\"error-message\":\"RunScraperScript_error-message__1NIb0\",\"description\":\"RunScraperScript_description__34Nnt\",\"buttons-container\":\"RunScraperScript_buttons-container__3D2rQ\",\"field-container\":\"RunScraperScript_field-container__1q1UQ\",\"main-container\":\"RunScraperScript_main-container__2UzuV\",\"action-buttons-container\":\"RunScraperScript_action-buttons-container__3s59l\",\"current-shown-data-container\":\"RunScraperScript_current-shown-data-container__3i3W0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1nqzN\",\"active\":\"Nav_active__9yukH\",\"selected\":\"Nav_selected__3FBIV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-footer\":\"Footer_main-footer__2ckRX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__20Eqa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"empty\":\"EmptyCardFlex_empty__1HqJB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"ScraperDetails_main-container__3g4oz\",\"label\":\"ScraperDetails_label__c7_Ox\",\"template-title\":\"ScraperDetails_template-title__3pSuX\",\"highlighted\":\"ScraperDetails_highlighted__3C83h\",\"template-subtitle\":\"ScraperDetails_template-subtitle__XZHNU\",\"template-section-title\":\"ScraperDetails_template-section-title__1rWL0\",\"error-message\":\"ScraperDetails_error-message__3-TZk\",\"description\":\"ScraperDetails_description__380T_\",\"buttons-container\":\"ScraperDetails_buttons-container__3Bc2j\",\"container\":\"ScraperDetails_container__sEQ48\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"Select_select__3yWx7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"MainComponent_main__3ufCR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-container\":\"CreateScraperData_form-container__15urQ\",\"template-title\":\"CreateScraperData_template-title__1B-r0\",\"error-message\":\"CreateScraperData_error-message__207TQ\",\"form\":\"CreateScraperData_form__1IJtr\",\"input-container\":\"CreateScraperData_input-container__2cQXY\",\"field-container\":\"CreateScraperData_field-container__-yxIW\",\"input-container-array\":\"CreateScraperData_input-container-array__oVrpj\",\"description\":\"CreateScraperData_description__1xkam\",\"result-container\":\"CreateScraperData_result-container__1fVG7\",\"buttons-container\":\"CreateScraperData_buttons-container__2B9HU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"UserDetails_main-container__3d4yR\",\"main-cards-container\":\"UserDetails_main-cards-container__2vst9\",\"user-info-container\":\"UserDetails_user-info-container__10w2Q\",\"user-info-list\":\"UserDetails_user-info-list__1S6FO\",\"label\":\"UserDetails_label__2FrnD\",\"value\":\"UserDetails_value__-dj7b\",\"template-title\":\"UserDetails_template-title__2GQp9\",\"highlighted\":\"UserDetails_highlighted__t_7X3\",\"template-subtitle\":\"UserDetails_template-subtitle__3EC0k\",\"template-section-title\":\"UserDetails_template-section-title__HW4Cs\",\"error-message\":\"UserDetails_error-message__2VPDd\",\"description\":\"UserDetails_description__3vd4V\",\"buttons-container\":\"UserDetails_buttons-container__kX9aM\",\"buttons-container-main\":\"UserDetails_buttons-container-main__28fAe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"template-title\":\"ScrapedData_template-title__1zciU\",\"highlighted\":\"ScrapedData_highlighted__1S5f-\",\"highlighted-2\":\"ScrapedData_highlighted-2__2u-Rc\",\"template-subtitle\":\"ScrapedData_template-subtitle__rq8A3\",\"template-section-title\":\"ScrapedData_template-section-title__3mjg-\",\"error-message\":\"ScrapedData_error-message__3odXm\",\"description\":\"ScrapedData_description__3ESNh\",\"buttons-container\":\"ScrapedData_buttons-container__LZl9l\",\"field-container\":\"ScrapedData_field-container__n9Qta\",\"select-container\":\"ScrapedData_select-container__GMexO\",\"main-container\":\"ScrapedData_main-container__19d9J\",\"action-buttons-container\":\"ScrapedData_action-buttons-container__gl9cE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"MyProfile_main-container__2b7Y-\",\"main-cards-container\":\"MyProfile_main-cards-container__W5d9S\",\"user-info-container\":\"MyProfile_user-info-container__3M-Zx\",\"user-info-list\":\"MyProfile_user-info-list__2ofMs\",\"label\":\"MyProfile_label__1jPTG\",\"value\":\"MyProfile_value__18xla\",\"template-title\":\"MyProfile_template-title__25lgY\",\"highlighted\":\"MyProfile_highlighted__Of0xW\",\"template-subtitle\":\"MyProfile_template-subtitle__1RqHc\",\"template-section-title\":\"MyProfile_template-section-title__1AEm2\",\"error-message\":\"MyProfile_error-message__3sSXF\",\"description\":\"MyProfile_description__h6ChK\",\"buttons-container\":\"MyProfile_buttons-container__TeyqP\",\"buttons-container-main\":\"MyProfile_buttons-container-main__11wYy\",\"edit-user-field-container\":\"MyProfile_edit-user-field-container__ue2pY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"CreateUser_main-container__Pkn3h\",\"main-cards-container\":\"CreateUser_main-cards-container__3YIBa\",\"create-user-field-container\":\"CreateUser_create-user-field-container__2ZiCx\",\"firstName\":\"CreateUser_firstName__Myi-N\",\"lastName\":\"CreateUser_lastName__Dknrj\",\"username\":\"CreateUser_username__2rLwK\",\"password\":\"CreateUser_password__P3n8g\",\"permissionLevel\":\"CreateUser_permissionLevel__2ENz6\",\"user-info-container\":\"CreateUser_user-info-container__1JKHM\",\"user-info-list\":\"CreateUser_user-info-list__2OXy1\",\"label\":\"CreateUser_label__-iCQw\",\"value\":\"CreateUser_value__2qQXl\",\"template-title\":\"CreateUser_template-title__13l-X\",\"highlighted\":\"CreateUser_highlighted__zmiuS\",\"template-subtitle\":\"CreateUser_template-subtitle__2sr7Q\",\"template-section-title\":\"CreateUser_template-section-title__8-3YL\",\"error-message\":\"CreateUser_error-message__2TZfQ\",\"success-message\":\"CreateUser_success-message__2MvjP\",\"info-message\":\"CreateUser_info-message__1mBwm\",\"description\":\"CreateUser_description__2U2vW\",\"buttons-container\":\"CreateUser_buttons-container__1ICo9\",\"buttons-container-main\":\"CreateUser_buttons-container-main__355_2\"};","import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function useAuth()   {\r\n    let [isLoggedIn, setIsLoggedIn] = useState(false),\r\n        [loggedUser, setLoggedUser] = useState(null),\r\n        [authToken, setAuthToken] = useState(window.localStorage.getItem(\"x-auth-token\")),\r\n        [fileToken, setFileToken] = useState(window.localStorage.getItem(\"x-file-token\")),\r\n        [tokenExpiration, setTokenExpiration] = useState(window.localStorage.getItem(\"x-token-expiration\") || 0),\r\n        [loginMessage, setLoginMessage] = useState(null),\r\n        history = useHistory();\r\n        \r\n\r\n    const logout = () => {\r\n        setIsLoggedIn(prev => false);\r\n        setLoginMessage(prev => null);\r\n        setAuthToken(prev => null);\r\n        setFileToken(prev => null);\r\n        setLoggedUser(prev => null);\r\n        setTokenExpiration(prev => 0);\r\n\r\n        window.localStorage.removeItem(\"x-auth-token\");\r\n        window.localStorage.removeItem(\"x-file-token\");\r\n        window.localStorage.removeItem(\"x-logged-user\");\r\n        window.localStorage.removeItem(\"x-token-expiration\");\r\n    }\r\n\r\n\r\n    const login = (res) => {\r\n        let {authToken : xAuthToken, fileToken : xFileToken, tokenExpiration : xTokenExpiration, userInfo, statusOk, message} = res;\r\n\r\n        if(statusOk)    {\r\n            setIsLoggedIn(prev => statusOk);\r\n            setLoginMessage(prev => message);\r\n            setAuthToken(prev => {\r\n                window.localStorage.setItem(\"x-auth-token\", xAuthToken);\r\n                return xAuthToken\r\n            });\r\n            setFileToken(prev => {\r\n                window.localStorage.setItem(\"x-file-token\", xFileToken);\r\n                return xFileToken\r\n            });\r\n            setLoggedUser(prev => {\r\n                window.localStorage.setItem(\"x-logged-user\", JSON.stringify(userInfo, null, 4));\r\n                return userInfo\r\n            });\r\n            setTokenExpiration(prev => {\r\n                window.localStorage.setItem(\"x-token-expiration\", Number(xTokenExpiration));\r\n                return Number(xTokenExpiration);\r\n            });\r\n\r\n            \r\n\r\n        }  else {\r\n            setIsLoggedIn(prev => false);\r\n            logout();\r\n\r\n        }\r\n\r\n        return {authToken, fileToken, loggedUser, isLoggedIn, loginMessage};\r\n        \r\n    }\r\n\r\n    const checkLoggedIn = () => {\r\n        \r\n        if( new Date().getTime() < Number(tokenExpiration) )   {\r\n            setIsLoggedIn(prev => {\r\n                setLoggedUser(prev => {\r\n                    return JSON.parse(window.localStorage.getItem(\"x-logged-user\"));\r\n                });\r\n                return true;\r\n            });\r\n\r\n\r\n            if(window.location.pathname === \"/login\")   {\r\n                history.push(\"/\");\r\n            }\r\n\r\n\r\n        } else  {\r\n            setIsLoggedIn(prev => false);\r\n            setLoginMessage(prev => null);\r\n            setAuthToken(prev => null);\r\n            setFileToken(prev => null);\r\n            setLoggedUser(prev => null);\r\n            setTokenExpiration(prev => 0)\r\n\r\n            window.localStorage.removeItem(\"x-auth-token\");\r\n            window.localStorage.removeItem(\"x-file-token\");\r\n            window.localStorage.removeItem(\"x-logged-user\");\r\n            window.localStorage.removeItem(\"x-token-expiration\");\r\n            history.push(\"/login\");\r\n\r\n        }\r\n\r\n    }\r\n    \r\n    useEffect(() => {\r\n        checkLoggedIn();\r\n\r\n        // return () => console.log(\"Authentication checked.\");\r\n    }, [isLoggedIn]);\r\n\r\n\r\n    return {authToken, fileToken, loggedUser, isLoggedIn, loginMessage, login, logout, checkLoggedIn};\r\n\r\n}","import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function useActiveMenu() {\r\n    let setActiveParentMenu = useState(null)[1],\r\n        setActiveChildMenu = useState(null)[1],\r\n        [currentUrl, setCurrentUrl] = useState(window.location.href),\r\n        history = useHistory();\r\n        \r\n\r\n    history.listen((location) => { \r\n        setCurrentUrl(prev => window.location.href);\r\n    });\r\n\r\n    window.addEventListener(\"click\", function() {\r\n        setCurrentUrl(prev => window.location.href);\r\n    });\r\n\r\n    window.addEventListener(\"load\", function() {\r\n        setCurrentUrl(prev => window.location.href);\r\n    });\r\n\r\n    window.addEventListener('popstate', function (e) {\r\n        setCurrentUrl(prev => window.location.href);\r\n        console.log(\"this fired...\")\r\n    });\r\n\r\n    const activeMenuHandler = () => {\r\n        let parentMenus = Array.from(document.querySelectorAll(`.main-sidebar > .main-nav > ul > li > a`)),\r\n            childMenus = Array.from(document.querySelectorAll(`.main-sidebar > .main-nav > ul > li > ul > li a`));\r\n\r\n\r\n        let activeParent = parentMenus.find(item => currentUrl.includes(item.href)),\r\n            activeChild = childMenus.find(item => item.href === window.location.href);\r\n\r\n        if(activeParent) {\r\n            parentMenus.forEach(item => item.classList.remove(`active-parent`));\r\n            childMenus.forEach(item => item.classList.remove(`active-child`));\r\n            setActiveParentMenu(prev => activeParent);\r\n            activeParent.classList.add(`active-parent`);\r\n        } else  {\r\n            parentMenus.forEach(item => item.classList.remove(`active-parent`));\r\n            childMenus.forEach(item => item.classList.remove(`active-child`));\r\n        }\r\n        if(activeChild) {\r\n            setActiveChildMenu(prev => activeChild)\r\n            activeChild.classList.add(`active-child`);\r\n        };\r\n\r\n\r\n        return () => {\r\n            parentMenus.forEach(item => item.classList.remove(`active-parent`));\r\n            childMenus.forEach(item => item.classList.remove(`active-child`));\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        activeMenuHandler();\r\n\r\n    }, [currentUrl]);\r\n\r\n\r\n    return { activeMenuHandler, currentUrl, setCurrentUrl };\r\n}\r\n\r\n","const mainNavObjectsArr = [    \r\n    {\r\n        title : \"Manage Scrapers\",\r\n        path : \"/manage-scrapers\",\r\n        shown : true,\r\n        children : [],\r\n        permissionLevel : 2,\r\n    },\r\n    {\r\n        title : \"Scraped / Stored Data\",\r\n        path : \"/scraped-data\",\r\n        children : [],\r\n        permissionLevel : 2,\r\n\r\n    },\r\n    {\r\n        title : \"Manage Users\",\r\n        path : \"/manage-users\",\r\n        children : [\r\n            // {\r\n            //     title : \"Create a User\",\r\n            //     path : \"/manage-users/create-user\"\r\n            // },\r\n            // {\r\n            //     title : \"Update a User\",\r\n            //     path : \"/manage-users/update-user/:id\"\r\n            // },\r\n            // {\r\n            //     title : \"Delete a User\",\r\n            //     path : \"/manage-users/delete-user/:id\"\r\n            // }\r\n        ],\r\n        permissionLevel : 4,\r\n\r\n    },\r\n    {\r\n        title : \"Manage Tasks\",\r\n        path : \"/manage-tasks\",\r\n        children : [\r\n            // @ic@yumi1828\r\n            // {\r\n            //     title : \"Create a Task\",\r\n            //     path : \"/manage-tasks/create-scraper\"\r\n            // },\r\n            // {\r\n            //     title : \"Update a Task\",\r\n            //     path : \"/manage-tasks/update-scraper/:id\"\r\n            // },\r\n            // {\r\n            //     title : \"Delete a Task\",\r\n            //     path : \"/manage-tasks/delete-scraper/:id\"\r\n            // }\r\n        ],\r\n        permissionLevel : 2,\r\n    }\r\n];\r\n\r\n\r\nexport default mainNavObjectsArr;","import { Link } from \"react-router-dom\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport useWindowWidth from \"../../hooks/useWindowWidth\";\r\n\r\n// styles\r\nimport styles from \"./Header.module.scss\";\r\n\r\nexport default function Header({loggedUser, className, openMenuHandler, menuActive}) {\r\n\r\n    let windowWidth = useWindowWidth(() => {})\r\n\r\n    const { logout } = useAuth();\r\n    \r\n    const logoutHandler = (e) => {\r\n        // e.preventDefault();\r\n        logout();\r\n    }\r\n\r\n    const menuClickHandler = (e) => {\r\n        openMenuHandler();\r\n    }\r\n\r\n    return  (\r\n        <header className={`${styles[\"main-header\"]} ${className}`}>\r\n            \r\n            <h1>Welcome to CC Scraper App, <span>{loggedUser.firstName}</span>!</h1>\r\n            {windowWidth < 768 && \r\n                <div className={styles[\"button-container\"]}>\r\n                    <div className={`${styles[\"nav-button\"]} ${menuActive ? styles.active : null}`} onClick={menuClickHandler.bind(this)}>\r\n                        <div className={styles[\"bar-container\"]}>\r\n                            <div className={styles[\"bar\"]}></div>\r\n                            <div className={styles[\"bar\"]}></div>\r\n                            <div className={styles[\"bar\"]}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n            <nav className={styles[\"header-nav\"]}>\r\n                <ul>\r\n                    <li>\r\n                        <Link to=\"/my-profile\">My Profile</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/login\" onClick={logoutHandler}>Logout</Link>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </header>\r\n    )\r\n\r\n}","import { useState, useEffect } from \"react\";\r\n\r\nexport default function useWindowWidth(callback)    {\r\n    let [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", function(){\r\n            setWindowWidth(window.innerWidth);\r\n        });\r\n        window.addEventListener(\"load\", function(){\r\n            setWindowWidth(window.innerWidth);\r\n        });\r\n\r\n        callback();\r\n    });\r\n\r\n    return windowWidth;\r\n}\r\n\r\n\r\n\r\n","import styles from \"./Main.module.scss\";\r\n\r\nexport default function Main({children})    {\r\n    \r\n    return (\r\n        <main className={styles[\"main-content\"]}>\r\n            {children}\r\n        </main>\r\n    )\r\n\r\n}","export default __webpack_public_path__ + \"static/media/logo.07fa326a.png\";","// core\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// styles\r\nimport styles from \"./SiteLogo.module.scss\";\r\n\r\nimport logo from \"./logo.png\";\r\n\r\nexport default function SiteLogo()  {\r\n\r\n    return (\r\n        <h1 className={styles[\"site-logo\"]}>\r\n            <Link to=\"/\">\r\n            <img src={logo} />\r\n            </Link>\r\n            <Link to=\"/\">\r\n                CC Scraper App\r\n            </Link>\r\n        </h1>\r\n    )\r\n\r\n}","import styles from \"./Sidebar.module.scss\";\r\n\r\nexport default function Sidebar({children, className, menuActive})   {\r\n    return (\r\n        <aside className={`${styles[\"main-sidebar\"]} ${className} ${menuActive ? styles.active : \"\"}`}>\r\n            {children}\r\n        </aside>\r\n    )\r\n}","import {useState, useEffect} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport styles from \"./Nav.module.scss\";\r\nimport \"./Nav.scss\";\r\n\r\n\r\nexport default function Nav({navObjectsArr, className}) {\r\n\r\n    \r\n\r\n\r\n    return (\r\n        <nav className={`${styles.nav} ${className} nav`}>\r\n            <ul>\r\n                {navObjectsArr.length > 0 && \r\n                \r\n                    navObjectsArr.map(item => {\r\n                        return (\r\n                            <li key={item.path}>\r\n                                <Link key={item.path} to={item.path}>{item.title}</Link>\r\n                                {item.children.length > 0 && \r\n                                    <ul>\r\n                                        {item.children.map(child => {\r\n                                            return (\r\n                                                <li key={child.path}><Link to={child.path}>{child.title}</Link></li>\r\n                                            )\r\n                                        })}\r\n                                    </ul>\r\n                                }\r\n                            </li>\r\n                        );\r\n                    })\r\n                }\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\n","import styles from \"./Footer.module.scss\";\r\n\r\nexport default function Footer({children})    {\r\n\r\n    const year = new Date().getFullYear();\r\n\r\n    return (\r\n        <footer className={styles[\"main-footer\"]}>\r\n            {children}\r\n            <p>&copy; CC Scraper App {year}. All Rights Reserved.</p>\r\n        </footer>\r\n    );\r\n}","// hooks\r\nimport { useState, useEffect } from \"react\";\r\nimport useAuth from \"../hooks/useAuth\";\r\nimport useActiveMenu from \"../hooks/useActiveMenu\";\r\n\r\n// routes\r\nimport mainNavObjectsArr from \"../routes\";\r\n\r\n// components\r\nimport Header from \"../components/Header\";\r\nimport Main from \"../components/Main\";\r\nimport SiteLogo from \"../components/SiteLogo\";\r\nimport Sidebar from \"../components/Sidebar\";\r\nimport Nav from \"../components/Nav\";\r\nimport Footer from \"../components/Footer\";\r\n\r\n\r\n\r\n// styles\r\nimport styles from \"./Layout.module.scss\";\r\n\r\nexport default function Layout({ children })  {\r\n\r\n    let [active, setActive] = useState(true),\r\n        [mainNav, setMainNav] = useState([])\r\n    \r\n    useActiveMenu();\r\n\r\n    const { isLoggedIn, loggedUser } = useAuth();\r\n\r\n    const openMenuHandler = (e) => {\r\n        setActive(prev => !prev);\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if(loggedUser)  {\r\n            setMainNav(prev => {\r\n                return mainNavObjectsArr.filter(item => item.permissionLevel <= loggedUser.permissionLevel);\r\n            })\r\n        }\r\n\r\n\r\n\r\n    }, [loggedUser])\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            {isLoggedIn && loggedUser && \r\n            <>\r\n                <div className={styles[\"main-section\"] } onClick={() => {\r\n                    if(active) setActive(prev => false);\r\n                }}>\r\n                    <Header loggedUser={loggedUser} className=\"card\" openMenuHandler={openMenuHandler} menuActive={active}></Header>\r\n                    <Main>{children}</Main>\r\n                    <Footer></Footer>\r\n                </div>\r\n                <Sidebar className=\"card main-sidebar\" menuActive={active}>\r\n                    <SiteLogo></SiteLogo>\r\n                    <Nav navObjectsArr={mainNav} className=\"main-nav\" />\r\n                </Sidebar>\r\n            </>\r\n            }\r\n        </div>\r\n    )\r\n}","// styles\r\nimport styles from \"./Card.module.scss\";\r\n\r\nexport default function Card({ children, className, style, width })  {\r\n    return (\r\n        <div className={`${styles.card} ${className}`} style={{...style, width}}>\r\n            {children}\r\n        </div>\r\n    )\r\n}","// decoupled\r\n// export const baseUrl = \"http://localhost:7747\";\r\n// export const fileUrl = `${baseUrl}/cc-files/`;\r\n// export const socketUrl = `${baseUrl}`;\r\n\r\n\r\n// http://ccscraperapp-env-1.eba-shgqnvwf.us-east-2.elasticbeanstalk.com/\r\n\r\n// export const baseUrl = \"http://ccscraperapp-env-2.eba-shgqnvwf.us-east-2.elasticbeanstalk.com;\r\n// export const fileUrl = `${baseUrl}/cc-files/`;\r\n// export const socketUrl = `${baseUrl}`;\r\n\r\n\r\n// combined\r\nconst domainName = \"ccscraperapp-env-3.eba-curuzm92.us-east-2.elasticbeanstalk.com\";\r\nconst protocol = \"http://\";\r\nconst wsProtocol = \"ws://\"\r\nexport const baseUrl = `${protocol}${domainName}`;\r\nexport const fileUrl = `${baseUrl}/cc-files/`;\r\nexport const socketUrl = `${wsProtocol}${domainName}`;","export default __webpack_public_path__ + \"static/media/logo.07fa326a.png\";","// hooks\r\nimport { useEffect, useState } from \"react\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\n// Components\r\nimport Card from \"../../components/Card\";\r\nimport { Button, TextField, FormControl, CircularProgress } from '@material-ui/core';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\n\r\n\r\n//config\r\nimport { baseUrl } from \"../../config/\"; \r\nimport logo from \"./logo.png\";\r\n\r\n\r\nimport styles from \"./Login.module.scss\";\r\n\r\nexport default function Login() {\r\n    \r\n    const { login } = useAuth();\r\n\r\n    let [username, setUsername] = useState(\"\"),\r\n        [password, setPassword] = useState(\"\"),\r\n        [loginMessage, setLoginMessage] = useState(null),\r\n        [loggingIn, setLoggingIn] = useState(null),\r\n        [messageType, setMessageType] = useState(null),\r\n        history = useHistory(),\r\n        abortCont = new AbortController();\r\n    \r\n\r\n\r\n    const onChangeHandler = (inputName, e) => {\r\n        let setter = inputName === \"username\" ? setUsername : setPassword,\r\n            value = e.target.value.trim();\r\n\r\n        setter(prev => value);\r\n    }\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n\r\n        setLoggingIn(prev => true);\r\n        setMessageType(prev => \"info\");\r\n        \r\n        \r\n        fetch(`${baseUrl}/api/login`, {\r\n            method : \"POST\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n            },\r\n            body : JSON.stringify({username, password}),\r\n            signal : abortCont.signal\r\n        })\r\n        .then(res => {\r\n            return res.json();\r\n        })\r\n        .then(jsonData => {\r\n            let {statusOk, message} = jsonData;\r\n            if(!statusOk)    {\r\n                throw Error(message);\r\n                \r\n            } else  {\r\n                login(jsonData);\r\n                history.push(\"/\");\r\n                setLoggingIn(false);\r\n                setLoginMessage(prev => \"You have successfully logged in.\");\r\n                setMessageType(prev => \"success\");\r\n\r\n            }\r\n        })\r\n        .catch(err => {\r\n            if(err.name !== \"AbortError\")   {\r\n                setLoggingIn(false);\r\n                setLoginMessage(err.message);\r\n                setMessageType(prev => \"error\");\r\n            }\r\n        });\r\n        \r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        return () => abortCont.abort();\r\n    }, []);\r\n    \r\n    return (\r\n        <div className={styles.login}>\r\n            <div className={styles[\"main-container\"]}>\r\n                \r\n                <Card className={styles[\"form-container\"]}>\r\n                    <div className={styles[\"logo-container\"]}>\r\n                        <img src={logo} className={styles[\"logo\"]} /><h1 className={styles[\"site-name\"]}>CC Scraper App</h1>\r\n                    </div>\r\n                    \r\n                    <form action=\"\" onSubmit={submitHandler.bind(this)}>\r\n                    \r\n                        <FormControl fullWidth>\r\n                            <TextField value={username}onChange={onChangeHandler.bind(this, \"username\")} label=\"Username\" />\r\n                            {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                        </FormControl>\r\n                        <FormControl fullWidth>\r\n                            <TextField type=\"password\" value={password}onChange={onChangeHandler.bind(this, \"password\")} label=\"Password\" />\r\n                            {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                        </FormControl>\r\n                        {!loggingIn && <Button variant=\"contained\" size=\"large\" color=\"primary\" disableElevation startIcon={<ExitToAppIcon />} type=\"submit\">Login</Button>}\r\n                        {loggingIn && <Button variant=\"contained\" size=\"large\" color=\"primary\" disabled disableElevation startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}}></CircularProgress>} type=\"submit\">Logging in...</Button>}\r\n                    </form>\r\n                    {loginMessage && messageType === \"success\" && <p className={styles[\"template-section-title\"]}>{loginMessage}</p>}\r\n                    {loginMessage && messageType === \"error\" && <p className={styles[\"error-message\"]}>{loginMessage}</p>}\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {useState, useEffect} from \"react\";\r\nimport  { baseUrl } from \"../config\";\r\nimport useAuth from \"./useAuth\";\r\n\r\nexport default function useFetch(apiEndPoint, fetchOptions, initialValue = [])  {\r\n\r\n    let [data, setData] = useState(initialValue),\r\n        [isLoading, setIsLoading] = useState(false),\r\n        [hasError, setHasError] = useState(false),\r\n        [fetchMessage, setFetchMessage] = useState(null),\r\n        { authToken } = useAuth(),\r\n        abortCont = new AbortController();\r\n\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        setFetchMessage(prev => \"We are currently fetching the data from the database.\");\r\n        setHasError(false);\r\n        if(authToken)   {\r\n            fetch(`${baseUrl}${apiEndPoint}`, {\r\n                ...fetchOptions,\r\n                headers : {\r\n                    \"Content-type\" : \"application/json\",\r\n                    \"x-auth-token\" : authToken,\r\n                },\r\n                signal : abortCont.signal\r\n            })\r\n            .then(res => {\r\n                if(!res.ok) {\r\n                    throw Error(\"We couldn't fetch the data\");\r\n                }\r\n                return res.json();\r\n            })\r\n            .then(jsonData => {\r\n                setIsLoading(false);\r\n                setHasError(false);\r\n                setFetchMessage(prev => \"We have successfully fetched the data.\");\r\n                setData(prev => jsonData);\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setIsLoading(false);\r\n                    setHasError(true);\r\n                    setFetchMessage(err.message);\r\n                }\r\n            })\r\n\r\n            return () => abortCont.abort();\r\n        }\r\n        \r\n    }, [authToken]);\r\n\r\n    return {data, setData, isLoading, hasError, fetchMessage};\r\n}","import styles from \"./EmptyCardFlex.module.scss\";\r\n\r\nexport default function EmptyCardFlex({ children, style, className }) {\r\n    return (\r\n        <div className={`${styles[\"empty\"]} ${className || \"\"}`}style={style}>\r\n            {children}\r\n        </div>\r\n    )\r\n}","// some non-db related helper functions\r\n\r\n\r\nexport function toUrl(str) {\r\n    return Array.from(str.toLowerCase().trim().replace(/[^a-zA-Z0-9]/g, \" \").split(\" \")).reduce((a, b) => {\r\n        if(b.trim() !== \"\") {\r\n            a.push(b);\r\n        }\r\n        return a;\r\n    }, []).join(\"-\");\r\n}\r\n\r\nexport function enumerate(arr, and = false)  {\r\n    arr = [...arr];\r\n    if(arr.length > 1)  {\r\n        let lastIndex = arr.pop();\r\n        return `${arr.join(\", \")}, ${and ? \"and\" : \"or\"} ${lastIndex}`;  \r\n    } else  {\r\n        return arr[0];\r\n    }\r\n}\r\n\r\nexport function toCamelCase(str, url=false, initialCap=false)  {\r\n    let separator = url ? \"-\" : \" \";\r\n    return str.toLowerCase().split(`${separator}`).map((item, index) => index === 0 && !initialCap ? item : toCapitalize(item)).join(\"\");\r\n}\r\n\r\nexport function toNormalString(str, previousFormat = \"camel-case\")    {\r\n    if(previousFormat === \"camel-case\") {\r\n        str = str.replace(/([A-Z])/g, (char) => ` ${char.toUpperCase()}`);\r\n    } else if(previousFormat === \"underscored\") {\r\n        str = str.split(\"_\").map(item => toCapitalize(item)).join(\" \");\r\n    } else  {\r\n        str = str.split(\"-\").map(item => toCapitalize(item)).join(\" \");\r\n    }\r\n    return toCapitalize(str);\r\n}\r\n\r\nexport function toCapitalize(str) {\r\n    return str.split(\"\").map((char, index) =>  index === 0 ? char.toUpperCase() : char).join(\"\").trim();\r\n}\r\n\r\nexport function toCapitalizeAll(str)   {\r\n    return str.split(\" \").map(item => toCapitalize(item)).join(\" \");\r\n}\r\n\r\n\r\n    \r\n\r\n\r\n\r\n     ","import { toNormalString } from \"../string\";\r\n\r\n\r\nexport function getAllObjectKeys(objects) {\r\n    return objects.reduce((a, b) => {\r\n        for(let key of Object.keys(b))  {\r\n            if(!a.includes(key))    {\r\n                a.push(key);\r\n            }\r\n        }\r\n        return a;\r\n    }, []);\r\n}\r\n\r\nexport function sortObjectsByDate(arr)  {\r\n    arr.sort((a, b) => {\r\n        let date1 = new Date(a.releasedDate).getTime(),\r\n            date2 = new Date(a.releasedDate).getTime();\r\n        return date1 < date2 ? -1 : date1 > date2 ? 1 : 0; \r\n    })\r\n}\r\n\r\n\r\nexport function objectToString(object, delimiter=\", \") {\r\n    let output = [];\r\n    for(let key in object)  {\r\n        output.push(`${toNormalString(key)} : ${toNormalString(object[key]).toUpperCase()}`);\r\n    }\r\n    return output.join(delimiter);\r\n}\r\n\r\nexport function isObjectUnique(obj, objectsArray, keys=[])   {   \r\n    let overAllResults = []; \r\n    for(let object of objectsArray)  {\r\n        let results = [];\r\n        if(keys.length) {\r\n            for(let key of keys)    {\r\n                results.push(obj[key] !== object[key]);\r\n            }\r\n        } else  {\r\n            for(let key in obj) {\r\n                results.push(obj[key] !== object[key]);\r\n            }\r\n        }\r\n        \r\n        overAllResults.push(results.every(res => res));\r\n    }\r\n    return overAllResults.every(res => res);\r\n}\r\n\r\nexport function filterUnlistedObjects(localObjects, allObjects, keys=[])    {\r\n    return allObjects.filter(obj => isObjectUnique(obj, localObjects, keys));\r\n}\r\n\r\nexport function isObjectInArray(object, array = []) {\r\n    return array.some(item => {\r\n        let results = [];\r\n        for(let key in object)    {\r\n            results.push(object[key] === item[key]);\r\n        }\r\n        return results.every(res => res);\r\n    });\r\n}\r\n\r\nexport function sortArrayByObjectProp(arr, prop, asc = true)   {\r\n    return arr.sort((a, b) => {\r\n        if(!isNaN(Number(a[prop]))) {\r\n            return asc ? Number(a[prop]) - Number(b[prop]) : Number(b[prop]) - Number(a[prop]);\r\n        } else  {\r\n            if(asc) {\r\n                return a[prop] < b[prop] ? -1 : a[prop] > b[prop] ? 1 : 0; \r\n            } else  {\r\n                return a[prop] < b[prop] ? 1 : a[prop] > b[prop] ? -1 : 0;\r\n            }\r\n            \r\n        }\r\n    });\r\n}\r\n\r\nexport function getNestedObjectsArray({dataArray, relationalProp, uniqueProp, sortByProp = null, ascSortOrder = true})  {\r\n    \r\n    if(!dataArray.length)   {\r\n        return;\r\n    }\r\n\r\n    sortByProp = sortByProp ? sortByProp : Object.keys(dataArray[0]).includes(\"id\") ? \"id\" : Object.keys(dataArray[0])[0];\r\n\r\n    let sortedArray = [];\r\n    dataArray.forEach(item => item.children = []);\r\n\r\n\r\n    function recursiveNesting(dataArray, relationalProp, uniqueProp) {\r\n        let parentArray = [],\r\n            childrenArray = [];\r\n\r\n        dataArray.forEach(data => {\r\n            let children = dataArray.filter(item => data[uniqueProp] === item[relationalProp]),\r\n                parent = dataArray.find(item => data[relationalProp] === item[uniqueProp]);    \r\n            if(!children.length)    {\r\n                if(!parent) {\r\n                    sortedArray.push(data);\r\n                } else  {\r\n                    childrenArray.push(data);\r\n                }\r\n            } else{\r\n                parentArray.push(data);\r\n            }\r\n        });\r\n\r\n        parentArray = parentArray.map(parent => {\r\n            parent.children.push(...childrenArray.filter(child => child[relationalProp] === parent[uniqueProp]));\r\n            parent.children = sortArrayByObjectProp(parent.children, sortByProp, ascSortOrder);\r\n            return parent;\r\n        });\r\n\r\n        sortArrayByObjectProp(parentArray, sortByProp, ascSortOrder);\r\n\r\n        if(parentArray.length)  {\r\n            recursiveNesting(parentArray, relationalProp, uniqueProp, sortByProp, ascSortOrder);\r\n        }   \r\n    }\r\n    \r\n\r\n    recursiveNesting(dataArray, relationalProp, uniqueProp);\r\n\r\n    return sortArrayByObjectProp(sortedArray, sortByProp, ascSortOrder);\r\n    \r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\n// config\r\nimport { fileUrl } from '../../config/';\r\n\r\n// utils\r\nimport { toCapitalizeAll, toNormalString } from \"../../utilities/string/index\"\r\nimport { getAllObjectKeys } from \"../../utilities/objects-array/index\";\r\n\r\n// hooks\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\n// css\r\nimport styles from \"./MuiTable.module.scss\";\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    container: {\r\n        maxHeight: 770,\r\n    },\r\n});\r\n  \r\nexport default function StickyHeadTable({tableData, uniqueId, excludedColumns}) {\r\n    const classes = useStyles();\r\n    const [page, setPage] = React.useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(25);\r\n    const { fileToken } = useAuth();\r\n\r\n    const rows = tableData;\r\n    const columns = Array.isArray(tableData) && tableData.length > 0 ? getAllObjectKeys(tableData).map(item => {\r\n        return {\r\n            id: item,\r\n            label: item === \"_id\" ? \"ID\" : item === \"imagePaths\" ? \"Images\" : toCapitalizeAll(toNormalString(item)),\r\n            align : 'center',\r\n            minWidth : 170,\r\n            maxWidth : 400,\r\n        }\r\n    }).filter(item => {\r\n        return !excludedColumns.includes(item.id);\r\n    }) : [];\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    return (\r\n        <Paper className={`${classes.root}`}>\r\n        <TableContainer className={`${classes.container} ${styles[\"mui-table-container\"]}`}>\r\n            <Table stickyHeader aria-label=\"sticky table\" className={styles[\"mui-table\"]}>\r\n            <TableHead className={styles[\"thead\"]}>\r\n                {columns.length > 0 && \r\n                <TableRow>\r\n                {columns.filter(column => column.id !== uniqueId).map((column) => (\r\n                    <TableCell\r\n                    key={column.id}\r\n                    align={column.align}\r\n                    style={{ minWidth: column.minWidth, color : \"#3a9eb5\" }}\r\n                    >\r\n                    {column.label}\r\n                    </TableCell>\r\n                ))}\r\n                </TableRow>\r\n                }   \r\n            </TableHead>\r\n            \r\n            <TableBody className={styles[\"tbody\"]}>\r\n                {rows.length > 0 && rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, index) => {\r\n                return (\r\n                    <TableRow hover role=\"checkbox\" tabIndex={-1} key={uniqueId ? row[uniqueId] : index}>\r\n                        \r\n                    {columns.filter(column => column.id !== uniqueId).map((column) => {\r\n                        const value = row[column.id];\r\n\r\n                        if(column.id === \"imagePaths\")  {\r\n                            let imagePaths = value.map(item => item.trim());\r\n                            return  (\r\n                                <TableCell className={styles[\"image-container\"]}key={column.id} align={column.align}>\r\n                                    {imagePaths.length > 1 && <div className={styles[\"image-slider-container\"]}>\r\n                                        <div className={styles[\"image-slider-inner\"]} >\r\n                                            {imagePaths.map(item => {\r\n                                                return (\r\n                                                    <div className={styles[\"image-container\"]}>\r\n                                                        <img key={item} src={`${fileUrl}${fileToken}?filePath=${item}`} alt=\"\" />\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    </div>}\r\n                                    {imagePaths.length < 2 && imagePaths.map(item => {\r\n                                        return (\r\n                                            <img key={item} src={`${fileUrl}${fileToken}?filePath=${item}`} alt=\"\" />\r\n                                        );\r\n                                    })}\r\n                                </TableCell>\r\n                            );\r\n                        } else  {\r\n                            \r\n                            return (\r\n                                <TableCell key={column.id} align={column.align}>\r\n                                    <div className={styles[\"table-cell\"]} style={{ minWidth: column.minWidth, textAlign : column.align, justifyContent : column.align }}>\r\n                                        {value || \"\"}\r\n                                    </div>\r\n                                </TableCell>\r\n                            );\r\n                        }\r\n                    })}\r\n                    </TableRow>\r\n                );\r\n                })}\r\n            </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n            rowsPerPageOptions={[10, 25, 100]}\r\n            component=\"div\"\r\n            count={rows.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onPageChange={handleChangePage}\r\n            onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n        </Paper>\r\n    );\r\n}","// core\r\nimport { useHistory } from \"react-router\";\r\nimport { useEffect } from \"react\";\r\n\r\n// hooks\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport useActiveMenu from \"../../hooks/useActiveMenu\";\r\n\r\n// Components\r\nimport Card from \"../../components/Card\";\r\nimport EmptyCardFlex from \"../../components/EmptyCardFlex\";\r\nimport MuiTable from \"../../components/MuiTable\";\r\n\r\n// import SaveIcon from '@material-ui/icons/Save';\r\nimport { Button } from '@material-ui/core';\r\nimport AddUserIcon from '@material-ui/icons/PersonAdd';\r\nimport ListAlt from '@material-ui/icons/ListAlt';\r\n\r\nimport styles from \"./Dashboard.module.scss\";\r\n\r\n\r\nexport default function Dashboard({pageTitle}) {\r\n\r\n    let history = useHistory(),\r\n        { activeMenuHandler } = useActiveMenu();\r\n\r\n    useEffect(() => {\r\n        history.push(\"/manage-scrapers/\");\r\n\r\n        // activeMenuHandler();\r\n    })\r\n\r\n    return  (\r\n        <>  \r\n            <EmptyCardFlex className={styles[\"main-container\"]}>\r\n                <h1 className=\"page-title\">{pageTitle}</h1>\r\n                <EmptyCardFlex className={styles[\"grid-container\"]}>\r\n\r\n                    <Card className={styles[\"data-container\"]}>\r\n\r\n                    </Card>\r\n                    <Card className={styles[\"users-container\"]}>\r\n\r\n                    </Card>\r\n\r\n                    <Card className={styles[\"scrapers-container\"]}>\r\n\r\n                    </Card>\r\n\r\n                    <Card className={styles[\"profile-container\"]}>\r\n\r\n                    </Card>\r\n                </EmptyCardFlex>\r\n            </EmptyCardFlex>\r\n        </>\r\n    )\r\n\r\n}","// core\r\nimport { useHistory } from \"react-router\";\r\n\r\n// hooks\r\nimport useFetch from \"../../hooks/useFetch\";\r\n\r\n// Components\r\nimport Card from \"../../components/Card\";\r\nimport EmptyCardFlex from \"../../components/EmptyCardFlex\";\r\nimport MuiTable from \"../../components/MuiTable\";\r\n\r\n// import SaveIcon from '@material-ui/icons/Save';\r\nimport { Button, Divider, CircularProgress } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Add from '@material-ui/icons/Add';\r\nimport PlayIcon from '@material-ui/icons/PlayArrow';\r\nimport ListAlt from '@material-ui/icons/ListAlt';\r\n\r\n\r\n// styles\r\nimport styles from \"./ManageScrapers.module.scss\";\r\n\r\n// url;\r\nimport { getAllObjectKeys } from \"../../utilities/objects-array\";\r\n\r\n\r\n\r\nexport default function ManageScrapers({pageTitle}) {\r\n\r\n    let history = useHistory(),\r\n        {data : scrapers, isLoading : isLoadingTableData} = useFetch(\"/api/scrapers\"),\r\n        tableData = scrapers.map(item => {\r\n            const optionClickHandler = (value) => {\r\n                history.push(value);\r\n            }\r\n\r\n            return {\r\n                ...item, \r\n                // action : <DropdownButton size=\"small\" dropDownOptions={dropDownOptions} optionClickHandler={optionClickHandler} />\r\n                action : <div className={styles[\"action-column\"]} style={{display: \"flex\", flexDirection : \"row\", gap : \".7rem\", justifyContent: \"center\"}}>\r\n                    <Button \r\n                        \r\n                        onClick={optionClickHandler.bind(null, `/manage-scrapers/run-script/${item._id}`)}\r\n                        startIcon={<PlayIcon />} \r\n                        style={{backgroundColor: \"#4fbf4f\", color : \"white\", whiteSpace : \"nowrap\", minWidth : \"125px\", maxWidth : \"250px\"}}\r\n                        size=\"small\">Run the Script</Button>  \r\n                    <Button \r\n                        onClick={optionClickHandler.bind(null, `/manage-scrapers/${item._id}`)}\r\n                        startIcon={<ListAlt />} \r\n                        size=\"small\" \r\n                        style={{backgroundColor: \"rgb(85 159 171)\", color : \"white\", whiteSpace : \"nowrap\", minWidth : \"125px\", maxWidth : \"250px\"}}>View Details</Button></div>\r\n            }\r\n        }),\r\n        includedKeys = [\"_id\", \"siteName\", \"productBrand\", \"groupIdentifierKey\", \"scraperType\", \"apiRoute\", \"action\", \"anotherAction\"],\r\n        excludedColumns = getAllObjectKeys(tableData).filter(key => !includedKeys.includes(key));\r\n        \r\n    \r\n    const createScraperButtonClickHandler = (e) => {\r\n        e.preventDefault();\r\n        history.push(\"/manage-scrapers/create-scraper/\");\r\n    }\r\n    \r\n\r\n    return  (\r\n        <>  \r\n            <h1 className=\"page-title\">{pageTitle}</h1>\r\n            <EmptyCardFlex flexDirection=\"column\">\r\n                <Card>\r\n                    <div className={styles[\"buttons-container\"]}>\r\n                        <Button onClick={createScraperButtonClickHandler} type=\"button\" variant=\"contained\" size=\"medium\" color=\"primary\" disableElevation startIcon={<Add />} >\r\n                            Create a new Scraper\r\n                        </Button>\r\n                    </div>\r\n                    {isLoadingTableData && \r\n                        <>\r\n                            <Divider style={{ margin : \"1.4rem 0\"}}></Divider>\r\n                            <Alert severity=\"info\"><CircularProgress style={{height: \"20px\", width: \"20px\"}}></CircularProgress> Loading the Scraper Script table</Alert>\r\n                        </>\r\n                    }\r\n                    {\r\n                        tableData.length > 0 && \r\n                        <>\r\n                            <Divider style={{ margin : \"1.4rem 0\"}}></Divider>\r\n                            <h6 className={styles[\"template-subtitle\"]}>These are the current available scripts</h6>\r\n                            <MuiTable tableData={tableData} uniqueId=\"_id\" excludedColumns={excludedColumns}></MuiTable>\r\n                        </>\r\n                    }    \r\n                </Card>\r\n            </EmptyCardFlex>  \r\n        </>\r\n    )\r\n\r\n}","import CodeEditor from '@uiw/react-textarea-code-editor';\r\n\r\nexport default function CodeEditor2({onChange, padding, value, style, placeholder, disabled}) {\r\n  \r\n    return (\r\n        <>\r\n        {!disabled && <CodeEditor\r\n            value={value}\r\n            language=\"js\"\r\n            placeholder={placeholder || \"You can now write some JS code...\"}\r\n            onChange={onChange}\r\n            padding={padding || 15}\r\n            \r\n            style={{\r\n                fontSize: 14,\r\n                backgroundColor: \"#f5f5f5\",\r\n                color : \"#333\",\r\n                fontFamily: 'ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace',\r\n                minHeight : \"500px\",\r\n                border : \"1px solid #dedede\",\r\n                display : \"grid\",\r\n                gridAutoFlow : \"row\",\r\n                ...style\r\n            }}\r\n        />}\r\n        {disabled && <CodeEditor\r\n            value={value}\r\n            language=\"js\"\r\n            placeholder={placeholder || \"You can now write some JS code...\"}\r\n            onChange={onChange}\r\n            padding={padding || 15}\r\n            disabled\r\n            style={{\r\n                fontSize: 14,\r\n                backgroundColor: \"#f5f5f5\",\r\n                color : \"#333\",\r\n                fontFamily: 'ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace',\r\n                minHeight : \"500px\",\r\n                minWidth : \"250px\",\r\n                width : \"100%\",\r\n                display : \"grid\",\r\n                gridAutoFlow : \"row\",\r\n                border : \"1px solid #dedede\",\r\n                ...style\r\n            }}\r\n        />}\r\n        </>\r\n    );\r\n}","import { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport styles from \"./Select.module.scss\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n    //   margin: theme.spacing(1),\r\n      minWidth: 250,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  }));\r\n\r\nexport default function Select2({label, options, uniqueProp, optionLabelProp, selectOnchangeHandler, defaultValue})    {\r\n    const classes = useStyles();\r\n    const [selectedOption, setSeletedOption] = useState(\"\");\r\n\r\n    const handleChange = (e) => {\r\n        e.preventDefault();\r\n\r\n        setSeletedOption(prev => e.target.value);\r\n        selectOnchangeHandler(e.target.value);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(defaultValue) {\r\n            setSeletedOption(defaultValue[uniqueProp]);\r\n        }\r\n    }, [defaultValue, uniqueProp])\r\n\r\n    return (\r\n        <FormControl className={`${classes.formControl} ${styles.select}`}>\r\n            <InputLabel id=\"demo-simple-select-label\">{label}</InputLabel>\r\n            <Select\r\n            labelId=\"demo-simple-select-label\"\r\n            id=\"demo-simple-select\"\r\n            value={selectedOption}\r\n            onChange={handleChange}\r\n            >   \r\n                {options.length > 0 && options.map(item => {\r\n                    return (\r\n                        <MenuItem key={item[uniqueProp]} value={item[uniqueProp]} selected>{item[optionLabelProp]}</MenuItem>\r\n                    )\r\n                })}\r\n                {options.length === 0 && options.map(item => {\r\n                    return (\r\n                        <MenuItem disabled key={item[uniqueProp]} value={item[uniqueProp]}>{item[optionLabelProp]}</MenuItem>\r\n                    )\r\n                })}\r\n            </Select>\r\n        </FormControl>\r\n    )\r\n}","// core\r\nimport { useState, useEffect } from \"react\";\r\n\r\n// styles\r\nimport styles from \"./SelectSiteResources.module.scss\";\r\nimport { Button } from '@material-ui/core';\r\nimport NavigateNext from '@material-ui/icons/NavigateNext';\r\nimport Create from '@material-ui/icons/Create';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\n\r\n// components\r\nimport Select from \"../../components/Select\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function SelectSiteResource({selectOptions, selectedSiteResource, selectOnchangeHandler, setSelectHandler, createReadyHandler})    {\r\n\r\n    let [hasSelected, setHasSelected] = useState(false),\r\n        history = useHistory()\r\n\r\n\r\n    const selectButtonHandler = (e) => {\r\n        e.preventDefault();\r\n        createReadyHandler();\r\n    };\r\n\r\n    const changeHandler = (value) =>   {\r\n        setHasSelected(prev => true);\r\n        selectOnchangeHandler(value);\r\n    }\r\n\r\n    const cancelHandler = () => {\r\n        history.push(\"/manage-scrapers\")\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(selectedSiteResource.siteName !== \"\")    {\r\n            setHasSelected(prev => true);\r\n        }\r\n    }, [selectedSiteResource]);\r\n\r\n    return (\r\n        <div className={styles[\"select-container\"]}>\r\n            <h6 className={styles[\"template-title\"]}>Select a Site Resource.</h6>\r\n            <div>\r\n                <Select defaultValue={selectedSiteResource} selectOnchangeHandler={changeHandler} label=\"Select a Site Resource\" options={selectOptions} uniqueProp=\"_id\" optionLabelProp=\"siteName\"></Select>\r\n                \r\n            </div>\r\n\r\n            {selectedSiteResource && selectedSiteResource.siteName !== \"\" && <div className={styles[\"site-resource-info-container\"]}>\r\n                <p>Site Name : {selectedSiteResource.siteName}</p>\r\n                <p>Site Url : {selectedSiteResource.siteUrl}</p>\r\n            </div>}\r\n\r\n            <div className={styles[\"buttons-container\"]}>\r\n                <Button onClick={cancelHandler} variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<Cancel />}>Cancel</Button>\r\n                {!hasSelected && <Button  variant=\"contained\" size=\"small\" color=\"primary\" disableElevation disabled startIcon={<NavigateNext />}>Use Selected Resource</Button>}\r\n                {hasSelected && <Button onClick={selectButtonHandler.bind(this)} variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<NavigateNext />}>Use Selected Resource</Button>}\r\n                <Button onClick={setSelectHandler.bind(this, false)} variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Create />}>Create a New Site Resource</Button>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}   \r\n\r\n","import { useState, useEffect } from \"react\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\n// Components\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\n\r\n// config\r\nimport { baseUrl } from \"../../config\";\r\n\r\n// styles\r\nimport styles from \"./CreateSiteResource.module.scss\";\r\n\r\n\r\nexport default function CreateSiteResource({siteResourceHandler, setSelectHandler, createReadyHandler}) {\r\n\r\n    let [siteResource, setSiteResource] = useState({siteName : \"\", siteUrl : \"\"}),\r\n        [message, setMessage] = useState(null),\r\n        [isLoading, setIsLoading] = useState(false),\r\n        [messageType, setMessageType] = useState(null),\r\n        { authToken } = useAuth(),\r\n        url = `${baseUrl}/api/site-resources`,\r\n        abortCont = new AbortController();\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        \r\n\r\n        let { siteName, siteUrl } = siteResource;\r\n        if((siteName.trim().length) && (siteUrl.trim().length)) {\r\n            setMessage(null);\r\n            setMessageType(null);\r\n            setIsLoading(true);\r\n\r\n            fetch(url, {\r\n                method : \"POST\",\r\n                headers : {\r\n                    \"Content-type\" : \"application/json\",\r\n                    \"x-auth-token\" : authToken\r\n                },\r\n                body : JSON.stringify(siteResource),\r\n                signal : abortCont.signal\r\n            })\r\n                .then(res => {\r\n                    return res.json();\r\n                })\r\n                .then(data => {\r\n                    if(data.statusOk)   {\r\n                        setMessage('you have successfully saved the data');\r\n                        setMessageType(\"success\");\r\n                        siteResourceHandler(data.data);\r\n                        setTimeout(() => createReadyHandler(), 777);\r\n                    } else  {\r\n                        throw Error(`Data NOT SAVED : ${data.message}`);\r\n                    }\r\n                    setIsLoading(false);\r\n                })\r\n                .catch(err => {\r\n                    if(err.name !== \"AbortError\")   {\r\n                        setMessage(err.message);\r\n                        setMessageType(\"error\");\r\n                        setIsLoading(false);\r\n                    }\r\n                });\r\n        } else  {\r\n            setMessage(prev => \"Please make sure that the Site Name and Site URL fields are not empty.\");\r\n            setMessageType(prev => \"error\");\r\n        }\r\n\r\n        \r\n    }   \r\n\r\n\r\n    const changeHandler = (inputName, e) => {\r\n        setSiteResource(prev => ({...prev, [inputName] : e.target.value}));\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        // clearing memory leaks on unmount.\r\n        return () => abortCont.abort();\r\n    }, []);\r\n\r\n    return (\r\n        <div className={styles[\"form-container\"]}>\r\n            <h6 className={styles[\"template-title\"]}>Create a new Site Resource</h6>\r\n            <form onSubmit={submitHandler} className={styles.form} noValidate autoComplete=\"off\">\r\n                <div className={styles[\"input-container\"]}>\r\n                    <TextField onChange={changeHandler.bind(this, \"siteName\")} label=\"Site Name\" />\r\n                    <TextField onChange={changeHandler.bind(this, \"siteUrl\")} id=\"siteUrl\" label=\"Site URL\" />\r\n                </div>\r\n                \r\n                {true && \r\n                    <div className={styles[\"buttons-container\"]}>\r\n                    {!isLoading && <Button type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<SaveIcon />} >\r\n                        Save\r\n                    </Button>}\r\n                    {isLoading && <Button type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disableElevation disabled startIcon={<SaveIcon />} >\r\n                        Saving...\r\n                    </Button>}\r\n                    {!isLoading && <Button onClick={setSelectHandler.bind(this, true)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<Cancel />} >\r\n                        Cancel\r\n                    </Button>}\r\n                    {isLoading && <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation disabled startIcon={<Cancel />} >\r\n                        Cancel...\r\n                    </Button>}\r\n                    </div>\r\n                }\r\n            </form>\r\n            {message && \r\n                <>\r\n                {messageType === \"error\" && \r\n                    <p style={{color : \"red\"}}>{message}</p>\r\n                }\r\n                {messageType === \"success\" &&\r\n                    <p style={{color : \"green\"}}>{message}</p>\r\n                }\r\n                </>\r\n            }\r\n        </div>\r\n    )\r\n}","import { useState, useEffect } from \"react\";\r\n\r\n// Components\r\nimport { Button, TextField, Chip, FormControl } from '@material-ui/core';\r\nimport PreviousIcon from '@material-ui/icons/NavigateBefore';\r\nimport NextIcon from '@material-ui/icons/NavigateNext';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport Add from '@material-ui/icons/Add';\r\n\r\n// styles\r\nimport styles from \"./CreateScraperData.module.scss\";\r\n\r\nexport default function CreateScraperData({currentValue, setScraperDataHandler, backButtonHandler, cancelHandler}) {\r\n\r\n    let [scraperDetails, setScraperDetails] = useState(currentValue),\r\n        [productBrandErrorMessage, setProductBrandErrorMessage] = useState(null),\r\n        [imagePropNameErrorMessage, setImagePropNameErrorMessage] = useState(null),\r\n        [uniqueSplitErrorMessage, setUniqueSplitErrorMessage] = useState(null),\r\n        [arrItemError, setArrItemError] = useState({}),\r\n        [arrItem, setArrItem] = useState({\r\n            splitItem : \"\",\r\n            sharedItem : \"\",\r\n            csvExcludedPropsItem : \"\",\r\n        });\r\n        // objectKeys = [getAllObjectKeys];\r\n\r\n\r\n    const submitHandler =(e) => {\r\n        e.preventDefault();\r\n        let { productBrand, imagePropName, imageNameObject } = scraperDetails;\r\n        if(productBrand && imagePropName && imageNameObject.split.length > 0)   {\r\n            setProductBrandErrorMessage(null);\r\n            setUniqueSplitErrorMessage(null);\r\n            setImagePropNameErrorMessage(null);\r\n\r\n            setScraperDataHandler(scraperDetails, true);\r\n        } else  {\r\n            setScraperDataHandler(scraperDetails, false);\r\n            if(!productBrand)   {\r\n                setProductBrandErrorMessage(\"Product Brand is required.\");\r\n            }\r\n            if(!imagePropName)   {\r\n                setImagePropNameErrorMessage(\"Image Prop Name is required.\");\r\n            }\r\n            if(!imageNameObject.split.length)   {\r\n                setUniqueSplitErrorMessage(\"It is required to at least have a single Unique / Split Property.\")\r\n            }\r\n        }\r\n    }\r\n\r\n    const changeHandler = (prop, e) => {\r\n        setScraperDetails(prev => ({...prev, [prop] : e.target.value}));\r\n    }\r\n\r\n    const arrInputChangeHandler = (prop, e) => {\r\n        let keys = Object.keys(arrItemError),\r\n            key = keys.find(item => prop.includes(item));\r\n        setArrItemError(prev => {\r\n            let obj = {...prev};\r\n            obj[key] = null;\r\n            return obj;\r\n        })\r\n        setArrItem(prev => ({...prev, [prop] : e.target.value}));\r\n    }\r\n\r\n    const addItemToArrayInObjectHandler = (propName, arrName = null, e) => {\r\n        e.preventDefault();\r\n        let value;\r\n        if(arrName) {\r\n            value = arrItem[`${arrName}Item`];\r\n            if(value.trim() !== \"\") {\r\n                setArrItem(prev => ({...prev, [`${arrName}Item`] : \"\"}));\r\n            }\r\n            \r\n        } else  {\r\n            value = arrItem[`${propName}Item`];\r\n            if(value.trim() !== \"\") {\r\n                setArrItem(prev => ({...prev, [`${propName}Item`] : \"\"}));\r\n            }\r\n        }\r\n        if(value.trim() !== \"\") {\r\n            setScraperDetails(prev => {\r\n                if(value.trim().length) {\r\n                    if(arrName) {\r\n                        let arr = [...prev[propName][arrName]];\r\n                        if(!arr.includes(value))    {\r\n                            arr.push(value)\r\n                        } else  {\r\n                            setArrItemError(prev => {\r\n                                return {\r\n                                    ...prev,\r\n                                    [arrName] : `We already have \"${value}\" in ${arrName} array of data.`\r\n                                };\r\n                            });\r\n                        }\r\n                        return {\r\n                            ...prev, \r\n                            [propName] : {\r\n                                ...prev[propName],\r\n                                [arrName] : arr\r\n                            }\r\n                        };\r\n                    } else  {\r\n                        let arr = [...prev[propName]];\r\n                        if(!arr.includes(value))    {\r\n                            arr.push(value)\r\n                        } else  {\r\n                            setArrItemError(prev => {\r\n                                return {\r\n                                    ...prev,\r\n                                    [propName] : `We already have \"${value}\" in ${propName} array of data.`\r\n                                };\r\n                            });\r\n                        }\r\n                        return {\r\n                            ...prev, \r\n                            [propName] : arr,\r\n                        };\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    const handleDeleteChipEntry = (propName, arrName = null, value, e) => {\r\n        e.preventDefault();\r\n        \r\n        setScraperDetails(prev => {\r\n            if(value.trim().length) {\r\n                if(arrName) {\r\n                    let arr = prev[propName][arrName].filter(item => item !== value);\r\n\r\n                    return {\r\n                        ...prev, \r\n                        [propName] : {\r\n                            ...prev[propName],\r\n                            [arrName] : arr\r\n                        }\r\n                    };\r\n                } else  {\r\n                    let arr = prev[propName].filter(item => item !== value);\r\n\r\n                    return {\r\n                        ...prev, \r\n                        [propName] : arr,\r\n                    };\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        \r\n    }, [arrItemError])\r\n\r\n    return (\r\n        <div className={`${styles[\"form-container\"]}`}>\r\n            <h6 className={styles[\"template-title\"]}>Create Scraper Details</h6>\r\n            <form className={styles.form} onSubmit={submitHandler}>\r\n                <div className={styles[\"input-container\"]}>\r\n                    <div className={styles[\"field-container\"]}>\r\n                        <FormControl fullWidth>\r\n                            <TextField value={scraperDetails.productBrand} onChange={changeHandler.bind(this, \"productBrand\")} label=\"Product Brand\" />\r\n                        </FormControl>\r\n                        {productBrandErrorMessage && <p className={styles[\"error-message\"]}>{productBrandErrorMessage}</p>}\r\n                    </div>\r\n                    <div className={styles[\"field-container\"]}>\r\n                        <FormControl fullWidth>\r\n                            <TextField value={scraperDetails.imagePropName} onChange={changeHandler.bind(this, \"imagePropName\")} label=\"Image Prop Name\" />\r\n                        </FormControl>\r\n                        {imagePropNameErrorMessage && <p className={styles[\"error-message\"]}>{imagePropNameErrorMessage}</p>}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Array containers : split */}\r\n                <div className={styles[\"input-container-array\"]}>\r\n                    <p className={styles[\"description\"]}>Unique Properties of product to be used as part of the image name.</p>\r\n                    <div className={styles[\"result-container\"]}>\r\n                        {scraperDetails.imageNameObject.split.length > 0 && \r\n                            scraperDetails.imageNameObject.split.map((item, index) => {\r\n                                return (\r\n                                    <Chip\r\n                                        key={`${item}-${index}`}\r\n                                        label={item}\r\n                                        onDelete={handleDeleteChipEntry.bind(this, \"imageNameObject\", \"split\", item)}\r\n                                        deleteIcon={<Cancel />}\r\n                                    />\r\n                                );\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div className={styles[\"input-container\"]}>\r\n                        <div className={styles[\"field-container\"]}>\r\n                            <TextField value={arrItem.splitItem} onChange={arrInputChangeHandler.bind(this, \"splitItem\")} fullWidth label=\"Unique / Split\"  />\r\n                            {uniqueSplitErrorMessage && <p className={styles[\"error-message\"]}>{uniqueSplitErrorMessage}</p>}\r\n                            {arrItemError.split !== null && <p className={styles[\"error-message\"]}>{arrItemError.split}</p>}\r\n                        </div>\r\n                        <Button onClick={addItemToArrayInObjectHandler.bind(this, \"imageNameObject\", \"split\")} type=\"button\" variant=\"contained\" size=\"small\" disableElevation startIcon={<Add />} >\r\n                            Add\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Array containers : shared */}\r\n                <div className={styles[\"input-container-array\"]}>\r\n                    <p className={styles[\"description\"]}>Shared Properties of the product to be used as part of the image name.</p>\r\n                    <div className={styles[\"result-container\"]}>\r\n                        {scraperDetails.imageNameObject.shared.length > 0 && \r\n                            scraperDetails.imageNameObject.shared.map((item, index) => {\r\n                                return (\r\n                                    <Chip\r\n                                        key={`${item}-${index}`}\r\n                                        label={item}\r\n                                        onDelete={handleDeleteChipEntry.bind(this, \"imageNameObject\", \"shared\", item)}\r\n                                        deleteIcon={<Cancel />}\r\n                                    />\r\n                                );\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div className={styles[\"input-container\"]}>\r\n                        <div className={styles[\"field-container\"]}>\r\n                            <TextField fullWidth value={arrItem.sharedItem} onChange={arrInputChangeHandler.bind(this, \"sharedItem\")} label=\"Shared\" />\r\n                            {arrItemError.shared !== null && <p className={styles[\"error-message\"]}>{arrItemError.shared}</p>}\r\n                        </div>\r\n                        <Button onClick={addItemToArrayInObjectHandler.bind(this, \"imageNameObject\", \"shared\")} type=\"button\" variant=\"contained\" size=\"small\" disableElevation startIcon={<Add />} >\r\n                            Add\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Array containers : csv excluded props */}\r\n                <div className={styles[\"input-container-array\"]}>\r\n                    <p className={styles[\"description\"]}>Excluded Properties when creating the CSV file.</p>\r\n                    <div className={styles[\"result-container\"]}>\r\n                        {scraperDetails.csvExcludedProps.length > 0 && \r\n                            scraperDetails.csvExcludedProps.map((item, index) => {\r\n                                return (\r\n                                    <Chip\r\n                                        key={`${item}-${index}`}\r\n                                        label={item}\r\n                                        onDelete={handleDeleteChipEntry.bind(this, \"csvExcludedProps\", null, item)}\r\n                                        deleteIcon={<Cancel />}\r\n                                    />\r\n                                );\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div className={styles[\"input-container\"]}>\r\n                        <div className={styles[\"field-container\"]}>\r\n                            <TextField value={arrItem.csvExcludedPropsItem} onChange={arrInputChangeHandler.bind(this, \"csvExcludedPropsItem\")} fullWidth label=\"CSV Excluded Props\" />\r\n                            {arrItemError.csvExcludedProps !== null && <p className={styles[\"error-message\"]}>{arrItemError.csvExcludedProps}</p>}\r\n                        </div>\r\n                        <Button onClick={addItemToArrayInObjectHandler.bind(this, \"csvExcludedProps\", null)} type=\"button\" variant=\"contained\" size=\"small\" disableElevation startIcon={<Add />} >\r\n                            Add\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n                <div className={styles[\"message\"]}>\r\n\r\n                </div>\r\n                <div className={styles[\"buttons-container\"]}>\r\n                    <Button onClick={cancelHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<Cancel />} >\r\n                        Cancel\r\n                    </Button>\r\n                    <Button type=\"button\" onClick={backButtonHandler} variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<PreviousIcon />} >\r\n                        Back\r\n                    </Button>\r\n                    <Button type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disableElevation endIcon={<NextIcon />} >\r\n                        Next\r\n                    </Button>\r\n                </div>\r\n                \r\n            </form>            \r\n        </div>    \r\n    )\r\n}","import React from 'react';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nexport default function RadioButtonsGroup({legend, radioOptions, onChange, defaultValue}) {\r\n  const [value, setValue] = React.useState(defaultValue || radioOptions[1].value);\r\n\r\n  const handleChange = (event) => {\r\n    setValue(event.target.value);\r\n    onChange(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <FormControl component=\"fieldset\">\r\n        <FormLabel component=\"legend\">{legend}</FormLabel>\r\n        <RadioGroup aria-label=\"gender\" name=\"gender1\" value={value} onChange={handleChange}>\r\n            {\r\n                radioOptions.length  > 0 && radioOptions.map(item => {\r\n                    return (\r\n                        <FormControlLabel value={item.value} key={item.value} control={<Radio />} label={ item.label } />\r\n                    );\r\n                })\r\n            }\r\n        </RadioGroup>\r\n    </FormControl>\r\n  );\r\n}","import { useState, useEffect } from \"react\";\r\n\r\n// utils\r\nimport { isObjectUnique } from \"../../utilities/objects-array\";\r\n\r\n// Components\r\nimport { Button, TextField, Chip, FormControl } from '@material-ui/core';\r\nimport NextIcon from '@material-ui/icons/NavigateNext';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport Add from '@material-ui/icons/Add';\r\nimport PreviousIcon from '@material-ui/icons/NavigateBefore';\r\nimport Select from \"../../components/Select\";\r\nimport RadioButtonsGroup from \"../../components/Radio\";\r\nimport Card from \"../../components/Card\";\r\nimport EmptyCardFlex from \"../../components/EmptyCardFlex\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\n// styles \r\nimport styles from \"./CreateModelOptions.module.scss\";\r\n\r\nexport default function CreateModelSchema({currentValue, setModelObjectHandler, cancelHandler, backButtonHandler}) {\r\n\r\n    let selectOptions = [\r\n            { name : \"String\" },\r\n            { name : \"Array\" },\r\n        ],\r\n        radioOptions = [\r\n            { value : \"true\", label : \"True\" },\r\n            { value : \"false\", label : \"False\" },\r\n        ],\r\n        [modelObjectOptions, setModelObjectOptions] = useState(currentValue),\r\n        [saveButtonEnabled, setSavedButtonEnabled] = useState(false),\r\n        [schemaArray, setSchemaArray] = useState(Object.keys(modelObjectOptions.schema).map(propKey => {\r\n            return {key : propKey, ...modelObjectOptions.schema[propKey]}\r\n        })),\r\n        [addSchemaButtonDisabled, setAddSchemaButtonDisabled] = useState(true),\r\n        [schemaKey, setSchemaKey] = useState(\"\"),\r\n        [schemaKeyType, setSchemaKeyType] = useState(\"String\"),\r\n        [schemaKeyRequired, setSchemaKeyRequired] = useState(\"false\"),\r\n        [schemaError, setSchemaError] = useState(\"\"),\r\n\r\n\r\n        // model initialized props \r\n        [propObjectsErrMessage, setPropObjectsErrMessage] = useState({\r\n            friendlyUrlProps : null,\r\n            immutableProps : null,\r\n            uniqueProps : null,\r\n        }),\r\n        [propObjects, setPropObjects] = useState({\r\n            friendlyUrlProps : modelObjectOptions.initializedProps.find(item => Object.keys(item).includes(\"friendlyUrlProps\")) ? [...modelObjectOptions.initializedProps.find(item => Object.keys(item).includes(\"friendlyUrlProps\"))[\"friendlyUrlProps\"]] : [],\r\n            immutableProps : modelObjectOptions.initializedProps.find(item => Object.keys(item).includes(\"immutableProps\")) ? [...modelObjectOptions.initializedProps.find(item => Object.keys(item).includes(\"immutableProps\"))[\"immutableProps\"]] : [],\r\n            uniqueProps : modelObjectOptions.initializedProps.find(item => Object.keys(item).includes(\"uniqueProps\")) ? [...modelObjectOptions.initializedProps.find(item => Object.keys(item).includes(\"uniqueProps\"))[\"uniqueProps\"]] : [],\r\n        }),\r\n        [friendlyUrlProp, setFriendlyUrlProp] = useState(\"\"),\r\n        [immutableProp, setImmutableProp] = useState(\"\"),\r\n        [uniqueProp, setUniqueProp] = useState(\"\");\r\n\r\n    // model schema event handlers \r\n    const inputChangeHandler = (e) => {\r\n        e.preventDefault();\r\n        setSchemaKey(prev => e.target.value);\r\n        if(e.target.value.trim() !== \"\")    {\r\n            setAddSchemaButtonDisabled(prev => false);\r\n            setSchemaError(prev => false);\r\n        } else  {\r\n            setAddSchemaButtonDisabled(prev => true);\r\n        }\r\n    }\r\n\r\n    const selectOnchangeHandler = (value) => {\r\n        setSchemaKeyType(prev => value);\r\n    }\r\n\r\n    const radioChangeHandler = (value) => {\r\n        setSchemaKeyRequired(prev => value);\r\n    }\r\n\r\n    const addSchemaHandler = (e) => {\r\n        e.preventDefault();\r\n        if(schemaKey && schemaKey.length > 0) {\r\n\r\n            let schemaObject = {key : schemaKey, type : schemaKeyType, required : schemaKeyRequired};\r\n\r\n            if(isObjectUnique(schemaObject, schemaArray, [\"key\"])) {\r\n                setSchemaArray(prev => {                    \r\n                    let arr = [...prev, schemaObject];\r\n                    return arr;\r\n                });\r\n            } else  {\r\n                setSchemaError('We already have this schema...');\r\n            }\r\n            setSchemaKey(prev => \"\");\r\n            // setSchemaKeyType(prev => \"String\");\r\n            setSchemaKeyRequired(prev => \"false\");\r\n            setAddSchemaButtonDisabled(prev => true);\r\n        }\r\n    }\r\n\r\n    const deleteSchemaHandler = (key, e) => {\r\n        e.preventDefault();\r\n        setSchemaArray(prev => {\r\n            let arr = prev.slice().filter(item => item.key !== key);\r\n            return arr;\r\n        });\r\n    }\r\n\r\n\r\n\r\n    // initializedPropsHandler\r\n\r\n\r\n    const handleDeleteChipEntry = (propName, arrItem, e) => {\r\n        e.preventDefault();\r\n\r\n        setPropObjects(prev => {\r\n            let obj = {...prev},\r\n                arr = obj[propName].filter(item => item !== arrItem);\r\n            return {...obj, [propName] : arr};\r\n        });\r\n        \r\n    }   \r\n\r\n    const propObjectChangeHandler = (setter, propName, e) => {\r\n        setter(e.target.value);\r\n        setPropObjectsErrMessage(prev => {\r\n            return {...prev, [propName] : null};\r\n        })\r\n    }\r\n\r\n    const addPropObjects = (propName, value, setter, e) => {\r\n        e.preventDefault();\r\n\r\n        if(value.trim() !== \"\")    {\r\n            \r\n            if(!propObjects[propName].includes(value)) {\r\n                \r\n                setPropObjects(prev => {\r\n                    let obj = {...prev};\r\n                    obj[propName].push(value);\r\n                    return obj;\r\n                });\r\n            } else  {\r\n                setPropObjectsErrMessage(prev => {\r\n                    return {...prev, [propName] : `We already have \"${value}\" property name in ${propName}`}\r\n                });\r\n            }\r\n        }\r\n        setter(prev => \"\");\r\n    }\r\n\r\n\r\n\r\n    // submit handler\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        setModelObjectOptions(prev => {\r\n            let obj = {...prev},\r\n                initializedProps = [];\r\n            \r\n            for(let key in propObjects) {\r\n                initializedProps.push({[key] : propObjects[key]});\r\n            }\r\n            \r\n            obj.schema = schemaArray.reduce((a, b) => {\r\n                    a[b.key] = {\r\n                        type : b.type,\r\n                        required : b.required,\r\n                    };\r\n\r\n                    return a;\r\n                }, {});\r\n\r\n            obj.initializedProps = initializedProps;\r\n            setModelObjectHandler(obj, true);\r\n            return obj;\r\n        });\r\n        \r\n    }  \r\n\r\n    useEffect(() => {\r\n        if(schemaArray.length)  {\r\n            setSavedButtonEnabled(prev => true);\r\n        } else  {\r\n            setSavedButtonEnabled(prev => false);\r\n        }\r\n    }, [schemaArray]);\r\n\r\n    return (\r\n        <form className={styles[\"main-container\"]} onSubmit={submitHandler}>\r\n            <EmptyCardFlex className={styles[\"model-object-container\"]}>\r\n                <Card className={styles[\"create-model-card\"]}> \r\n                    <div className={`${styles[\"form-container\"]}`}>\r\n                        <h6 className={styles[\"template-title\"]}>Create Model Options</h6>\r\n                        <div className={styles.form} >\r\n                        <h6 className={styles[\"template-section-title\"]}>Add DB Model Schema</h6>\r\n                            <div className={styles[\"input-container\"]}>\r\n                                <div className={styles[\"field-container\"]}>\r\n                                    <FormControl fullWidth>\r\n                                        <TextField value={schemaKey} onChange={inputChangeHandler} label=\"Schema Property Name\" />\r\n                                        {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>}\r\n                                    </FormControl>\r\n                                    <FormControl fullWidth>\r\n                                        <Select defaultValue={selectOptions[0]} selectOnchangeHandler={selectOnchangeHandler} label=\"Shema Property Type\" options={selectOptions} uniqueProp=\"name\" optionLabelProp=\"name\" ></Select>\r\n                                    </FormControl>\r\n                                    <FormControl fullWidth>\r\n                                        <RadioButtonsGroup radioOptions={radioOptions} legend=\"Is Value Required?\" onChange={radioChangeHandler} />\r\n                                    </FormControl>\r\n                                    {!addSchemaButtonDisabled && \r\n                                        <Button onClick={addSchemaHandler.bind(this)} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Add />} >\r\n                                            Add Schema Property\r\n                                        </Button>\r\n                                    }\r\n                                    {addSchemaButtonDisabled && \r\n                                        <Button onClick={addSchemaHandler.bind(this)} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disabled disableElevation startIcon={<Add />} >\r\n                                            Add Schema Property\r\n                                        </Button>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>   \r\n                </Card>\r\n                {\r\n                    schemaArray.length > 0 && \r\n                    <Card className={styles[\"schema-container\"]}>\r\n                        <h6 className={styles[\"template-subtitle\"]}>Added Model Schemas</h6>\r\n                        <ul>\r\n                        {schemaArray.map(item => {\r\n                            let {key, type, required} = item;\r\n                            return (\r\n                                <li key={key}>\r\n                                    <span>Key : {key}</span>\r\n                                    <span>Type : {type}</span>\r\n                                    <span>Required : {required}</span>\r\n                                    \r\n                                    <IconButton onClick={deleteSchemaHandler.bind(this, key)} className={styles[\"delete-button\"]} color=\"default\"  component=\"span\">\r\n                                    <Cancel />\r\n                                    </IconButton>\r\n                                </li>\r\n                            )\r\n                        })}\r\n                        </ul>\r\n                    </Card>\r\n                }\r\n            </EmptyCardFlex>\r\n            <EmptyCardFlex className={styles[\"model-object-container\"]}>\r\n                <Card className={styles[\"create-model-card\"]}> \r\n                <div className={`${styles[\"form-container\"]}`}>\r\n                   \r\n                    <div className={styles.form}>\r\n                        <h6 className={styles[\"template-section-title\"]}>Set the Initialized Properties</h6>\r\n\r\n\r\n                        {/* Array containers : uniqueProps */}\r\n                        <div className={styles[\"input-container-array\"]}>\r\n                            <p className={styles[\"description\"]}>Unique Properties</p>\r\n                            <div className={styles[\"result-container\"]}>\r\n                                {propObjects.uniqueProps.length > 0 && \r\n                                    propObjects.uniqueProps.map((item, index) => {\r\n                                        return (\r\n                                            <Chip\r\n                                                key={`${index}`}\r\n                                                label={item}\r\n                                                onDelete={handleDeleteChipEntry.bind(this, \"uniqueProps\", item)}\r\n                                                deleteIcon={<Cancel />}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            <div className={styles[\"input-container-2\"]}>\r\n                                <div className={styles[\"field-container\"]}>\r\n                                    <TextField value={uniqueProp} onChange={propObjectChangeHandler.bind(this, setUniqueProp, \"uniqueProps\")} fullWidth label=\"Unique Properties\" />\r\n                                    {propObjectsErrMessage.uniqueProps && <p className={styles[\"error-message\"]}>{propObjectsErrMessage.uniqueProps}</p>}\r\n                                </div>\r\n                                <div className={styles[\"button-container\"]}>\r\n                                    {uniqueProp && <Button type=\"button\" onClick={addPropObjects.bind(this, \"uniqueProps\", uniqueProp, setUniqueProp)} variant=\"contained\" size=\"small\" disableElevation startIcon={<Add />} >\r\n                                        Add\r\n                                    </Button>}\r\n                                    {!uniqueProp && <Button type=\"button\" onClick={addPropObjects.bind(this, \"uniqueProps\", uniqueProp, setUniqueProp)} variant=\"contained\" size=\"small\" disabled disableElevation startIcon={<Add />} >\r\n                                        Add\r\n                                    </Button>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Array containers : immutableProps */}\r\n                        <div className={styles[\"input-container-array\"]}>\r\n\r\n                            <p className={styles[\"description\"]}>Immutable Properties</p>\r\n                            <div className={styles[\"result-container\"]}>\r\n                                {propObjects.immutableProps.length > 0 && \r\n                                    propObjects.immutableProps.map((item, index) => {\r\n                                        return (\r\n                                            <Chip\r\n                                                key={`${index}`}\r\n                                                label={item}\r\n                                                onDelete={handleDeleteChipEntry.bind(this, \"immutableProps\", item)}\r\n                                                deleteIcon={<Cancel />}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            <div className={styles[\"input-container-2\"]}>\r\n                                <div className={styles[\"field-container\"]}>\r\n                                    <TextField value={immutableProp} onChange={propObjectChangeHandler.bind(this, setImmutableProp, \"immutableProps\")} fullWidth label=\"Immutable Properties\" />\r\n                                    {propObjectsErrMessage.immutableProps && <p className={styles[\"error-message\"]}>{propObjectsErrMessage.immutableProps}</p>}\r\n                                </div>\r\n                                <div className={styles[\"button-container\"]}>\r\n                                    {immutableProp && <Button type=\"button\" onClick={addPropObjects.bind(this, \"immutableProps\", immutableProp, setImmutableProp)} variant=\"contained\" size=\"small\" disableElevation startIcon={<Add />} >\r\n                                        Add\r\n                                    </Button>}\r\n                                    {!immutableProp && <Button type=\"button\" onClick={addPropObjects.bind(this, \"immutableProps\", immutableProp, setImmutableProp)} variant=\"contained\" size=\"small\" disabled disableElevation startIcon={<Add />} >\r\n                                        Add\r\n                                    </Button>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Array containers : friendlyUrlProps */}\r\n                        <div className={styles[\"input-container-array\"]}>\r\n                            <p className={styles[\"description\"]}>Friendly URL Properties</p>\r\n                            <div className={styles[\"result-container\"]}>\r\n                                {propObjects.friendlyUrlProps.length > 0 && \r\n                                    propObjects.friendlyUrlProps.map((item, index) => {\r\n                                        return (\r\n                                            <Chip\r\n                                                key={`${index}`}\r\n                                                label={item}\r\n                                                onDelete={handleDeleteChipEntry.bind(this, \"friendlyUrlProps\", item)}\r\n                                                deleteIcon={<Cancel />}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            <div className={styles[\"input-container-2\"]}>\r\n                                <div className={styles[\"field-container\"]}>\r\n                                    <TextField value={friendlyUrlProp} onChange={propObjectChangeHandler.bind(this, setFriendlyUrlProp, \"friendlyUrlProps\")} fullWidth label=\"Friendly URL Properties\" />\r\n                                    {propObjectsErrMessage.friendlyUrlProps && <p className={styles[\"error-message\"]}>{propObjectsErrMessage.friendlyUrlProps}</p>}\r\n                                </div>\r\n                                <div className={styles[\"button-container\"]}>\r\n                                    {friendlyUrlProp && <Button type=\"button\" onClick={addPropObjects.bind(this, \"friendlyUrlProps\", friendlyUrlProp, setFriendlyUrlProp)} variant=\"contained\" size=\"small\" disableElevation startIcon={<Add />} >\r\n                                        Add\r\n                                    </Button>}\r\n                                    {!friendlyUrlProp && <Button type=\"button\" onClick={addPropObjects.bind(this, \"friendlyUrlProps\", friendlyUrlProp, setFriendlyUrlProp)} variant=\"contained\" size=\"small\" disabled disableElevation startIcon={<Add />} >\r\n                                        Add\r\n                                    </Button>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>            \r\n                </div>    \r\n                </Card> \r\n                \r\n            </EmptyCardFlex>\r\n            <Card>\r\n                <div className={styles[\"buttons-container\"]}>\r\n                    <Button onClick={cancelHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<Cancel />} >\r\n                            Cancel\r\n                    </Button>\r\n                    <Button type=\"button\" onClick={backButtonHandler} variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<PreviousIcon />} >\r\n                        Back\r\n                    </Button>\r\n                    \r\n                    {saveButtonEnabled && <Button type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disableElevation endIcon={<NextIcon />} >\r\n                        Next\r\n                    </Button>}\r\n                    {!saveButtonEnabled && <Button type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disabled disableElevation endIcon={<NextIcon />} >\r\n                        Next\r\n                    </Button>}\r\n                    \r\n                </div>\r\n            </Card>\r\n        </form>\r\n    )\r\n}","import { useState, useEffect } from \"react\";\r\n\r\n// utils\r\nimport { isObjectInArray } from \"../../utilities/objects-array\";\r\n\r\n// Components\r\nimport { Button, TextField, Chip, FormControl, Divider } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport Add from '@material-ui/icons/Add';\r\nimport PreviousIcon from '@material-ui/icons/NavigateBefore';\r\nimport Create from '@material-ui/icons/Create';\r\nimport Select from \"../../components/Select\";\r\nimport RadioButtonsGroup from \"../../components/Radio\";\r\nimport Card from \"../../components/Card\";\r\nimport EmptyCardFlex from \"../../components/EmptyCardFlex\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CodeEditor from \"../../components/CodeEditor/\";\r\n\r\n// styles\r\nimport styles from \"./CreateEvaluators.module.scss\";\r\n\r\nexport default function CreateEvaluators({currentValue, currentUsageValue, currentGroupIdentifierKeyValue, currentSchema, setEvaluatorObjectsHandler, setUsageHandler, setGroupIdentifierKeyHandler, cancelHandler, backButtonHandler})   {\r\n\r\n\r\n    let radioOptions = [\r\n            { value : \"list\", label : \"List\" },\r\n            { value : \"single\", label : \"Single\" },\r\n        ],\r\n        selectOptions = [\r\n            { name : \"True\", value : true },\r\n            { name : \"False\", value : false },\r\n        ],\r\n        [evaluatorObjects, setEvaluatorObjects] = useState(currentValue),\r\n        [submitButtonEnabled, setSubmitButtonEnabled] = useState(false),\r\n        [addEvaluatorButtonEnabled, setAddEvaluatorButtonEnabled] = useState(false),\r\n\r\n        [callback, setCallback] = useState(\"\"),\r\n        [type, setType] = useState(\"list\"),\r\n\r\n        // waitMethod\r\n        [waitMethods, setWaitMethods] = useState([\r\n            // {name : \"waitForSelector\", args : \".page-card-info .product-info\"},\r\n            // {name : \"waitForSelector\", args : \".page-image-container .product-image\"},\r\n        ]),\r\n        [currentWaitMethod, setCurrentWaitMethod] = useState({\r\n            name: \"\",\r\n            args : \"\",\r\n        }),\r\n        [addWaitMethodButtonReady, setAddWaitMethodButtonReady] = useState(false),\r\n        [waitMethodError, setWaitMethodError] = useState(null),\r\n\r\n            // shows if evaluator TYPE === list;\r\n            [showPaginated, setShowPaginated] = useState(true),\r\n            [paginated, setPaginated] = useState(false),\r\n            \r\n            // only needed if evaluator TYPE === single;\r\n            [objPropArgs, setObjPropArgs] = useState([]),\r\n            [objPropArgsError, setObjPropArgsError] = useState(null),\r\n            [currentPropArg, setCurrentPropArg] = useState(''),\r\n            [addObjPropArgsButtonEnabled, setAddObjPropArgsButtonEnabled] = useState(false),\r\n\r\n            // productUrlProp\r\n            [productUrlProp, setProductUrlProp] = useState(\"\"),\r\n            [productUrlPropError, setProductUrlPropError] = useState(false),\r\n\r\n        // devs comments\r\n        [usage, setUsage] = useState(currentUsageValue),\r\n\r\n        // groupIdentifierKey\r\n        [groupIdentifierKey, setGroupIdentifierKey] = useState(currentGroupIdentifierKeyValue);\r\n        \r\n\r\n\r\n    // callback event handler\r\n    const callbackTextFieldChangeHandler = (e) => {\r\n        setCallback(prev => e.target.value);\r\n    }\r\n\r\n\r\n    // wait methods event handlers\r\n\r\n    const removeWaitMethodHandler = (item, e) => {\r\n        setWaitMethods(prev => {\r\n            let arr = prev.slice();\r\n            return [...arr.filter(method => method !== item)];\r\n        })\r\n    }\r\n\r\n    const waitMethodInputChangeHandler = (propName, e) => {\r\n        e.preventDefault();\r\n        setWaitMethodError(prev => false);\r\n        setCurrentWaitMethod(prev => {\r\n            return {...prev, [propName] : e.target.value};\r\n        })\r\n    }\r\n\r\n    const addWaitMethodHandler = () => {\r\n        let waitMethod = {...currentWaitMethod};\r\n        if(!isObjectInArray(currentWaitMethod, waitMethods))    {\r\n            setWaitMethods(prev => { \r\n                return [...prev, waitMethod];\r\n            });\r\n        } else  {\r\n            setWaitMethodError(prev => `We already have this Wait Method in our list of methods.`);\r\n        }\r\n        setCurrentWaitMethod(prev => ({name : \"\", args : \"\"}));\r\n    }\r\n\r\n\r\n\r\n    // type events\r\n    const radioChangeHandler = (value) => {\r\n        setType(prev => value);\r\n        if(value === \"list\")    {\r\n            setShowPaginated(true);\r\n        } else  {\r\n            setShowPaginated(false);\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    // selectOnChangeHandler\r\n    const selectOnchangeHandler = (value) => {\r\n        setPaginated(prev => value);\r\n    }\r\n\r\n    // objPropArgs event handlers\r\n    const handleDeleteObjPropArgs = (value, e) => {\r\n        setObjPropArgs(prev => prev.filter(item => item !== value));\r\n    }\r\n\r\n    const propArgsInputChangeHandler = (e) => {\r\n        setCurrentPropArg(prev => e.target.value);\r\n        if(e.target.value !== \"\")   {\r\n            setObjPropArgsError(prev => null);\r\n            setAddObjPropArgsButtonEnabled(true);\r\n        } else  {\r\n            setAddObjPropArgsButtonEnabled(false);\r\n        }\r\n    }\r\n\r\n    const addButtonHandler = (e) => {\r\n        e.preventDefault();\r\n        \r\n        setCurrentPropArg(prev => {\r\n\r\n            setObjPropArgs(prevState => {\r\n                if(prevState.includes(prev))    {\r\n                    setObjPropArgsError(prevState => `We already have \"${prev}\" in our Object Property Arguments list...`);\r\n                    return [...prevState];\r\n                } else  {\r\n                    return [...prevState, prev];\r\n                }\r\n            });\r\n            setAddObjPropArgsButtonEnabled(false);\r\n            return \"\";\r\n        });\r\n        \r\n    }\r\n\r\n    // productUrlProp event handler\r\n    const productUrlPropChangeHandler = (e) => {\r\n        setProductUrlPropError(null);\r\n        setProductUrlProp(prev => e.target.value);\r\n    }\r\n\r\n\r\n    // usage\r\n    const usageInputChangeHandler = (e) => {\r\n        setUsage(prev => e.target.value);\r\n    }\r\n\r\n\r\n     // groupIdentifierKey event hander\r\n    const groupIdentifierKeyPropChangeHandler = (value) => {\r\n        setGroupIdentifierKey(prev => value);\r\n    }\r\n\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n\r\n    // addEvaluatorObject event handler\r\n    const addEvaluatorObjectHandler = (e) => {\r\n        e.preventDefault();\r\n        if(type === \"list\") {\r\n            setEvaluatorObjects(prev => [...prev, {\r\n                callback,\r\n                type,\r\n                waitMethods,\r\n                paginated,\r\n            }]);\r\n        } else  {\r\n            setEvaluatorObjects(prev => [...prev, {\r\n                callback,\r\n                type,\r\n                waitMethods,\r\n                objPropArgs,\r\n                productUrlProp,\r\n            }]);\r\n            \r\n        }\r\n        \r\n        setCallback(prev => \"\");\r\n        setWaitMethods(prev => []);\r\n        setPaginated(false);\r\n        setObjPropArgs(prev => []);\r\n        setProductUrlProp(prv => \"\");\r\n        setAddEvaluatorButtonEnabled(false);\r\n        \r\n        \r\n    }\r\n\r\n    const removeEvaluatorHandler = (item, e) => {\r\n        setEvaluatorObjects(prev => prev.filter(evaluator => evaluator !== item));\r\n    }\r\n\r\n    const checkEvaluatorReady = () => {\r\n        if(callback === \"\")   {\r\n            setAddEvaluatorButtonEnabled(false);\r\n            return;\r\n        }\r\n        if(type === \"single\" && productUrlProp.trim() === \"\")  {\r\n            setAddEvaluatorButtonEnabled(false);\r\n            return;\r\n        }\r\n        setAddEvaluatorButtonEnabled(true);\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n     /* **************************************************** */\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n\r\n\r\n\r\n\r\n\r\n    // submitHandler\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        \r\n        setUsageHandler(usage);\r\n        setEvaluatorObjectsHandler(evaluatorObjects, true);\r\n        // need to set error message for productUrlProp here\r\n        setGroupIdentifierKeyHandler(groupIdentifierKey)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setAddWaitMethodButtonReady(prev => (currentWaitMethod.name.trim() !== \"\" && currentWaitMethod.args.trim() !== \"\"));\r\n        checkEvaluatorReady();\r\n        setEvaluatorObjectsHandler(evaluatorObjects, false);\r\n        if(evaluatorObjects.length) {\r\n            setSubmitButtonEnabled(true);\r\n        } else  {\r\n            setSubmitButtonEnabled(false);\r\n        }\r\n\r\n    }, [currentWaitMethod, callback, type, productUrlProp, evaluatorObjects]);\r\n\r\n    return (\r\n        <form className={styles[\"main-container\"]} onSubmit={submitHandler}>\r\n\r\n            <EmptyCardFlex className={styles[\"evaluator-object-container\"]}>\r\n                {evaluatorObjects.length > 0 && \r\n                <Card className={styles[\"create-evaluator-card\"]}>\r\n                    <div className={styles[\"added-evaluator-container\"]}>\r\n                        <h6 className={styles[\"template-title\"]}>Added Evaluator Objects</h6>\r\n\r\n                        {evaluatorObjects.map((item, index) => {\r\n                            return (\r\n                                <div className={styles[\"added-evaluator-object-container\"]} key={index}>\r\n                                    <ul>\r\n                                        <li>\r\n                                            <div className={styles[\"label\"]}>Callback : </div>\r\n                                            <FormControl>\r\n                                                {/* onChange, padding, value, style, placeholder */}\r\n                                                <CodeEditor disabled value={item.callback}></CodeEditor>\r\n                                                {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                                            </FormControl>\r\n                                        </li>\r\n                                        {item.waitMethods.length > 0 && <li>\r\n                                            <span className={styles[\"label\"]}>Wait Methods</span> :\r\n                                            <ul>\r\n                                                {item.waitMethods.map((method, i) => {\r\n                                                    return (\r\n                                                        <li key={i}>\r\n                                                            <ul>\r\n                                                                <li><span className={styles[\"label\"]}>Name</span> : {method.name}</li>\r\n                                                                <li><span className={styles[\"label\"]}>Args</span> : {method.args}</li>\r\n                                                            </ul>\r\n                                                        </li>\r\n                                                    )\r\n                                                })}\r\n                                            </ul>\r\n                                            \r\n                                        </li>}\r\n                                        {\r\n                                            item.type === \"list\" && \r\n                                            <li key={item}>\r\n                                                <span className={styles[\"label\"]}>Paginated</span> :\r\n                                                {item.paginated.toString()}\r\n                                            </li>\r\n                                        }\r\n                                        {\r\n                                            item.type !== \"list\" && \r\n                                            <>\r\n                                                <li>\r\n                                                    <span className={styles[\"label\"]}>Object Property Arguments</span> :\r\n                                                    {item.objPropArgs.join(\", \")}\r\n                                                </li>\r\n                                                <li>\r\n                                                    <span className={styles[\"label\"]}>Product Url Prop Name</span> :\r\n                                                    {item.productUrlProp}\r\n                                                </li>\r\n                                            </>\r\n                                        }\r\n                                        \r\n                                    </ul>\r\n                                    <span className={styles[\"remove-button\"]}>\r\n                                        <IconButton onClick={removeEvaluatorHandler.bind(this, item)} className={styles[\"delete-button\"]} color=\"default\" aria-label=\"upload picture\" component=\"span\">\r\n                                        <Cancel />\r\n                                        </IconButton>\r\n                                    </span>\r\n                                </div>\r\n                            )\r\n                        })}\r\n\r\n                        {usage && \r\n                            <>\r\n                                <p style={{color : \"#4f72a7\"}}>Developer's comment on usage : </p>\r\n                                <p style={{color  : \"#40bb46\", fontWeight : \"bold\"}}>{usage}</p>\r\n                            </>\r\n                        }\r\n                        {groupIdentifierKey && \r\n                            <>\r\n                                <p style={{color : \"#4f72a7\"}}>Product Group / Set Identifier KEY : </p>\r\n                                <p style={{color  : \"#40bb46\", fontWeight : \"bold\"}}>{groupIdentifierKey}</p>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </Card>}\r\n                <Card className={styles[\"create-evaluator-card\"]}>\r\n                    <div className={`${styles[\"form-container\"]}`}>\r\n                        <h6 className={styles[\"template-title\"]}>Create Evaluator Objects</h6>\r\n                        <div className={styles[\"input-container\"]}>\r\n                            <h6 className={styles[\"template-section-title\"]}>Write an Evaluator Function</h6>\r\n                            <FormControl>\r\n                                {/* onChange, padding, value, style, placeholder */}\r\n                                <CodeEditor onChange={callbackTextFieldChangeHandler} value={callback}></CodeEditor>\r\n                                {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                            </FormControl>\r\n\r\n                            <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n\r\n                            {/* // wait methods */}\r\n                            <div className={styles[\"wait-methods-container\"]}>\r\n                                \r\n                                {waitMethods.length > 0 &&\r\n                                     <>\r\n                                    <h6 className={styles[\"description\"]}>Added Wait Methods</h6>\r\n                                    <div className={styles[\"added-methods\"]}>\r\n                                        \r\n                                        <ul>\r\n                                            {waitMethods.map((item, index) => {\r\n                                                return (\r\n                                                    <li key={index}>\r\n                                                        <ul>\r\n                                                            <li><span>Method Name : </span> {item.name}</li>\r\n                                                            <li><span>Method Args : </span> {item.args}</li>\r\n                                                        </ul>\r\n                                                        <span className={styles[\"cancel-button\"]}>\r\n                                                            <IconButton onClick={removeWaitMethodHandler.bind(this, item)} className={styles[\"delete-button\"]} color=\"default\" aria-label=\"upload picture\" component=\"span\">\r\n                                                            <Cancel />\r\n                                                            </IconButton>\r\n                                                        </span>\r\n                                                        \r\n                                                    </li>\r\n                                                );\r\n                                            })}\r\n                                        </ul>\r\n                                        {waitMethodError && <p className={styles[\"error-message\"]}>{waitMethodError}</p>}\r\n                                    </div>\r\n                                    </>\r\n                                }\r\n\r\n                                <div className={styles[\"wait-method-input-container\"]}>\r\n                                    <div className={styles[\"input-container-array\"]}>\r\n                                        <p className={styles[\"description\"]}>Add Puppeteer Wait Methods</p>\r\n                                        <div className={styles[\"field-container\"]}>\r\n                                            <FormControl>\r\n                                                <TextField \r\n                                                    onChange={waitMethodInputChangeHandler.bind(this, \"name\")}\r\n                                                    fullWidth \r\n                                                    label=\"Method Name\" \r\n                                                    value={currentWaitMethod.name}\r\n                                                />\r\n                                            </FormControl>\r\n                                            <FormControl>\r\n                                                <TextField \r\n                                                    onChange={waitMethodInputChangeHandler.bind(this, \"args\")}\r\n                                                    fullWidth \r\n                                                    label=\"Method Arguments\" \r\n                                                    value={currentWaitMethod.args}\r\n                                                />\r\n                                            </FormControl>\r\n                                        </div>\r\n                                        <div className={styles[\"button-container\"]}>\r\n                                            {addWaitMethodButtonReady && \r\n                                            <Button \r\n                                                onClick={addWaitMethodHandler}\r\n                                                type=\"button\" \r\n                                                variant=\"contained\" \r\n                                                size=\"small\" \r\n                                                color=\"default\" \r\n                                                disableElevation \r\n                                                startIcon={<Add />} >\r\n                                                Add Wait Method\r\n                                            </Button>}\r\n                                            {!addWaitMethodButtonReady && <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation disabled startIcon={<Add />} >\r\n                                                Add Wait Method\r\n                                            </Button>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n\r\n\r\n                            {/* evaluator options */}\r\n                            <div className={styles[\"evaluator-options\"]}>\r\n                                <FormControl fullWidth>\r\n                                    <RadioButtonsGroup value={type} defaultValue={type} radioOptions={radioOptions} legend=\"Evalutator Type\" onChange={radioChangeHandler} />\r\n                                </FormControl>\r\n                                <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                {showPaginated &&\r\n                                    <>\r\n                                    <FormControl fullWidth>\r\n                                        <p className={styles[\"description\"]}>Is the evaluator function meant to be used for paginated starting url?</p>\r\n                                        <Select selectOnchangeHandler={selectOnchangeHandler} label=\"Is Paginated?\" options={selectOptions} uniqueProp=\"value\" optionLabelProp=\"name\" ></Select>\r\n                                    </FormControl>\r\n                                    <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                    </>\r\n                                }\r\n                                {!showPaginated &&\r\n                                    <>\r\n                                        <div className={styles[\"input-container-array\"]}>\r\n                                            <p className={styles[\"description\"]}>Object Properties as function arguments</p>\r\n                                            <div className={styles[\"input-container-2\"]}>\r\n                                                <div className={styles[\"field-container\"]}>\r\n                                                    {objPropArgs.length > 0 && \r\n                                                        <>\r\n                                                            <div className={`${styles[\"result-container\"]} ${styles[\"chip-container\"]}`}>\r\n                                                \r\n                                                                {objPropArgs.length > 0 && \r\n                                                                    objPropArgs.map((item, index) => {\r\n                                                                        return (\r\n                                                                            <Chip\r\n                                                                                key={item}\r\n                                                                                label={item}\r\n                                                                                onDelete={handleDeleteObjPropArgs.bind(this, item)}\r\n                                                                                deleteIcon={<Cancel />}\r\n                                                                            />\r\n                                                                        );\r\n                                                                    })\r\n                                                                }\r\n                                                            </div>\r\n                                                        </>\r\n                                                    }\r\n                                                    <div>\r\n                                                        <TextField \r\n                                                            value={currentPropArg}\r\n                                                            onChange={propArgsInputChangeHandler}\r\n                                                            fullWidth \r\n                                                            label=\"Object Property Arguments\" />\r\n                                                        {objPropArgsError && <p className={styles[\"error-message\"]}>{objPropArgsError}</p>}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        {addObjPropArgsButtonEnabled && <Button \r\n                                                            type=\"button\" \r\n                                                            variant=\"contained\" \r\n                                                            size=\"small\" \r\n                                                            disableElevation \r\n                                                            onClick={addButtonHandler}\r\n                                                            startIcon={<Add />} >\r\n                                                            Add Object Property Arguments\r\n                                                        </Button>}\r\n                                                        {!addObjPropArgsButtonEnabled && <Button \r\n                                                            type=\"button\" \r\n                                                            variant=\"contained\" \r\n                                                            size=\"small\" \r\n                                                            disabled\r\n                                                            disableElevation \r\n                                                            startIcon={<Add />} >\r\n                                                            Add Object Property Arguments\r\n                                                        </Button>}\r\n                                                    </div>\r\n                                                    \r\n                                                </div>\r\n                                                \r\n                                            </div>\r\n                                            \r\n                                        </div>\r\n                                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                        \r\n                                        <div className={styles[\"input-container-array\"]}>\r\n                                            <div className={styles[\"input-container-2\"]}>\r\n                                                <div className={styles[\"field-container\"]}>\r\n                                                    <TextField \r\n                                                        value={productUrlProp}\r\n                                                        onChange={productUrlPropChangeHandler}\r\n                                                        fullWidth \r\n                                                        label=\"Product URI Property\" />\r\n                                                        {productUrlPropError && <p className={styles[\"error-message\"]}>{productUrlPropError}</p>}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n                                        \r\n                                    </>\r\n                                }\r\n                                \r\n                                <div className={styles[\"buttons-container\"]}>\r\n                                {addEvaluatorButtonEnabled && <Button onClick={addEvaluatorObjectHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Create />} >\r\n                                    Add to List of Evaluators\r\n                                </Button>}\r\n                                {!addEvaluatorButtonEnabled && <Button onClick={addEvaluatorObjectHandler} type=\"button\" variant=\"contained\" disabled size=\"small\" color=\"secondary\" disableElevation startIcon={<Create />} >\r\n                                    Add to List of Evaluators\r\n                                </Button>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n                    <div className={`${styles[\"form-container\"]}`}>\r\n                        <div className={styles[\"input-container\"]}>\r\n                            <div className={styles[\"input-container-2\"]}>\r\n                                <div className={styles[\"field-container\"]}>\r\n                                    <p className={styles[\"description\"]}>This will be used to group the data into sets or maybe categories</p>\r\n                                    <div className={styles[\"field-container\"]}>\r\n                                        <FormControl fullWidth>\r\n                                        <Select \r\n                                            selectOnchangeHandler={groupIdentifierKeyPropChangeHandler} \r\n                                            label=\"Product Group / Set Identifier Key\" \r\n                                            defaultValue={[{name : \" -- Select a Property Name -- \", value : \"\"}, ...Object.keys(currentSchema).map((item, index) => {\r\n                                                return {\r\n                                                    name : item, value : item,\r\n                                                }\r\n                                            })].find(item => item[\"value\"] === currentGroupIdentifierKeyValue)}\r\n                                            options={[{name : \" -- Select a Property Name -- \", value : \"\"}, ...Object.keys(currentSchema).map((item, index) => {\r\n                                            return {\r\n                                                name : item, value : item,\r\n                                            }\r\n                                        })]} \r\n                                            uniqueProp=\"value\" \r\n                                            optionLabelProp=\"name\"\r\n                                            \r\n                                            />\r\n                                        </FormControl>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n                            <div className={styles[\"input-container-2\"]}>\r\n                                <div className={styles[\"field-container\"]}>\r\n                                    <p className={styles[\"description\"]}>Developer's comments in terms of Script Usage.</p>\r\n                                    <div className={styles[\"field-container\"]}>\r\n                                        \r\n                                        <TextField \r\n                                            value={usage}\r\n                                            multiline\r\n                                            onChange={usageInputChangeHandler}\r\n                                            fullWidth \r\n                                            label=\"Usage\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>      \r\n                    </div>  \r\n\r\n\r\n\r\n\r\n                    {/* // buttons */}\r\n                    <div className={styles[\"buttons-container\"]}>\r\n                        <Button onClick={cancelHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<Cancel />} >\r\n                                Cancel\r\n                        </Button>\r\n                        <Button type=\"button\" onClick={backButtonHandler} variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<PreviousIcon />} >\r\n                            Back\r\n                        </Button>\r\n                        \r\n                        {submitButtonEnabled && <Button type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<SaveIcon />} >\r\n                            Save\r\n                        </Button>}\r\n                        {!submitButtonEnabled && <Button type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disabled disableElevation startIcon={<SaveIcon />} >\r\n                            Save\r\n                        </Button>}\r\n                        \r\n                    </div>\r\n                </Card>\r\n                {/* <Card className={styles[\"create-evaluator-card\"]}></Card> */}\r\n            </EmptyCardFlex>\r\n            {/* <EmptyCardFlex className={styles[\"evaluator-object-container\"]}>\r\n                <Card>\r\n                \r\n                </Card>\r\n                <Card className={styles[\"create-evaluator-card\"]}></Card>\r\n            </EmptyCardFlex> */}\r\n        </form>    \r\n    )\r\n}","// core\r\nimport { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// hooks\r\nimport useAuth from \"../../../hooks/useAuth\";\r\nimport useFetch from \"../../../hooks/useFetch\";\r\n\r\n// Components\r\nimport Card from \"../../../components/Card\";\r\nimport EmptyCardFlex from \"../../../components/EmptyCardFlex\";\r\nimport CodeEditor from \"../../../components/CodeEditor/CodeEditor\";\r\n// import SaveIcon from '@material-ui/icons/Save';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport { Button, Divider, CircularProgress, FormControl } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport Check from '@material-ui/icons/Check';\r\nimport PreviousIcon from '@material-ui/icons/NavigateBefore';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\n/***********************************************************\r\n * \r\n *    Necessary Components for Creating a Scraper Script\r\n * \r\n***********************************************************/\r\n    // creating site resource\r\n    import SelectSiteResource from \"../../../templates/SelectSiteResource/\";\r\n    import CreateSiteResource from \"../../../templates/CreateSiteResource/\";\r\n    // creating scraperDetails\r\n    import CreateScraperData from \"../../../templates/CreateScraperData/\";\r\n    // crating a model object;\r\n    import CreateModelOptions from \"../../../templates/CreateModelOptions\";\r\n    // creating evaluatorObjects;\r\n    import CreateEvaluators from \"../../../templates/CreateEvaluatos\";\r\n\r\n\r\n// styles\r\nimport styles from \"./CreateScraper.module.scss\";\r\n\r\n// url;\r\nimport { baseUrl } from \"../../../config/\"; \r\nimport { toNormalString } from \"../../../utilities/string\";\r\n\r\nexport default function CreateScraper({pageTitle}) {\r\n\r\n    let {authToken} = useAuth(),\r\n        abortCont = new AbortController(),\r\n        history = useHistory(),\r\n\r\n        // siteResource object\r\n        [selectOn, setSelectOn] = useState(true),\r\n        [siteResource, setSiteResource] = useState({\r\n            _id : \"\",\r\n            siteName : \"\",\r\n            siteUrl : \"\",\r\n        }),\r\n        {data : selectOptions, setData : setSelectOptions} = useFetch(\"/api/site-resources\", {\r\n            method : \"GET\",\r\n            headers : {\r\n                \"x-auth-token\" : authToken,\r\n                \"Content-type\" : \"application/json\",\r\n            }\r\n        }),\r\n        [siteResourceReady, setSiteResourceReady] = useState(false),\r\n\r\n        // scraperDbObject\r\n        [scraperDetails, setScraperDetails] = useState({\r\n            productBrand : \"\", \r\n            imagePropName : \"\", \r\n            imageNameObject : {\r\n                shared : [],\r\n                split : [],\r\n            },\r\n            csvExcludedProps : [\"imageUris\", \"imagePaths\"],\r\n        }),\r\n        [scraperDetailsReady, setScraperDetailsReady] = useState(false),\r\n\r\n\r\n        // model object;\r\n        [modelObjectOptions, setModelObjectOptions] = useState({\r\n            schema : {\r\n                imagePaths : {\r\n                    type : \"Array\",\r\n                    required : \"false\",\r\n                },\r\n                imageUris : {\r\n                    type : \"Array\",\r\n                    required : \"false\",\r\n                }\r\n            },\r\n            initializedProps : []\r\n        }),\r\n        [modelObjectOptionsReady, setModelObjectOptionsReady] = useState(false),\r\n\r\n\r\n        // route object;\r\n        [routeObjectOptions, setRouteObjectOptions] = useState({\r\n            recordName : \"\",\r\n            pluralized : false,\r\n        }),\r\n\r\n        \r\n        // evaluatorObjects\r\n        [evaluatorObjects, setEvaluatorObjects] = useState([]),\r\n        [evaluatorObjectsReady, setEvaluatorObjectsReady] = useState(false),\r\n\r\n        // usage\r\n        [usage, setUsage] = useState(\"\"),\r\n\r\n        [groupIdentifierKey, setGroupIdentifierKey] = useState(null),\r\n\r\n        [submitObject, setSubmitObject] = useState({\r\n            type : null,\r\n            message : null,\r\n            loading : false,\r\n        });\r\n    \r\n\r\n    \r\n    /************************************/\r\n    /************************************/\r\n        // Event Handlers\r\n    /************************************/\r\n    /************************************/\r\n\r\n\r\n    // site resource event handlers\r\n    const selectOnchangeHandler = (id) => {\r\n        setSiteResource(prev => {\r\n            return selectOptions.find(item => item._id === id);\r\n        });\r\n    }\r\n\r\n    const siteResourceHandler = (siteResource) => {\r\n        setSiteResource(prev => ({...siteResource}))\r\n        setSelectOptions(prev => [...prev, siteResource]);\r\n    }\r\n\r\n    const setSelectHandler = (state, e) => {\r\n        e.preventDefault();\r\n        if(!state)  setSiteResource(prev => (prev));\r\n        setSelectOn(prev => state);\r\n    }\r\n\r\n    const createReadyHandler = () => {\r\n        setSiteResourceReady(prev => true);\r\n    }\r\n\r\n\r\n    // scraper details event handler\r\n    const setScraperDataHandler = (scraperDetailsObj, boolState) => {\r\n        setScraperDetails(prev => ({...prev, ...scraperDetailsObj}));\r\n        setRouteObjectOptions(prev => {\r\n            return {\r\n                recordName : scraperDetailsObj.productBrand, \r\n                pluralized : false\r\n            };\r\n        });\r\n        setScraperDetailsReady(prev => boolState);\r\n    }\r\n\r\n    // set model Object event handler\r\n    const setModelObjectHandler = (modelObject, boolState) => {\r\n        setModelObjectOptions(prev => ({...prev, ...modelObject}));\r\n        setModelObjectOptionsReady(prev => boolState);\r\n    }\r\n\r\n\r\n\r\n    // set evaluatorObjects event handlers\r\n    const setEvaluatorObjectsHandler = (value, boolState) => {\r\n        setEvaluatorObjects(prev => [...value]);\r\n        setEvaluatorObjectsReady(prev => boolState);\r\n    }\r\n\r\n\r\n    // usage handler\r\n    const setUsageHandler = (value) => {\r\n        if(value.trim() !== \"\") {\r\n            setUsage(prev => value.trim());\r\n        }\r\n    }\r\n\r\n\r\n    // groupIdentifierKeyHandler\r\n    const setGroupIdentifierKeyHandler = (value) => {\r\n        \r\n        setGroupIdentifierKey(prev => value);\r\n  \r\n    }\r\n\r\n\r\n\r\n    // back button handler\r\n    const backButtonHandler = (setter) => {\r\n        setter(prev => false);\r\n\r\n        setSubmitObject(prev => {\r\n            return {\r\n                ...prev, \r\n                message : null,\r\n                loading : false,\r\n                type : null,\r\n            }\r\n        });\r\n    }\r\n\r\n    // cancel button handler\r\n    const cancelHandler = () => {\r\n        // siteResource\r\n        setSiteResource(prev => ({\r\n            _id : \"\",\r\n            siteName : \"\",\r\n            siteUrl : \"\",\r\n        }));\r\n        setSiteResourceReady(false);\r\n\r\n        // scraperDetails\r\n        setScraperDetails(prev => ({\r\n            productBrand : \"\", \r\n            imagePropName : \"\", \r\n            imageNameObject : {\r\n                shared : [],\r\n                split : [],\r\n            },\r\n            csvExcludedProps : [\"imageUris\", \"imagePaths\"],\r\n        }));\r\n        setScraperDetailsReady(false);\r\n\r\n        // modelObject\r\n        setModelObjectOptions(prev => ({\r\n            schema : {\r\n                imagePaths : {\r\n                    type : \"Array\",\r\n                    required : \"false\",\r\n                },\r\n                imageUris : {\r\n                    type : \"Array\",\r\n                    required : \"false\",\r\n                }\r\n            },\r\n            initializedProps : []\r\n        }));\r\n\r\n        // routeObjectOptions\r\n        setRouteObjectOptions(prev => ({\r\n            recordName : \"\",\r\n            pluralized : false,\r\n        }));\r\n\r\n        // evaluatorObjects = [];\r\n        setEvaluatorObjects(prev => []);\r\n        setUsage(prev => \"\");\r\n        setGroupIdentifierKey(prev => \"\");\r\n\r\n        //\r\n        setSubmitObject(prev => {\r\n            return {\r\n                ...prev, \r\n                message : null,\r\n                loading : false,\r\n                type : null,\r\n            }\r\n        });\r\n\r\n        setModelObjectOptionsReady(false);\r\n        setEvaluatorObjectsReady(false);\r\n    }\r\n\r\n\r\n\r\n    const saveScraperHandler = () => {\r\n\r\n        setSubmitObject(prev => {\r\n            return {\r\n                ...prev, \r\n                message : \"Saving the Scraper Script into our database...\",\r\n                loading : true,\r\n                type : \"info\",\r\n            }\r\n        });\r\n        fetch(`${baseUrl}/api/scrapers`, {\r\n            method : \"POST\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            body : JSON.stringify({\r\n                siteResource,\r\n                usage,\r\n                groupIdentifierKey,\r\n                ...scraperDetails,\r\n                modelObjectOptions,\r\n                routeObjectOptions,\r\n                evaluatorObjects,\r\n            }),\r\n            signal : abortCont.signal\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                let { statusOk } = data;\r\n                if(statusOk)    {\r\n                    \r\n                    setSubmitObject(prev => {\r\n                        return {\r\n                            ...prev, \r\n                            message : \"We have successfully saved the scraper script data. You will be redirected to the page where you can run the script shortly.\",\r\n                            loading : false,\r\n                            type : \"success\",\r\n                        }\r\n                    });\r\n                    setTimeout(() => {\r\n                        \r\n                        history.push(`/manage-scrapers/run-script/${data.data._id}`);\r\n                    }, 3000);\r\n                    \r\n                } else  {\r\n                    setSubmitObject(prev => {\r\n                        return {\r\n                            ...prev, \r\n                            message : \"Something went wrong with the process of saving the script... please check the scraper script details you have filled up...\",\r\n                            loading : false,\r\n                            type : \"warning\",\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setSubmitObject(prev => {\r\n                        return {\r\n                            ...prev, \r\n                            message : `Scraper Script was not saved : ${err.message}`,\r\n                            loading : false,\r\n                            type : \"error\",\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        \r\n        if(submitObject.type === \"success\") {\r\n\r\n        }\r\n\r\n        return () => abortCont.abort();\r\n    }, [submitObject]);\r\n\r\n    return  (\r\n        <>  \r\n            <h1 className=\"page-title\">{pageTitle}</h1>\r\n            \r\n            { submitObject.message !== null && \r\n                <EmptyCardFlex style={{padding : \".7rem 0\"}}>\r\n                    <Alert severity={submitObject.type}>{submitObject.loading && <CircularProgress style={{height: \"20px\", width : \"20px\"}}></CircularProgress>}{submitObject.message}</Alert>\r\n                    {/* <Alert severity=\"error\">This is an error message!</Alert>\r\n                    <Alert severity=\"warning\">This is a warning message!</Alert>\r\n                    \r\n                    <Alert severity=\"success\">This is a success message!</Alert> */}\r\n                </EmptyCardFlex>\r\n            }\r\n\r\n            <EmptyCardFlex >\r\n                <EmptyCardFlex className={styles[\"create-scraper-container\"]}>\r\n                    {  !siteResourceReady && \r\n                        <Card className={styles[\"site-resource-card\"]}> \r\n                            {selectOn && <SelectSiteResource \r\n                                selectOnchangeHandler={selectOnchangeHandler}\r\n                                selectedSiteResource={siteResource}\r\n                                selectOptions={selectOptions}\r\n                                setSelectHandler={setSelectHandler}\r\n                                createReadyHandler={createReadyHandler}\r\n                            />}\r\n\r\n                            {!selectOn && <CreateSiteResource siteResourceHandler={siteResourceHandler} createReadyHandler={createReadyHandler} setSelectHandler={setSelectHandler} />}\r\n                        </Card>\r\n                    }\r\n                    {\r\n                        siteResourceReady &&  !scraperDetailsReady && \r\n                        <Card className={styles[\"create-scraper-card\"]}> \r\n                            <CreateScraperData currentValue={scraperDetails} setScraperDataHandler={setScraperDataHandler} cancelHandler={cancelHandler} backButtonHandler={() => backButtonHandler(setSiteResourceReady)}  />\r\n                        </Card>\r\n                    }\r\n                    {  scraperDetailsReady && !modelObjectOptionsReady &&\r\n                        <CreateModelOptions currentValue={modelObjectOptions} setModelObjectHandler={setModelObjectHandler} cancelHandler={cancelHandler} backButtonHandler={() => backButtonHandler(setScraperDetailsReady)} />\r\n                    }\r\n                    {  modelObjectOptionsReady && !evaluatorObjectsReady &&\r\n                        <CreateEvaluators \r\n                            currentValue={evaluatorObjects} \r\n                            currentUsageValue={usage}\r\n                            currentGroupIdentifierKeyValue={groupIdentifierKey}\r\n                            currentSchema={modelObjectOptions.schema}\r\n                            setGroupIdentifierKeyHandler={setGroupIdentifierKeyHandler} \r\n                            setUsageHandler={setUsageHandler} \r\n                            setEvaluatorObjectsHandler={setEvaluatorObjectsHandler} \r\n                            cancelHandler={cancelHandler}\r\n                            backButtonHandler={() => backButtonHandler(setModelObjectOptionsReady)} />\r\n                    }\r\n\r\n\r\n\r\n                    {/* showing data to be submitted to the scraper API */}\r\n\r\n\r\n\r\n                    { siteResourceReady && !evaluatorObjectsReady &&\r\n                        <Card className={styles[\"json-data\"]}>\r\n                                {siteResourceReady && \r\n                                    <div className={styles[\"container\"]}>\r\n                                        <p>Site Resource : </p>\r\n                                        <ul>\r\n                                            <li><span className={styles[\"label\"]}>id</span> : {siteResource._id}</li>\r\n                                            <li><span className={styles[\"label\"]}>Site Name</span> : {siteResource.siteName}</li>\r\n                                            <li><span className={styles[\"label\"]}>Site Url</span> : {siteResource.siteUrl}</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                }\r\n                                {scraperDetailsReady && \r\n                                    <div className={styles[\"container\"]}>\r\n                                        <p>Scraper Details : </p>\r\n                                        <ul>\r\n                                            <li><span className={styles[\"label\"]}>Product Brand</span> : {scraperDetails.productBrand}</li>\r\n                                            <li><span className={styles[\"label\"]}>Image Prop Name</span> : {scraperDetails.imagePropName}</li>\r\n                                            <li><span className={styles[\"label\"]}>Image Name Object</span> : \r\n                                                <ul>\r\n                                                    <li><span className={styles[\"label\"]}>Split</span> : {scraperDetails.imageNameObject.split.join(\", \")}</li>\r\n                                                    <li><span className={styles[\"label\"]}>Shared</span> : {scraperDetails.imageNameObject.shared.join(\", \")}</li>\r\n                                                </ul>\r\n                                            </li>\r\n                                            <li><span className={styles[\"label\"]}>Image Name Object</span> : {scraperDetails.csvExcludedProps.join(\", \")}</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                }\r\n                                { modelObjectOptionsReady &&\r\n                                    <>\r\n                                        <div className={styles[\"container\"]}>\r\n                                            <p>Model Object Options : </p>\r\n                                            <ul>\r\n                                                <li><span className={styles[\"label\"]}>Schema</span> : \r\n                                                    <ul>\r\n                                                        {Object.keys(modelObjectOptions.schema).map(key => {\r\n                                                            return (\r\n                                                                <li key={key}><span className={styles[\"label\"]}>{toNormalString(key)}</span> : \r\n                                                                    <ul>\r\n                                                                        {Object.keys(modelObjectOptions.schema[key]).map(prop => {\r\n                                                                            return (\r\n                                                                                <li key={prop}><span className={styles[\"label\"]}>{toNormalString(prop)}</span> : {modelObjectOptions.schema[key][prop]}</li>\r\n                                                                            );\r\n                                                                        })}\r\n                                                                    </ul>\r\n                                                                </li>\r\n                                                            )\r\n                                                        })}\r\n                                                    </ul>\r\n                                                </li>\r\n                                                <li><span className={styles[\"label\"]}>Initialized Props</span> : \r\n                                                    <ul>\r\n                                                        {modelObjectOptions.initializedProps.map((item, index) => {\r\n                                                            return (\r\n                                                                <li key={index}><span className={styles[\"label\"]}>{toNormalString(Object.keys(item).join(\"\"))}</span> : {Object.values(item).join(\", \")}</li>\r\n                                                            );\r\n                                                        })}\r\n                                                    </ul>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        <div className={styles[\"container\"]}>\r\n                                            <p>Route Object Options : </p>\r\n                                            <ul>\r\n                                                <li><span className={styles[\"label\"]}>Record Name</span> : {routeObjectOptions.recordName}</li>      \r\n                                                <li><span className={styles[\"label\"]}>Pluralized</span> : {routeObjectOptions.pluralized.toString()}</li>      \r\n                                            </ul>\r\n                                        </div>\r\n                                    </>\r\n                                }\r\n                                {\r\n                                    evaluatorObjects && \r\n                                    <div className={styles[\"container\"]}>\r\n                                        <p>Evaluator Objects : </p>\r\n                                        <ul>\r\n                                            {evaluatorObjects.map((item, index) => {\r\n                                                return (\r\n                                                    <li key={index}><span className={styles[\"label\"]}>Evaluator Object {index + 1}</span> : \r\n                                                        <ul>\r\n                                                            <li>\r\n                                                                <span className={styles[\"label\"]}>Callback</span> :\r\n                                                                {item.callback}\r\n                                                            </li>\r\n                                                            {item.waitMethods.length > 0 && <li>\r\n                                                                <span className={styles[\"label\"]}>Wait Methods</span> :\r\n                                                                <ul>\r\n                                                                    {item.waitMethods.map((method, i) => {\r\n                                                                        return (\r\n                                                                            <li key={i}>\r\n                                                                                <ul>\r\n                                                                                    <li><span className={styles[\"label\"]}>Name</span> : {method.name}</li>\r\n                                                                                    <li><span className={styles[\"label\"]}>Args</span> : {method.args}</li>\r\n                                                                                </ul>\r\n                                                                            </li>\r\n                                                                        )\r\n                                                                    })}\r\n                                                                </ul>\r\n                                                                \r\n                                                            </li>}\r\n                                                            {\r\n                                                                item.type === \"list\" && \r\n                                                                <li>\r\n                                                                    <span className={styles[\"label\"]}>Paginated</span> :\r\n                                                                    {item.paginated.toString()}\r\n                                                                </li>\r\n                                                            }\r\n                                                            {\r\n                                                                item.type !== \"list\" && \r\n                                                                <>\r\n                                                                    <li>\r\n                                                                        <span className={styles[\"label\"]}>Object Property Arguments</span> :\r\n                                                                        {item.objPropArgs.join(\", \")}\r\n                                                                    </li>\r\n                                                                    <li>\r\n                                                                        <span className={styles[\"label\"]}>Product Url Prop Name</span> :\r\n                                                                        {item.productUrlProp}\r\n                                                                    </li>\r\n                                                                </>\r\n                                                            }\r\n                                                            \r\n                                                        </ul>\r\n                                                    </li>\r\n                                                )\r\n                                            })}\r\n                                        </ul>\r\n                                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                        {usage && \r\n                                            <>\r\n                                                <p className={styles[\"label\"]}>Developer's comment on usage : </p>\r\n                                                <ul>\r\n                                                    <li><span className={styles[\"label\"]}>Usage</span> : {usage}</li>\r\n                                                </ul>\r\n                                            </>\r\n                                        }\r\n                                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                        {groupIdentifierKey && \r\n                                            <>\r\n                                                <p className={styles[\"label\"]}>Developer's comment on usage : </p>\r\n                                                <ul>\r\n                                                    <li><span className={styles[\"label\"]}>Product Group Identifier Key</span> : {groupIdentifierKey}</li>\r\n                                                </ul>\r\n                                            </>\r\n                                        }\r\n                                    </div>\r\n                                }\r\n                                \r\n                        </Card>\r\n                    }\r\n\r\n                </EmptyCardFlex>\r\n                \r\n                <EmptyCardFlex flexDirection=\"row\">\r\n                    { evaluatorObjectsReady &&\r\n                        <Card className={styles[\"json-data\"]}>\r\n                            <h6 className={styles[\"template-section-title\"]}>Please Review the Data before submitting</h6>\r\n                                {siteResourceReady && \r\n                                    <div className={styles[\"container\"]}>\r\n                                        <p>Site Resource : </p>\r\n                                        <ul>\r\n                                            <li><span className={styles[\"label\"]}>id</span> : {siteResource._id}</li>\r\n                                            <li><span className={styles[\"label\"]}>Site Name</span> : {siteResource.siteName}</li>\r\n                                            <li><span className={styles[\"label\"]}>Site Url</span> : {siteResource.siteUrl}</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                }\r\n                                {scraperDetailsReady && \r\n                                    <div className={styles[\"container\"]}>\r\n                                        <p>Scraper Details : </p>\r\n                                        <ul>\r\n                                            <li><span className={styles[\"label\"]}>Product Brand</span> : {scraperDetails.productBrand}</li>\r\n                                            <li><span className={styles[\"label\"]}>Image Prop Name</span> : {scraperDetails.imagePropName}</li>\r\n                                            <li><span className={styles[\"label\"]}>Image Name Object</span> : \r\n                                                <ul>\r\n                                                    <li><span className={styles[\"label\"]}>Split</span> : {scraperDetails.imageNameObject.split.join(\", \")}</li>\r\n                                                    <li><span className={styles[\"label\"]}>Shared</span> : {scraperDetails.imageNameObject.shared.join(\", \")}</li>\r\n                                                </ul>\r\n                                            </li>\r\n                                            <li><span className={styles[\"label\"]}>Image Name Object</span> : {scraperDetails.csvExcludedProps.join(\", \")}</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                }\r\n                                {modelObjectOptionsReady &&\r\n                                    <>\r\n                                        <div className={styles[\"container\"]}>\r\n                                            <p>Model Object Options : </p>\r\n                                            <ul>\r\n                                                <li><span className={styles[\"label\"]}>Schema</span> : \r\n                                                    <ul>\r\n                                                        {Object.keys(modelObjectOptions.schema).map(key => {\r\n                                                            return (\r\n                                                                <li key={key}><span className={styles[\"label\"]}>{toNormalString(key)}</span> : \r\n                                                                    <ul>\r\n                                                                        {Object.keys(modelObjectOptions.schema[key]).map((prop, index) => {\r\n                                                                            return (\r\n                                                                                <li key={index}><span className={styles[\"label\"]}>{toNormalString(prop)}</span> : {modelObjectOptions.schema[key][prop]}</li>\r\n                                                                            );\r\n                                                                        })}\r\n                                                                        {/* <li><span className={styles[\"label\"]}>Image Prop Name</span> : </li> */}\r\n                                                                    </ul>\r\n                                                                </li>\r\n                                                            )\r\n                                                        })}\r\n                                                    </ul>\r\n                                                </li>\r\n                                                <li><span className={styles[\"label\"]}>Initialized Props</span> : \r\n                                                    <ul>\r\n                                                        {modelObjectOptions.initializedProps.map((item, index) => {\r\n                                                            return (\r\n                                                                <li key={index}><span className={styles[\"label\"]}>{toNormalString(Object.keys(item).join(\"\"))}</span> : {Object.values(item).join(\", \")}</li>\r\n                                                            );\r\n                                                        })}\r\n                                                    {/* <li><span className={styles[\"label\"]}>id</span> : {siteResource._id}</li> */}\r\n                                                    </ul>\r\n                                                </li>\r\n                                            </ul>\r\n                                        </div>\r\n                                        <div className={styles[\"container\"]}>\r\n                                            <p>Route Object Options : </p>\r\n                                            <ul>\r\n                                                <li><span className={styles[\"label\"]}>Record Name</span> : {routeObjectOptions.recordName}</li>      \r\n                                                <li><span className={styles[\"label\"]}>Pluralized</span> : {routeObjectOptions.pluralized.toString()}</li>      \r\n                                            </ul>\r\n                                        </div>\r\n                                    </>\r\n                                }\r\n                                {\r\n                                    evaluatorObjects && \r\n                                    <div className={styles[\"container\"]}>\r\n                                        <p>Evaluator Objects : </p>\r\n                                        <ul>\r\n                                            {evaluatorObjects.map((item, index) => {\r\n                                                return (\r\n                                                    <li key={index}><span className={styles[\"label\"]}>Evaluator Object {index + 1}</span> : \r\n                                                        <ul>\r\n                                                            <li>\r\n                                                            <div className={styles[\"label\"]}>Callback : </div>\r\n                                                                <FormControl>\r\n                                                                    {/* onChange, padding, value, style, placeholder */}\r\n                                                                    <CodeEditor disabled value={item.callback}></CodeEditor>\r\n                                                                    {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                                                                </FormControl>\r\n                                                            </li>\r\n                                                            {item.waitMethods.length > 0 && <li>\r\n                                                                <span className={styles[\"label\"]}>Wait Methods</span> :\r\n                                                                <ul>\r\n                                                                    {item.waitMethods.map((method, i) => {\r\n                                                                        return (\r\n                                                                            <li key={i}>\r\n                                                                                <ul>\r\n                                                                                    <li><span className={styles[\"label\"]}>Name</span> : {method.name}</li>\r\n                                                                                    <li><span className={styles[\"label\"]}>Args</span> : {method.args}</li>\r\n                                                                                </ul>\r\n                                                                            </li>\r\n                                                                        )\r\n                                                                    })}\r\n                                                                </ul>\r\n                                                                \r\n                                                            </li>}\r\n                                                            {\r\n                                                                item.type === \"list\" && \r\n                                                                <li>\r\n                                                                    <span className={styles[\"label\"]}>Paginated</span> :\r\n                                                                    {item.paginated.toString()}\r\n                                                                </li>\r\n                                                            }\r\n                                                            {\r\n                                                                item.type !== \"list\" && \r\n                                                                <>\r\n                                                                    <li>\r\n                                                                        <span className={styles[\"label\"]}>Object Property Arguments</span> :\r\n                                                                        {item.objPropArgs.join(\", \")}\r\n                                                                    </li>\r\n                                                                    <li>\r\n                                                                        <span className={styles[\"label\"]}>Product Url Prop Name</span> :\r\n                                                                        {item.productUrlProp}\r\n                                                                    </li>\r\n                                                                </>\r\n                                                            }\r\n                                                            \r\n                                                        </ul>\r\n                                                    </li>\r\n                                                )\r\n                                            })}\r\n                                        </ul>\r\n                                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                        {usage && \r\n                                            <>\r\n                                                <p className={styles[\"label\"]}>Developer's comment on usage : </p>\r\n                                                <ul>\r\n                                                    <li><span className={styles[\"label\"]}>Usage</span> : {usage}</li>\r\n                                                </ul>\r\n                                            </>\r\n                                        }\r\n                                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                        {groupIdentifierKey && \r\n                                            <>\r\n                                                <p className={styles[\"label\"]}>Product Key that identifies what group or set name the product belongs to : </p>\r\n                                                <ul>\r\n                                                    <li><span className={styles[\"label\"]}>Product Group Identifier Key</span> : {groupIdentifierKey}</li>\r\n                                                </ul>\r\n                                            </>\r\n                                        }\r\n                                    </div>\r\n                                }\r\n                            <div className={styles[\"buttons-container\"]}>\r\n                                <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                <Button onClick={cancelHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<Cancel />} >\r\n                                        Cancel\r\n                                </Button>\r\n                                <Button type=\"button\" onClick={() => backButtonHandler(setEvaluatorObjectsReady)} variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<PreviousIcon />} >\r\n                                    Back\r\n                                </Button>\r\n                                \r\n                                {submitObject.loading && <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"primary\" onClick={saveScraperHandler} disableElevation disabled startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}} color=\"secondary\"  />} >\r\n                                    Saving the Scraper Script\r\n                                </Button>}\r\n\r\n                                {!submitObject.loading && !submitObject.message && <Button type=\"button\" onClick={saveScraperHandler} variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<PublishIcon />} >\r\n                                    Save the Scraper Script\r\n                                </Button>}\r\n\r\n                                {!submitObject.loading && submitObject.type === \"success\" && <Button type=\"button\" onClick={saveScraperHandler} variant=\"contained\" size=\"small\" color=\"primary\" disableElevation disabled startIcon={<Check />} >\r\n                                    Done.\r\n                                </Button>}\r\n\r\n                                {!submitObject.loading && submitObject.type !== null && submitObject.type !== \"success\" && <Button type=\"button\" onClick={saveScraperHandler} variant=\"contained\" size=\"small\" color=\"primary\" disableElevation disabled startIcon={<CloseIcon />} >\r\n                                    Scraper was not saved...\r\n                                </Button>}\r\n                                \r\n                            </div>\r\n                        </Card>\r\n                    }\r\n                </EmptyCardFlex>\r\n            </EmptyCardFlex>  \r\n            \r\n        </>\r\n    )\r\n}","import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport useAuth from \"../../../hooks/useAuth\";\r\nimport { io } from \"socket.io-client\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// custom hooks\r\nimport useFetch from \"../../../hooks/useFetch\";\r\n\r\n// Material UI Components && custom components\r\nimport Card from \"../../../components/Card\";\r\nimport EmptyCardFlex from \"../../../components/EmptyCardFlex\";\r\nimport { Button, TextField, FormControl, CircularProgress, Divider } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport PlayIcon from '@material-ui/icons/PlayArrow';\r\nimport DownloadIcon from '@material-ui/icons/GetApp';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport PreviousIcon from '@material-ui/icons/NavigateBefore';\r\nimport MuiTable from \"../../../components/MuiTable\";\r\n\r\n// progress bar\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\n\r\n// utils\r\nimport { toCapitalizeAll, toNormalString } from \"../../../utilities/string\";\r\n\r\n// config\r\nimport { baseUrl, socketUrl, fileUrl } from \"../../../config\";\r\n\r\n\r\n// styles\r\nimport styles from \"./RunScraperScript.module.scss\";\r\n\r\n\r\n// socket.io\r\nconst socket = io(`${socketUrl}`);\r\n\r\n\r\nexport default function RunScraperScript({pageTitle})  {\r\n\r\n    let {authToken, fileToken} = useAuth(),\r\n        history = useHistory(),\r\n        {id} = useParams(),\r\n        {data : scraperData, fetchMessage} = useFetch(`/api/scrapers/${id}`),\r\n        [siteName, setSiteName] = useState(\"\"),\r\n        [productBrand, setProductBrand] = useState(\"\"),\r\n        [siteUrl, setSiteUrl] = useState(\"\"),\r\n        [csvExcludedProps, setCsvExcludedProps] = useState(null), \r\n        [groupIdentifierKey, setGroupIdentifierKey] = useState(\"\"),\r\n        [evaluatorObjects, setEvaluatorObjects] = useState([]),\r\n        [apiRoute, setApiRoute] = useState(null),\r\n        [evaluatorIndexes, setEvaluatorIndexes] = useState([]),\r\n        [usage, setUsage] = useState(null),\r\n\r\n        // script id\r\n        [scriptId, setScriptId] = useState(null),\r\n\r\n        // requiredData from user\r\n        [productsListEvaluatorUris, setProductsListEvaluatorUris] = useState([]),\r\n        [groupIdentifier, setGroupIdentifier] = useState(null),\r\n        [evaluatorArgs, setEvaluatorArgs] = useState([]),\r\n\r\n        // script state\r\n        [scriptRunning, setScriptRunning] = useState(false),\r\n        [scrapingMessage, setScrapingMessage] = useState(null),\r\n        [scrapingStatus, setScrapingStatus] = useState(null),\r\n\r\n        // next action states // downloading and saving;\r\n        [downloadingZip, setDownloadingZip] = useState(false),\r\n        [savingToDb, setSavingToDb] = useState(false),\r\n        [savingDataMessage, setSavingDataMessage] = useState(null),\r\n        [savingDataStatus, setSavingDataStatus] = useState(null),\r\n\r\n        // scraped data;\r\n        [scrapedData, setScrapedData] = useState(null),\r\n        [unscrapedData, setUnscrapedData] = useState(null),\r\n        [submitEnabled, setSubmitEnabled] = useState(false),\r\n\r\n        // io currentProcess\r\n        [currentProcess, setCurrentProcess] = useState(null),\r\n        [currentScrapedProducts, setCurrentScrapedProducts] = useState(0),\r\n        [rescraping, setRescraping] = useState(false),\r\n        [totalScrapedData, setTotalScrapedData] = useState(0),\r\n        [totalUnscrapedData, setTotalUnscrapedData] = useState(0),\r\n        [currentShownData, setCurrentShownData] = useState([]),\r\n        [productsTotal, setProductsTotal] = useState(null),\r\n\r\n\r\n        [progress, setProgress] = useState(0),\r\n\r\n        [runningScriptObject, setRunningScriptObject] = useState(null),\r\n\r\n        abortCont = new AbortController();\r\n\r\n\r\n    const groupIdentifierKeyChangeHandler = (e) => {\r\n        setGroupIdentifier(prev => e.target.value);\r\n    }\r\n\r\n    \r\n    const evaluatorUriChangeHandler = (propName, evaluatorObjectIndex, arrIndex, e) => {\r\n        e.preventDefault();\r\n        setProductsListEvaluatorUris(prev => {\r\n            let arr = [...prev];\r\n            arr[arrIndex] = {[propName] : e.target.value, evaluatorIndex : evaluatorObjectIndex};\r\n\r\n            return arr;\r\n        });\r\n    }\r\n\r\n    const backButtonHandler = () => {\r\n        history.goBack();\r\n    }\r\n\r\n\r\n    // bottom buttons event handlers       \r\n    const runScraperScriptHandler = (e) => {\r\n        e.preventDefault()\r\n\r\n        // reset the other states for downloading process.\r\n        setCurrentScrapedProducts(prev => null);\r\n        setCurrentShownData(prev => []);\r\n        setProductsTotal(prev => null);\r\n\r\n        setScrapedData(null);\r\n        setUnscrapedData(null);\r\n\r\n        setScriptRunning(prev => true);\r\n        setScrapingMessage(prev => \"Currently running the script...\");\r\n        setScrapingStatus(prev => \"info\");\r\n\r\n        fetch(`${baseUrl}/api/script/create-script/${id}`, {\r\n            method : \"POST\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            body : JSON.stringify({groupIdentifier, productsListEvaluatorUris, evaluatorArgs}),\r\n            signal : abortCont.signal,\r\n        })\r\n            .then(res => {\r\n                if(res.ok)  {\r\n                    return res.json()\r\n                } else  {\r\n                    throw Error(\"We couldn't reach the server\");\r\n                }\r\n            })\r\n            .then(data => {\r\n                setScriptId(prev => data.scriptId);\r\n                setTimeout(() => {\r\n                    fetch(`${baseUrl}/api/script/execute-script/${data.scriptId}`, {\r\n                        method : \"POST\",\r\n                        headers : {\r\n                            \"Content-type\" : \"application/json\",\r\n                            \"x-auth-token\" : authToken,\r\n                        },\r\n                        signal : abortCont.signal,\r\n                    })\r\n                        .then(res => {\r\n                            if(!res.ok)  {\r\n                               throw Error(\"We couldn't reach the server.\"); \r\n                            }\r\n                            return res.json();\r\n                        })\r\n                        .then(data => {\r\n                            setScriptRunning(prev => true);\r\n                            setScrapingStatus(\"info\");\r\n                            setScrapingMessage(`We are now scraping the data for ${productBrand} - ${groupIdentifier} from ${siteName}`);\r\n\r\n\r\n                        })\r\n                        .catch(err => {\r\n                            if(err.name !== \"AbortError\")   {\r\n                                setScriptRunning(prev => false); \r\n                                setScrapingMessage(err.message);\r\n                                setScrapingStatus(\"error\");\r\n                            }\r\n                            \r\n                        });\r\n                }, 1500);\r\n                \r\n\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setScriptRunning(prev => false);\r\n                    setScrapingMessage(err.message);\r\n                    setScrapingStatus(prev => \"error\");\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    // action button events handler\r\n\r\n    const downloadZipHandler = (e) => {\r\n        e.preventDefault();\r\n        setDownloadingZip(true);\r\n\r\n\r\n        fetch(`${baseUrl}/api/script/create-csv/${scriptId}`, {\r\n            method : \"GET\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            signal : abortCont.signal,\r\n        })\r\n            .then( res => res.json() )\r\n            .then( data => {\r\n                setDownloadingZip(false);\r\n\r\n                let {filePath} = data,\r\n                    downloadUrl = `${fileUrl}${fileToken}?filePath=${filePath}&qType=download`;\r\n                \r\n\r\n                let aElem = document.createElement(\"a\");\r\n                aElem.setAttribute(\"href\", downloadUrl);\r\n                aElem.setAttribute(\"download\", true);\r\n                aElem.setAttribute(\"target\", \"_blank\");\r\n                aElem.click();\r\n\r\n                aElem.remove();\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setDownloadingZip(false);\r\n                }\r\n            });\r\n    }\r\n\r\n    const saveDataHandler = (e) => {\r\n        e.preventDefault();\r\n        setSavingToDb(true);\r\n        setSavingDataMessage(\"Currently saving the data\");\r\n        setSavingDataStatus(\"info\");\r\n\r\n\r\n        fetch(`${baseUrl}/api/script/save-data/${scriptId}`, {\r\n            method : \"POST\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            body : JSON.stringify({apiRoute, scraperId : id}),\r\n            signal : abortCont.signal,\r\n        })\r\n            .then( res => res.json() )\r\n            .then( data => {\r\n                let {statusOk, message} = data;\r\n                if(!statusOk)   {\r\n                    throw Error(message);\r\n                }\r\n                setSavingDataMessage(message);\r\n                setSavingDataStatus(\"success\");\r\n\r\n                let subApiRoute = apiRoute.replace(\"/api\", \"\"),\r\n                    url = `/scraped-data${subApiRoute}/all?${groupIdentifierKey}=${groupIdentifier}`;\r\n\r\n\r\n                setTimeout(() => history.push(url), 3000);\r\n\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setSavingDataMessage(err.message);\r\n                    setSavingDataStatus(\"error\");\r\n                }\r\n            });\r\n    }\r\n \r\n\r\n    // useEffect\r\n\r\n    useEffect(() => {\r\n        if(groupIdentifier !== null && groupIdentifier.trim() !== \"\")    {\r\n            setSubmitEnabled(true)\r\n        } else  {\r\n            setSubmitEnabled(false)\r\n        }\r\n\r\n    }, [productsListEvaluatorUris, groupIdentifier])\r\n\r\n\r\n    useEffect(() => {\r\n        if(scraperData._id)   {\r\n\r\n            // we set the scraper data into its own states\r\n            setEvaluatorIndexes(prev => {\r\n                return scraperData.evaluatorObjects.reduce((a, b, index) => {\r\n                    if(b.type === \"list\")   {\r\n                        a.push(index);\r\n                    }\r\n                    return a;\r\n                }, []);\r\n            });\r\n            \r\n            setSiteName(prev => scraperData.siteName);\r\n            setProductBrand(prev => scraperData.productBrand);\r\n            setSiteUrl(prev => scraperData.siteUrl);\r\n            setGroupIdentifierKey(prev => scraperData.groupIdentifierKey);\r\n            setEvaluatorObjects(prev => scraperData.evaluatorObjects);\r\n            setApiRoute(prev => scraperData.apiRoute);\r\n            setCsvExcludedProps(prev => scraperData.csvExcludedProps);\r\n            setUsage(prev => scraperData.usage);\r\n        }\r\n    }, [scraperData])\r\n\r\n    useEffect(() => {\r\n        setEvaluatorArgs(prev => {\r\n            return evaluatorIndexes.reduce((a, b) => {\r\n                a.push({evaluatorIndex : b, args : []});\r\n                return a;\r\n            }, []);\r\n        });\r\n\r\n    }, [evaluatorObjects, evaluatorIndexes]);\r\n\r\n    useEffect(() => {\r\n        \r\n        // fires up on dismounting of component\r\n\r\n        return () => {\r\n            fetch(`${baseUrl}/api/script/remove-scraper-object/${scriptId}`, {\r\n                method : \"POST\",\r\n                headers : {\r\n                    \"Content-type\" : \"application/json\",\r\n                    \"x-auth-token\" : authToken,\r\n                },\r\n                body : JSON.stringify({apiRoute}),\r\n                signal : abortCont.signal,\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => console.log(data))\r\n                .catch(err => {\r\n                    if(err.name !== \"AbortError\")   {\r\n                        console.log(err.name);\r\n                    }\r\n                });\r\n        }\r\n\r\n        \r\n    }, []);\r\n\r\n    \r\n\r\n    // prevent navigation while script running\r\n    useEffect(() => {\r\n        \r\n        function removeClick(e) {\r\n            e.preventDefault()\r\n            alert(\"Please do not navigate to any page while the script is running... try opening the pages on new tabs\");\r\n        }\r\n        if(scriptRunning)   {\r\n            Array.from(document.querySelectorAll(\"a\")).forEach(item => {\r\n                item.addEventListener(\"click\", removeClick);\r\n            });\r\n        } else  {\r\n            Array.from(document.querySelectorAll(\"a\")).forEach(item => {\r\n                item.removeEventListener(\"click\", removeClick);\r\n            });\r\n        }\r\n\r\n        return () => {\r\n            Array.from(document.querySelectorAll(\"a\")).forEach(item => {\r\n                item.removeEventListener(\"click\", removeClick);\r\n            });\r\n        }\r\n    }, [scriptRunning]);\r\n\r\n    /* SOCKET IO CONNECTION */\r\n    // socket.on(\"connection\")\r\n    socket.on(\"current-process\", (data) => {\r\n\r\n        if(scriptId === data.scriptId)  {\r\n    \r\n            if(data.phase === \"initial-scraping\")   {\r\n\r\n                setCurrentProcess(prev => data);\r\n                if(data.totalProducts)  {\r\n                    setProductsTotal(prev => data.totalProducts)\r\n                }\r\n            }\r\n\r\n            if(data.phase === \"data-scraping\")  {\r\n                if(currentProcess && typeof currentProcess.phase !== \"undefined\" && currentProcess.phase === \"initial-scraping\") {\r\n                    setCurrentProcess(prev => data);\r\n                }\r\n                if(data.totalScrapedData > totalScrapedData)  {\r\n                    setTotalScrapedData(prev => {\r\n                        return data.totalScrapedData;\r\n                    });\r\n                    setProgress(prev => (Number(data.totalScrapedData) / Number(productsTotal)) * 100 );\r\n                }\r\n                \r\n            }\r\n\r\n\r\n            if(data.phase === \"set-rescraping\") {\r\n                setRescraping(prev => true);\r\n                if(data.totalUnscrapedData > 0 && totalUnscrapedData !== data.totalUnscrapedData)    {\r\n                    setTotalUnscrapedData(prev => data.totalUnscrapedData);\r\n                    setTotalScrapedData(prev => {\r\n                        return data.totalScrapedData;\r\n                    });\r\n                    setProgress(prev => (Number(data.totalScrapedData) / Number(data.totalUnscrapedData)) * 100 );\r\n                }\r\n            }\r\n\r\n\r\n            if(data.phase === \"data-rescraping\")    {\r\n                if(currentProcess && typeof currentProcess.phase !== \"undefined\" && currentProcess.phase === \"data-scraping\") {\r\n                    setCurrentProcess(prev => data);\r\n                }\r\n                if(data.totalScrapedData > totalScrapedData)  {\r\n                    setTotalScrapedData(prev => {\r\n                        return data.totalScrapedData;\r\n                    });\r\n\r\n                    setProgress(prev => (Number(data.totalScrapedData) / Number(totalUnscrapedData)) * 100 );\r\n                }\r\n            }\r\n\r\n\r\n            if(data.phase === \"image-downloading\")   {\r\n                if(currentProcess &&  (currentProcess.phase === \"data-scraping\" || currentProcess.phase === \"data-rescraping\")) {\r\n                    setCurrentProcess(prev => data);\r\n                }\r\n                if(scrapingMessage !== `We are now downloading the images for the scraped the data : ${productBrand} - ${groupIdentifier} from ${siteName}`)    {\r\n                    setScrapingMessage(`We are now downloading the images for the scraped the data : ${productBrand} - ${groupIdentifier} from ${siteName}`);\r\n                }\r\n                \r\n            }\r\n\r\n            if(data.phase === \"finalizing\")  {\r\n                setScriptRunning(prev => false);\r\n                setScrapingStatus(\"success\");\r\n                setScrapingMessage(`We have successfully scraped the data for ${productBrand} - ${groupIdentifier} from ${siteName}`);\r\n\r\n\r\n                setCurrentProcess(prev => null);\r\n                setScrapedData(data.data);\r\n                setUnscrapedData(data.unscrapedData);\r\n\r\n            }\r\n        }\r\n    });\r\n    return (\r\n        <EmptyCardFlex className={styles[\"main-container\"]}>\r\n            {/* <pre style={{wordBreak : \"break-word\"}}>\r\n                {JSON.stringify(scraperData, null, 4)}\r\n            </pre> */}\r\n            <h1 className=\"page-title\">{pageTitle}</h1>\r\n            {scrapingMessage && !savingDataStatus && <EmptyCardFlex className={styles[\"message-container-top\"]}>\r\n                {scrapingStatus &&\r\n                    <Alert severity={scrapingStatus}>\r\n                        {scrapingStatus === \"info\" && \r\n                            <>\r\n                                <CircularProgress style={{height: \"20px\", width : \"20px\"}} color=\"primary\"  />\r\n                                &nbsp;&nbsp;&nbsp;\r\n                            </>\r\n                        }\r\n                        {scrapingMessage}\r\n                    </Alert>\r\n                }\r\n            </EmptyCardFlex>}\r\n\r\n\r\n            {savingDataStatus && \r\n                <EmptyCardFlex className={styles[\"message-container-top\"]}>\r\n                {savingDataStatus &&\r\n                    <Alert severity={savingDataStatus}>\r\n                        {savingDataStatus === \"info\" && \r\n                            <>\r\n                                <CircularProgress style={{height: \"20px\", width : \"20px\"}} color=\"primary\"  />\r\n                                &nbsp;&nbsp;&nbsp;\r\n                            </>\r\n                        }\r\n                        {savingDataMessage}\r\n                    </Alert>\r\n                }\r\n                </EmptyCardFlex>\r\n            }\r\n\r\n\r\n\r\n            { scriptRunning && currentProcess && \r\n                <Card>\r\n                    {!rescraping && \r\n                        <>\r\n                            <h6 className={styles[\"template-section-title\"]}>{toCapitalizeAll(toNormalString(currentProcess.phase, \"url\"))} - Total number of products to scrape : <span className={styles[\"highlighted-2\"]}>{productsTotal}</span></h6>\r\n                            <h6 className={styles[\"template-section-title\"]}>Current Scraped Products : <span className={styles[\"highlighted-2\"]}>{totalScrapedData}</span> / <span className={styles[\"highlighted-2\"]}>{productsTotal}</span></h6>\r\n                        </>\r\n                    }\r\n\r\n                    {rescraping && \r\n                        <>\r\n                            <h6 className={styles[\"template-section-title\"]}>{toCapitalizeAll(toNormalString(currentProcess.phase, \"url\"))} - Total number of products to scrape : <span className={styles[\"highlighted-2\"]}>{productsTotal}</span></h6>\r\n                            <h6 className={styles[\"template-section-title\"]}>We are currently rescraping : <span className={styles[\"highlighted-2\"]}>{totalScrapedData}</span> / <span className={styles[\"highlighted-2\"]}>{totalUnscrapedData}</span> </h6>\r\n                            <p>By default we are rescraping the unscraped data, until we at least have 5 rows of unscraped data left or lower; or if we have done rescraping the data for at least 5 times.</p>\r\n                        </>\r\n                    }\r\n                    {!rescraping && currentProcess && currentProcess.phase === \"image-download\" &&\r\n                        <>\r\n                            <h6 className={styles[\"template-section-title\"]}>We have already finished rescraping. We are now downloading the images for the scraped products. Scraping process will finish shortly.</h6>\r\n                        </>\r\n                    }\r\n\r\n                    <LinearProgress variant=\"determinate\" value={progress}  />\r\n\r\n                </Card>\r\n            }\r\n\r\n\r\n            {scrapingStatus === \"success\" && scrapedData &&\r\n\r\n                <Card>\r\n                    \r\n                    <h6 className={styles[\"section-title\"]}>Scraped Data : <span className={styles[\"highlighted\"]}>{productBrand}</span> - <span className={styles[\"highlighted-2\"]}>{groupIdentifier}</span></h6>\r\n\r\n                    <div className={styles[\"action-buttons-container\"]}>\r\n                        {!savingToDb &&\r\n                            <Button type=\"button\" onClick={saveDataHandler} variant=\"contained\" size=\"small\" style={{}}color=\"secondary\" disableElevation startIcon={<SaveIcon />} >\r\n                                Save to Database\r\n                            </Button>\r\n                        }\r\n                        {savingToDb &&\r\n                            <Button type=\"button\" onClick={saveDataHandler} variant=\"contained\" size=\"small\" disabled style={{}}color=\"secondary\" disableElevation startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}} color=\"secondary\"  />} >\r\n                                Saving Scraped Data into our database...\r\n                            </Button>\r\n                        }\r\n                        {!downloadingZip && <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"primary\" onClick={downloadZipHandler} disableElevation startIcon={<DownloadIcon />}>\r\n                            Download CSV files and Images\r\n                        </Button>}\r\n\r\n                        {downloadingZip && <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"primary\" onClick={downloadZipHandler} disabled disableElevation startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}} color=\"secondary\"  />}>\r\n                            Downloading CSV files and Images\r\n                        </Button>}\r\n                        \r\n                    </div>\r\n\r\n\r\n                    {scrapedData && <MuiTable tableData={scrapedData} uniqueId=\"cardUri\" excludedColumns={csvExcludedProps.filter(item => item !== \"imagePaths\")}></MuiTable>}\r\n                </Card>\r\n            } \r\n            {scrapingStatus === \"success\" && unscrapedData &&\r\n\r\n                <Card>\r\n                    <h6 className={styles[\"section-title\"]}>UNSCRAPED Data : <span className={styles[\"highlighted\"]}>{productBrand}</span> - <span className={styles[\"highligted-2\"]}>{groupIdentifier}</span></h6>\r\n                    {unscrapedData && <MuiTable tableData={unscrapedData} uniqueId=\"cardUri\" excludedColumns={csvExcludedProps.filter(item => item !== \"cardUri\")}></MuiTable>}\r\n                </Card>\r\n            }\r\n\r\n\r\n            <Card>\r\n                {scraperData._id && <h5 className={styles[\"template-title\"]}>Start scraping <span className={styles[\"highlighted\"]}>{productBrand}</span> data from {siteName}</h5>}\r\n                {!scraperData._id && <h5 className={styles[\"template-title\"]}>{fetchMessage}</h5>}\r\n                {usage && \r\n                <Alert severity=\"info\" className={styles[\"usage\"]}>\r\n                    <h6 className={styles[\"section-title\"]}>Usage</h6>\r\n                    <p>{usage}</p>\r\n                </Alert>}\r\n                \r\n                <div className={styles[\"field-container\"]}>\r\n                    <div className={styles[\"input-container\"]}>\r\n                        {  !scriptRunning && groupIdentifierKey &&\r\n                            <FormControl fullWidth>\r\n                                <TextField value={groupIdentifier || \"\"} onChange={groupIdentifierKeyChangeHandler} label={toNormalString(groupIdentifierKey)} />\r\n                                {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                            </FormControl>\r\n                        }\r\n\r\n                        {\r\n                            scriptRunning && \r\n                            <FormControl fullWidth>\r\n                                <TextField value={groupIdentifier || \"\"} disabled onChange={groupIdentifierKeyChangeHandler} label={toNormalString(groupIdentifierKey)} />\r\n                                {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                            </FormControl>\r\n                        }\r\n\r\n                    </div>\r\n                    \r\n                    {evaluatorIndexes.length > 0 && \r\n                        evaluatorIndexes.map((item, i) => {\r\n                            return (\r\n                                <div key={item} className={styles[\"input-container\"]}>\r\n                                    {!scriptRunning && groupIdentifierKey && \r\n                                        <FormControl fullWidth key={item}>\r\n                                            <TextField onChange={evaluatorUriChangeHandler.bind(this, \"url\", item, i)} label={`Starting Poin URL`} />\r\n                                            {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                                        </FormControl>\r\n                                    }\r\n\r\n                                    {\r\n                                        scriptRunning && \r\n                                        <FormControl fullWidth key={item}>\r\n                                            <TextField disabled onChange={evaluatorUriChangeHandler.bind(this, \"url\", item, i)} label={`Starting Poin URL`} />\r\n                                            {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                                        </FormControl>\r\n                                    }\r\n                                </div>\r\n                            )\r\n                        })\r\n                        \r\n                    }\r\n                </div>\r\n\r\n                <Divider style={{margin : \"1.4rem 0\"}} />\r\n                {scraperData._id && <div className={styles[\"buttons-container\"]}>\r\n                    \r\n                    {scriptRunning && <Button onClick={backButtonHandler} type=\"button\" disabled variant=\"contained\" size=\"small\" style={{}}color=\"secondary\" disableElevation startIcon={<PreviousIcon />} >\r\n                        Back\r\n                    </Button>}\r\n                    {!scriptRunning && <Button onClick={backButtonHandler} type=\"button\" variant=\"contained\" size=\"small\" style={{}}color=\"secondary\" disableElevation startIcon={<PreviousIcon />} >\r\n                        Back\r\n                    </Button>}\r\n\r\n\r\n                    {!scriptRunning && submitEnabled &&  <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"primary\" onClick={runScraperScriptHandler} disableElevation startIcon={<PlayIcon />} style={{color : \"white\", backgroundColor : \"green\"}}>\r\n                        Run the script\r\n                    </Button>}\r\n\r\n                    {!scriptRunning && !submitEnabled &&  <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"primary\" onClick={runScraperScriptHandler} disabled disableElevation startIcon={<PlayIcon />}>\r\n                        Run the script\r\n                    </Button>}\r\n\r\n                    {scriptRunning && <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"primary\" onClick={runScraperScriptHandler} disabled disableElevation startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}} color=\"secondary\"  />}>\r\n                        Executing the Script...\r\n                    </Button>}\r\n                </div>}\r\n\r\n                {!scraperData._id && \r\n                <div className={styles[\"buttons-container\"]}>\r\n                    <Button onClick={backButtonHandler} type=\"button\" disabled variant=\"contained\" size=\"small\" style={{}}color=\"secondary\" disableElevation startIcon={<PreviousIcon />} >\r\n                        Back\r\n                    </Button>\r\n                    {!scriptRunning && <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"primary\" onClick={runScraperScriptHandler} disabled disableElevation startIcon={<PlayIcon />}>\r\n                        Run the script\r\n                    </Button>}\r\n                    \r\n                </div>\r\n                }\r\n            </Card>\r\n            \r\n        </EmptyCardFlex>   \r\n    )\r\n}","import { useState, useEffect } from \"react\";\r\n\r\n// utils\r\nimport { isObjectInArray } from \"../../utilities/objects-array\";\r\n\r\n// Components\r\nimport { Button, TextField, Chip, FormControl, Divider, CircularProgress } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport Add from '@material-ui/icons/Add';\r\nimport Create from '@material-ui/icons/Create';\r\nimport Select from \"../../components/Select\";\r\nimport RadioButtonsGroup from \"../../components/Radio\";\r\nimport Card from \"../../components/Card\";\r\nimport EmptyCardFlex from \"../../components/EmptyCardFlex\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CodeEditor from \"../../components/CodeEditor/\";\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\n// styles\r\nimport styles from \"./EditEvaluators.module.scss\";\r\n\r\nexport default function EditEvaluators({currentValue, setEvaluatorObjectsHandler, cancelHandler})   {\r\n\r\n    let radioOptions = [\r\n            { value : \"list\", label : \"List\" },\r\n            { value : \"single\", label : \"Single\" },\r\n        ],\r\n        selectOptions = [\r\n            { name : \"True\", value : true },\r\n            { name : \"False\", value : false },\r\n        ],\r\n        [evaluatorObjects, setEvaluatorObjects] = useState(currentValue),\r\n        [submitButtonEnabled, setSubmitButtonEnabled] = useState(false),\r\n        [addEvaluatorButtonEnabled, setAddEvaluatorButtonEnabled] = useState(false),\r\n        \r\n\r\n        [callback, setCallback] = useState(\"\"),\r\n        [type, setType] = useState(\"list\"),\r\n\r\n        // waitMethod\r\n        [waitMethods, setWaitMethods] = useState([\r\n            // {name : \"waitForSelector\", args : \".page-card-info .product-info\"},\r\n            // {name : \"waitForSelector\", args : \".page-image-container .product-image\"},\r\n        ]),\r\n        [currentWaitMethod, setCurrentWaitMethod] = useState({\r\n            name: \"\",\r\n            args : \"\",\r\n        }),\r\n        [addWaitMethodButtonReady, setAddWaitMethodButtonReady] = useState(false),\r\n        [waitMethodError, setWaitMethodError] = useState(null),\r\n\r\n            // shows if evaluator TYPE === list;\r\n            [showPaginated, setShowPaginated] = useState(true),\r\n            [paginated, setPaginated] = useState(false),\r\n            \r\n            // only needed if evaluator TYPE === single;\r\n            [objPropArgs, setObjPropArgs] = useState([]),\r\n            [objPropArgsError, setObjPropArgsError] = useState(null),\r\n            [currentPropArg, setCurrentPropArg] = useState(''),\r\n            [addObjPropArgsButtonEnabled, setAddObjPropArgsButtonEnabled] = useState(false),\r\n\r\n            // productUrlProp\r\n            [productUrlProp, setProductUrlProp] = useState(\"\"),\r\n            [productUrlPropError, setProductUrlPropError] = useState(false),\r\n\r\n\r\n\r\n        // Ajax status;\r\n        [isLoading, setIsLoading] = useState(null),\r\n        [message, setMessage] = useState(null),\r\n        [status, setStatus] = useState(null);\r\n\r\n        \r\n\r\n\r\n    // callback event handler\r\n    const callbackTextFieldChangeHandler = (e) => {\r\n        setCallback(prev => e.target.value);\r\n    }\r\n\r\n\r\n    // wait methods event handlers\r\n\r\n    const removeWaitMethodHandler = (item, e) => {\r\n        setWaitMethods(prev => {\r\n            let arr = prev.slice();\r\n            return [...arr.filter(method => method !== item)];\r\n        })\r\n    }\r\n\r\n    const waitMethodInputChangeHandler = (propName, e) => {\r\n        e.preventDefault();\r\n        setWaitMethodError(prev => false);\r\n        setCurrentWaitMethod(prev => {\r\n            return {...prev, [propName] : e.target.value};\r\n        })\r\n    }\r\n\r\n    const addWaitMethodHandler = () => {\r\n        let waitMethod = {...currentWaitMethod};\r\n        if(!isObjectInArray(currentWaitMethod, waitMethods))    {\r\n            setWaitMethods(prev => { \r\n                return [...prev, waitMethod];\r\n            });\r\n        } else  {\r\n            setWaitMethodError(prev => `We already have this Wait Method in our list of methods.`);\r\n        }\r\n        setCurrentWaitMethod(prev => ({name : \"\", args : \"\"}));\r\n    }\r\n\r\n\r\n\r\n    // type events\r\n    const radioChangeHandler = (value) => {\r\n        setType(prev => value);\r\n        if(value === \"list\")    {\r\n            setShowPaginated(true);\r\n        } else  {\r\n            setShowPaginated(false);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // selectOnChangeHandler\r\n    const selectOnchangeHandler = (value) => {\r\n        setPaginated(prev => value);\r\n    }\r\n\r\n    // objPropArgs event handlers\r\n    const handleDeleteObjPropArgs = (value, e) => {\r\n        setObjPropArgs(prev => prev.filter(item => item !== value));\r\n    }\r\n\r\n    const propArgsInputChangeHandler = (e) => {\r\n        setCurrentPropArg(prev => e.target.value);\r\n        if(e.target.value !== \"\")   {\r\n            setObjPropArgsError(prev => null);\r\n            setAddObjPropArgsButtonEnabled(true);\r\n        } else  {\r\n            setAddObjPropArgsButtonEnabled(false);\r\n        }\r\n    }\r\n\r\n    const addButtonHandler = (e) => {\r\n        e.preventDefault();\r\n        \r\n        setCurrentPropArg(prev => {\r\n\r\n            setObjPropArgs(prevState => {\r\n                if(prevState.includes(prev))    {\r\n                    setObjPropArgsError(prevState => `We already have \"${prev}\" in our Object Property Arguments list...`);\r\n                    return [...prevState];\r\n                } else  {\r\n                    return [...prevState, prev];\r\n                }\r\n            });\r\n            setAddObjPropArgsButtonEnabled(false);\r\n            return \"\";\r\n        });\r\n        \r\n    }\r\n\r\n    // productUrlProp event handler\r\n    const productUrlPropChangeHandler = (e) => {\r\n        setProductUrlPropError(null);\r\n        setProductUrlProp(prev => e.target.value);\r\n    }\r\n\r\n\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n\r\n    // addEvaluatorObject event handler\r\n    const addEvaluatorObjectHandler = (e) => {\r\n        e.preventDefault();\r\n        if(type === \"list\") {\r\n            setEvaluatorObjects(prev => [...prev, {\r\n                callback,\r\n                type,\r\n                waitMethods,\r\n                paginated,\r\n            }]);\r\n        } else  {\r\n            setEvaluatorObjects(prev => [...prev, {\r\n                callback,\r\n                type,\r\n                waitMethods,\r\n                objPropArgs,\r\n                productUrlProp,\r\n            }]);\r\n            \r\n        }\r\n        \r\n        setCallback(prev => \"\");\r\n        setWaitMethods(prev => []);\r\n        setPaginated(false);\r\n        setObjPropArgs(prev => []);\r\n        setProductUrlProp(prv => \"\");\r\n        setAddEvaluatorButtonEnabled(false);\r\n        \r\n        \r\n    }\r\n\r\n    const removeEvaluatorHandler = (item, e) => {\r\n        setEvaluatorObjects(prev => prev.filter(evaluator => evaluator !== item));\r\n    }\r\n\r\n    const checkEvaluatorReady = () => {\r\n        if(callback === \"\")   {\r\n            setAddEvaluatorButtonEnabled(false);\r\n            return;\r\n        }\r\n        if(type === \"single\" && productUrlProp.trim() === \"\")  {\r\n            setAddEvaluatorButtonEnabled(false);\r\n            return;\r\n        }\r\n        setAddEvaluatorButtonEnabled(true);\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n    /* **************************************************** */\r\n\r\n\r\n\r\n\r\n\r\n    // submitHandler\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        \r\n        setEvaluatorObjectsHandler(evaluatorObjects, false, setIsLoading, setMessage, setStatus);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setAddWaitMethodButtonReady(prev => (currentWaitMethod.name.trim() !== \"\" && currentWaitMethod.args.trim() !== \"\"));\r\n        checkEvaluatorReady();\r\n        if(evaluatorObjects.length) {\r\n            setSubmitButtonEnabled(true);\r\n        } else  {\r\n            setSubmitButtonEnabled(false);\r\n        }\r\n\r\n    }, [currentWaitMethod, callback, type, productUrlProp, evaluatorObjects]);\r\n\r\n    return (\r\n        <form className={styles[\"main-container\"]} onSubmit={submitHandler}>\r\n\r\n            <EmptyCardFlex className={styles[\"evaluator-object-container\"]}>\r\n\r\n\r\n                { message && \r\n                    <EmptyCardFlex style={{padding : \".7rem 0\"}}>\r\n                        <Alert severity={status}>{isLoading && <CircularProgress style={{height: \"20px\", width : \"20px\"}}></CircularProgress>}{message}</Alert>\r\n                        {/* <Alert severity=\"error\">This is an error message!</Alert>\r\n                        <Alert severity=\"warning\">This is a warning message!</Alert>\r\n                        \r\n                        <Alert severity=\"success\">This is a success message!</Alert> */}\r\n                    </EmptyCardFlex>\r\n                }\r\n\r\n\r\n                {evaluatorObjects.length > 0 && \r\n                <Card className={styles[\"create-evaluator-card\"]}>\r\n                    <div className={styles[\"added-evaluator-container\"]}>\r\n                        <h6 className={styles[\"template-title\"]}>Current Evaluator Objects</h6>\r\n\r\n                        {evaluatorObjects.map((item, index) => {\r\n                            return (\r\n                                <div className={styles[\"added-evaluator-object-container\"]} key={index}>\r\n                                    <ul>\r\n                                        <li>\r\n                                            <div className={styles[\"label\"]}>Callback : </div>\r\n                                            <FormControl>\r\n                                                {/* onChange, padding, value, style, placeholder */}\r\n                                                <CodeEditor disabled value={item.callback}></CodeEditor>\r\n                                                {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                                            </FormControl>\r\n                                        </li>\r\n                                        {item.waitMethods.length > 0 && <li>\r\n                                            <span className={styles[\"label\"]}>Wait Methods</span> :\r\n                                            <ul>\r\n                                                {item.waitMethods.map((method, i) => {\r\n                                                    return (\r\n                                                        <li key={i}>\r\n                                                            <ul>\r\n                                                                <li><span className={styles[\"label\"]}>Name</span> : {method.name}</li>\r\n                                                                <li><span className={styles[\"label\"]}>Args</span> : {method.args}</li>\r\n                                                            </ul>\r\n                                                        </li>\r\n                                                    )\r\n                                                })}\r\n                                            </ul>\r\n                                            \r\n                                        </li>}\r\n                                        {\r\n                                            item.type === \"list\" && \r\n                                            <li>\r\n                                                <span className={styles[\"label\"]}>Paginated</span> :\r\n                                                {item.paginated.toString()}\r\n                                            </li>\r\n                                        }\r\n                                        {\r\n                                            item.type !== \"list\" && \r\n                                            <>\r\n                                                <li>\r\n                                                    <span className={styles[\"label\"]}>Object Property Arguments</span> :\r\n                                                    {item.objPropArgs.join(\", \")}\r\n                                                </li>\r\n                                                <li>\r\n                                                    <span className={styles[\"label\"]}>Product Url Prop Name</span> :\r\n                                                    {item.productUrlProp}\r\n                                                </li>\r\n                                            </>\r\n                                        }\r\n                                        \r\n                                    </ul>\r\n                                    <span className={styles[\"remove-button\"]}>\r\n                                        <IconButton onClick={removeEvaluatorHandler.bind(this, item)} className={styles[\"delete-button\"]} color=\"default\" aria-label=\"upload picture\" component=\"span\">\r\n                                        <Cancel />\r\n                                        </IconButton>\r\n                                    </span>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </Card>}\r\n                <Card className={styles[\"create-evaluator-card\"]}>\r\n                    <div className={`${styles[\"form-container\"]}`}>\r\n                        <h6 className={styles[\"template-title\"]}>Create Evaluator Objects</h6>\r\n                        <div className={styles[\"input-container\"]}>\r\n                            <h6 className={styles[\"template-section-title\"]}>Write an Evaluator Function</h6>\r\n                            <FormControl>\r\n                                {/* onChange, padding, value, style, placeholder */}\r\n                                <CodeEditor onChange={callbackTextFieldChangeHandler} value={callback}></CodeEditor>\r\n                                {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                            </FormControl>\r\n\r\n                            <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n\r\n                            {/* // wait methods */}\r\n                            <div className={styles[\"wait-methods-container\"]}>\r\n                                \r\n                                {waitMethods.length > 0 &&\r\n                                    <>\r\n                                    <h6 className={styles[\"description\"]}>Added Wait Methods</h6>\r\n                                    <div className={styles[\"added-methods\"]}>\r\n                                        \r\n                                        <ul>\r\n                                            {waitMethods.map((item, index) => {\r\n                                                return (\r\n                                                    <li key={`${index}-${item}`}>\r\n                                                        <ul>\r\n                                                            <li><span>Method Name : </span> {item.name}</li>\r\n                                                            <li><span>Method Args : </span> {item.args}</li>\r\n                                                        </ul>\r\n                                                        <span className={styles[\"cancel-button\"]}>\r\n                                                            <IconButton onClick={removeWaitMethodHandler.bind(this, item)} className={styles[\"delete-button\"]} color=\"default\" aria-label=\"upload picture\" component=\"span\">\r\n                                                            <Cancel />\r\n                                                            </IconButton>\r\n                                                        </span>\r\n                                                        \r\n                                                    </li>\r\n                                                );\r\n                                            })}\r\n                                        </ul>\r\n                                        {waitMethodError && <p className={styles[\"error-message\"]}>{waitMethodError}</p>}\r\n                                    </div>\r\n                                    </>\r\n                                }\r\n\r\n                                <div className={styles[\"wait-method-input-container\"]}>\r\n                                    <div className={styles[\"input-container-array\"]}>\r\n                                        <p className={styles[\"description\"]}>Add Puppeteer Wait Methods</p>\r\n                                        <div className={styles[\"field-container\"]}>\r\n                                            <FormControl>\r\n                                                <TextField \r\n                                                    onChange={waitMethodInputChangeHandler.bind(this, \"name\")}\r\n                                                    fullWidth \r\n                                                    label=\"Method Name\" \r\n                                                    value={currentWaitMethod.name}\r\n                                                />\r\n                                            </FormControl>\r\n                                            <FormControl>\r\n                                                <TextField \r\n                                                    onChange={waitMethodInputChangeHandler.bind(this, \"args\")}\r\n                                                    fullWidth \r\n                                                    label=\"Method Arguments\" \r\n                                                    value={currentWaitMethod.args}\r\n                                                />\r\n                                            </FormControl>\r\n                                        </div>\r\n                                        <div className={styles[\"button-container\"]}>\r\n                                            {addWaitMethodButtonReady && \r\n                                            <Button \r\n                                                onClick={addWaitMethodHandler}\r\n                                                type=\"button\" \r\n                                                variant=\"contained\" \r\n                                                size=\"small\" \r\n                                                color=\"default\" \r\n                                                disableElevation \r\n                                                startIcon={<Add />} >\r\n                                                Add Wait Method\r\n                                            </Button>}\r\n                                            {!addWaitMethodButtonReady && <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation disabled startIcon={<Add />} >\r\n                                                Add Wait Method\r\n                                            </Button>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n\r\n\r\n                            {/* evaluator options */}\r\n                            <div className={styles[\"evaluator-options\"]}>\r\n                                <FormControl fullWidth>\r\n                                    <RadioButtonsGroup value={type} defaultValue={type} radioOptions={radioOptions} legend=\"Evalutator Type\" onChange={radioChangeHandler} />\r\n                                </FormControl>\r\n                                <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                {showPaginated &&\r\n                                    <>\r\n                                    <FormControl fullWidth>\r\n                                        <p className={styles[\"description\"]}>Is the evaluator function meant to be used for paginated starting url?</p>\r\n                                        <Select selectOnchangeHandler={selectOnchangeHandler} label=\"Is Paginated?\" options={selectOptions} uniqueProp=\"value\" optionLabelProp=\"name\" ></Select>\r\n                                    </FormControl>\r\n                                    <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                    </>\r\n                                }\r\n                                {!showPaginated &&\r\n                                    <>\r\n                                        <div className={styles[\"input-container-array\"]}>\r\n                                            <p className={styles[\"description\"]}>Object Properties as function arguments</p>\r\n                                            <div className={styles[\"input-container-2\"]}>\r\n                                                <div className={styles[\"field-container\"]}>\r\n                                                    {objPropArgs.length > 0 && \r\n                                                        <>\r\n                                                            <div className={`${styles[\"result-container\"]} ${styles[\"chip-container\"]}`}>\r\n                                                \r\n                                                                {objPropArgs.length > 0 && \r\n                                                                    objPropArgs.map((item, index) => {\r\n                                                                        return (\r\n                                                                            <Chip\r\n                                                                                key={`${item}-${index}`}\r\n                                                                                label={item}\r\n                                                                                onDelete={handleDeleteObjPropArgs.bind(this, item)}\r\n                                                                                deleteIcon={<Cancel />}\r\n                                                                            />\r\n                                                                        );\r\n                                                                    })\r\n                                                                }\r\n                                                            </div>\r\n                                                        </>\r\n                                                    }\r\n                                                    <div>\r\n                                                        <TextField \r\n                                                            value={currentPropArg}\r\n                                                            onChange={propArgsInputChangeHandler}\r\n                                                            fullWidth \r\n                                                            label=\"Object Property Arguments\" />\r\n                                                        {objPropArgsError && <p className={styles[\"error-message\"]}>{objPropArgsError}</p>}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        {addObjPropArgsButtonEnabled && <Button \r\n                                                            type=\"button\" \r\n                                                            variant=\"contained\" \r\n                                                            size=\"small\" \r\n                                                            disableElevation \r\n                                                            onClick={addButtonHandler}\r\n                                                            startIcon={<Add />} >\r\n                                                            Add Object Property Arguments\r\n                                                        </Button>}\r\n                                                        {!addObjPropArgsButtonEnabled && <Button \r\n                                                            type=\"button\" \r\n                                                            variant=\"contained\" \r\n                                                            size=\"small\" \r\n                                                            disabled\r\n                                                            disableElevation \r\n                                                            startIcon={<Add />} >\r\n                                                            Add Object Property Arguments\r\n                                                        </Button>}\r\n                                                    </div>\r\n                                                    \r\n                                                </div>\r\n                                                \r\n                                            </div>\r\n                                            \r\n                                        </div>\r\n                                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n                                        \r\n                                        <div className={styles[\"input-container-array\"]}>\r\n                                            <div className={styles[\"input-container-2\"]}>\r\n                                                <div className={styles[\"field-container\"]}>\r\n                                                    <TextField \r\n                                                        value={productUrlProp}\r\n                                                        onChange={productUrlPropChangeHandler}\r\n                                                        fullWidth \r\n                                                        label=\"Product URI Property\" />\r\n                                                        {productUrlPropError && <p className={styles[\"error-message\"]}>{productUrlPropError}</p>}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n                                        \r\n                                    </>\r\n                                }\r\n                                \r\n                                <div className={styles[\"buttons-container\"]}>\r\n                                {addEvaluatorButtonEnabled && <Button onClick={addEvaluatorObjectHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Create />} >\r\n                                    Add to List of Evaluators\r\n                                </Button>}\r\n                                {!addEvaluatorButtonEnabled && <Button onClick={addEvaluatorObjectHandler} type=\"button\" variant=\"contained\" disabled size=\"small\" color=\"secondary\" disableElevation startIcon={<Create />} >\r\n                                    Add to List of Evaluators\r\n                                </Button>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n\r\n\r\n\r\n\r\n                    {/* // buttons */}\r\n                    <div className={styles[\"buttons-container\"]}>\r\n                        <Button onClick={cancelHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<Cancel />} >\r\n                                Cancel\r\n                        </Button>\r\n                        \r\n                        {submitButtonEnabled && <Button type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<SaveIcon />} >\r\n                            Save\r\n                        </Button>}\r\n                        {!submitButtonEnabled && <Button type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disabled disableElevation startIcon={<SaveIcon />} >\r\n                            Save\r\n                        </Button>}\r\n                        \r\n                    </div>\r\n                </Card>\r\n            </EmptyCardFlex>\r\n        </form>    \r\n    )\r\n\r\n\r\n}","import { useHistory, useParams } from \"react-router-dom\";\r\nimport useFetch from \"../../../hooks/useFetch\";\r\nimport { useState, useEffect } from \"react\";\r\nimport useAuth from \"../../../hooks/useAuth\";\r\nimport { baseUrl } from \"../../../config\";\r\n\r\n\r\n// components\r\nimport Card from \"../../../components/Card\";\r\nimport EmptyCardFlex from \"../../../components/EmptyCardFlex\";\r\nimport EditEvaluators from \"../../../templates/EditEvaluators\";\r\nimport { Button, Divider, CircularProgress, Modal, FormControl } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport PlayIcon from '@material-ui/icons/PlayArrow';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Check from '@material-ui/icons/Check';\r\nimport CodeEditor from \"../../../components/CodeEditor/\";\r\n\r\n\r\nimport styles from \"./ScraperDetails.module.scss\";\r\n\r\n\r\nexport default function ScraperDetails({pageTitle})  {\r\n\r\n    let { authToken } = useAuth(),\r\n        { id } = useParams(),\r\n        {data : scraperDetails, setData : setScraperDetails} = useFetch(`/api/scrapers/${id}`, {}, null),\r\n        history = useHistory(),\r\n        [modalOpen, setModalOpen] = useState(false),\r\n        [isLoading, setIsLoading] = useState(null),\r\n        [message, setMessage] = useState(null),\r\n        [messageType, setMessageType] = useState(null),\r\n\r\n        // edit evaluator functions\r\n        [editingEvaluatorObjects, setEditingEvaluatorObjects] = useState(false),\r\n        abortCont = new AbortController();\r\n        \r\n\r\n    const executeScriptHandler = () => {\r\n        history.push(`/manage-scrapers/run-script/${id}`)\r\n    }\r\n\r\n    const editEvaluatorObjectsHandler = () => {\r\n        setEditingEvaluatorObjects(prev =>true);\r\n    }\r\n\r\n    const setEvaluatorObjectsHandler = (evaluatorObjects, state, setLoading, setMessage, setStatus) => {\r\n        \r\n        setLoading(true);\r\n        setStatus(\"info\");\r\n        setMessage(\"Updating the Evalutors\");\r\n\r\n\r\n        fetch(`${baseUrl}/api/scrapers/${id}`, {\r\n            method : \"PUT\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            body : JSON.stringify({...scraperDetails, evaluatorObjects}),\r\n            signal : abortCont.signal,\r\n        })\r\n            .then(res => {\r\n                if(!res.ok) {\r\n                    throw Error(\"We had problems reaching the server... We couldn't update the evaluators.\");\r\n                }\r\n                return res.json();\r\n            })\r\n            .then(data => {\r\n                setLoading(false);\r\n                setStatus(\"success\");\r\n                setMessage(\"We have successfully updated the evaluators.\");\r\n\r\n\r\n                setScraperDetails(prev => {\r\n                    return {\r\n                        ...prev,\r\n                        evaluatorObjects,\r\n                    }\r\n                });\r\n                setTimeout(() => setEditingEvaluatorObjects(prev => state), 777);\r\n\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setLoading(false);\r\n                    setStatus(\"error\");\r\n                    setMessage(err.message);\r\n                }\r\n            });\r\n\r\n        \r\n        // save the data to database...\r\n    }\r\n\r\n    const cancelHandler = () => {\r\n        setEditingEvaluatorObjects(prev => false)\r\n    }\r\n\r\n    const deleteScriptHandler = () => {\r\n        setIsLoading(true);\r\n        fetch(`${baseUrl}/api/scrapers/${id}`, {\r\n            method : \"DELETE\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            signal : abortCont.signal\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if(data.statusOk)    {\r\n                    setMessage(\"We have successfully deleted the scraper script\");\r\n                    setIsLoading(false);\r\n                    setMessageType(\"success\");\r\n                    setTimeout(() => history.push(`/manage-scrapers/`), 2500);\r\n                } else  {\r\n                    setMessage(\"We were not able to delete the scraper script\");\r\n                    setIsLoading(false);\r\n                    setMessageType(\"success\");\r\n                    setModalOpen(false);\r\n                }\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setMessage(err.message);\r\n                    setIsLoading(false);\r\n                    setMessageType(\"error\");\r\n                    setModalOpen(false);\r\n                }\r\n            });\r\n\r\n        return () => abortCont.abort();\r\n    }\r\n\r\n    const modalSetter = (value) => {\r\n        setModalOpen(prev => value);\r\n\r\n        \r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n    }, [modalOpen, scraperDetails])\r\n\r\n    return (\r\n        <EmptyCardFlex className={styles[\"main-container\"]}>\r\n            {/* {message && <Alert severity={messageType}>{message}</Alert>} */}\r\n\r\n            {\r\n                editingEvaluatorObjects && \r\n\r\n                <Card>\r\n                    \r\n                    {scraperDetails && scraperDetails.evaluatorObjects && <EditEvaluators currentValue={scraperDetails.evaluatorObjects} setEvaluatorObjectsHandler={setEvaluatorObjectsHandler} cancelHandler={cancelHandler}></EditEvaluators>}\r\n\r\n                </Card>\r\n\r\n\r\n\r\n            }\r\n            {!editingEvaluatorObjects && <Card>\r\n            <h1 className=\"page-title\">{pageTitle}</h1>\r\n                {scraperDetails && \r\n                <>\r\n                    <Divider style={{margin : \"1.4rem 0\"}} />\r\n                    <div className={styles[\"details-container\"]}>\r\n                        \r\n\r\n                        \r\n                        <div className={styles[\"container\"]}>\r\n                            <p className={styles[\"template-section-title\"]}>Site Resource Info : </p>\r\n                            <ul>\r\n                                <li><span className={styles[\"label\"]}>Site Name</span> : {scraperDetails.siteName}</li>\r\n                                <li><span className={styles[\"label\"]}>Site Url</span> : {scraperDetails.siteUrl}</li>\r\n                            </ul>\r\n                        </div>\r\n                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n                        <div className={styles[\"container\"]}>\r\n                            <p className={styles[\"template-section-title\"]}>Scraper Details : </p>\r\n                            <ul>\r\n                                <li><span className={styles[\"label\"]}>Product Brand</span> : {scraperDetails.productBrand}</li>\r\n                                <li><span className={styles[\"label\"]}>Image Prop Name</span> : {scraperDetails.imagePropName}</li>\r\n                                <li><span className={styles[\"label\"]}>Image Name Object</span> : \r\n                                    <ul>\r\n                                        <li><span className={styles[\"label\"]}>Split</span> : {scraperDetails.imageNameObject.split.join(\", \")}</li>\r\n                                        <li><span className={styles[\"label\"]}>Shared</span> : {scraperDetails.imageNameObject.shared.join(\", \")}</li>\r\n                                    </ul>\r\n                                </li>\r\n                                <li><span className={styles[\"label\"]}>Image Name Object</span> : {scraperDetails.csvExcludedProps.join(\", \")}</li>\r\n                            </ul>\r\n                        </div>\r\n                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n                        <div className={styles[\"container\"]}>\r\n                            <p className={styles[\"template-section-title\"]}>Evaluator Objects : </p>\r\n                            <ul>\r\n                                {scraperDetails.evaluatorObjects.map((item, index) => {\r\n                                    return (\r\n                                        <li key={index}><span className={styles[\"label\"]}>Evaluator Object {index + 1}</span> : \r\n                                            <ul>\r\n                                                <li>\r\n                                                    <div className={styles[\"label\"]}>Callback : </div>\r\n                                                    <FormControl>\r\n                                                        {/* onChange, padding, value, style, placeholder */}\r\n                                                        <CodeEditor disabled value={item.callback}></CodeEditor>\r\n                                                        {/* {schemaError && <p className={styles[\"error-message\"]}>{schemaError}</p>} */}\r\n                                                    </FormControl>\r\n                                                </li>\r\n                                                {item.waitMethods.length > 0 && <li>\r\n                                                    <span className={styles[\"label\"]}>Wait Methods</span> :\r\n                                                    <ul>\r\n                                                        {item.waitMethods.map((method, i) => {\r\n                                                            return (\r\n                                                                <li key={i}>\r\n                                                                    <ul>\r\n                                                                        <li><span className={styles[\"label\"]}>Name</span> : {method.name}</li>\r\n                                                                        <li><span className={styles[\"label\"]}>Args</span> : {method.args}</li>\r\n                                                                    </ul>\r\n                                                                </li>\r\n                                                            )\r\n                                                        })}\r\n                                                    </ul>\r\n                                                    \r\n                                                </li>}\r\n                                                {\r\n                                                    item.type === \"list\" && \r\n                                                    <li>\r\n                                                        <span className={styles[\"label\"]}>Paginated</span> :\r\n                                                        {item.paginated.toString()}\r\n                                                    </li>\r\n                                                }\r\n                                                {\r\n                                                    item.type !== \"list\" && \r\n                                                    <>\r\n                                                        <li>\r\n                                                            <span className={styles[\"label\"]}>Object Property Arguments</span> :\r\n                                                            {item.objPropArgs.join(\", \")}\r\n                                                        </li>\r\n                                                        <li>\r\n                                                            <span className={styles[\"label\"]}>Product Url Prop Name</span> :\r\n                                                            {item.productUrlProp}\r\n                                                        </li>\r\n                                                    </>\r\n                                                }\r\n                                                \r\n                                            </ul>\r\n                                        </li>\r\n                                    )\r\n                                })}\r\n                            </ul>\r\n                            <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n                            <div>\r\n                                <p className={styles[\"template-section-title\"]}>Developer's comment on usage : </p>\r\n                                <ul>\r\n                                    <li><span className={styles[\"label\"]}>Usage</span> : {scraperDetails.usage}</li>\r\n                                </ul>\r\n                            </div>\r\n\r\n                            <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n                            <div>\r\n                                <p className={styles[\"template-section-title\"]}>Product Group / Set Identifier Key : </p>\r\n                                <ul>\r\n                                    <li><span className={styles[\"label\"]}>Key</span> : {scraperDetails.groupIdentifierKey}</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n                }\r\n                <Divider style={{margin : \"1.4rem 0\"}} />\r\n                <div className={styles[\"buttons-container\"]}>\r\n                    \r\n                    <Button onClick={() =>modalSetter(true)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" style={{backgroundColor : \"rgb(201, 85, 85)\", color : \"white\"}} disableElevation startIcon={<DeleteIcon />}>\r\n                        Delete Script\r\n                    </Button>\r\n                    <Button onClick={editEvaluatorObjectsHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" style={{backgroundColor : \"rgb(85 177 201)\", color : \"white\"}} disableElevation startIcon={<EditIcon />}>\r\n                        Edit Evaluators\r\n                    </Button>\r\n                    <Button onClick={executeScriptHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<PlayIcon />} >\r\n                            Run the Script\r\n                    </Button>\r\n                    <Modal\r\n                        aria-labelledby=\"transition-modal-title\"\r\n                        aria-describedby=\"transition-modal-description\"\r\n                        onClose={() => modalSetter(false)}\r\n                        open={modalOpen}\r\n                        style={{display : \"flex\", justifyContent : \"center\", alignItems : \"center\"}}\r\n                    >\r\n    \r\n                            <Alert severity=\"error\" style={{minHeight : \"300px\", minWidth : \"250px\", paddingRight : \"2rem\"}}>\r\n                                <h4 style={{color : \"rgb(201, 85, 85)\"}}className={styles[\"template-section-title\"]}>Deleting the Script?</h4>\r\n                                <Divider style={{margin : \".7rem 0 1.4rem\"}} />\r\n                                <p>Are you sure you want to delete this awesome script?</p>\r\n                                <div className={styles[\"buttons-container\"]}>\r\n                                    \r\n                                    {!isLoading && !messageType &&\r\n                                        <>\r\n                                        <Button onClick={deleteScriptHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" style={{backgroundColor : \"rgb(201, 85, 85)\", color : \"white\"}} disableElevation startIcon={<DeleteIcon />}>\r\n                                            Delete Script\r\n                                        </Button>\r\n                                        \r\n                                        <Button onClick={() =>modalSetter(false)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" style={{backgroundColor : \"rgb(85 159 171)\", color : \"white\"}} disableElevation startIcon={<Cancel />}>\r\n                                            Cancel\r\n                                        </Button>\r\n                                        </>\r\n                                    }\r\n\r\n\r\n                                    {isLoading && \r\n                                        <>\r\n                                            <Button onClick={deleteScriptHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disabled disableElevation startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}} />}>\r\n                                                Delete Script\r\n                                            </Button>\r\n                                            <Button onClick={() =>modalSetter(false)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disabled disableElevation startIcon={<Cancel />}>\r\n                                            Cancel\r\n                                        </Button>\r\n                                        </>\r\n                                    }\r\n\r\n                                    {!isLoading && messageType === \"success\" &&\r\n                                        <>\r\n                                            <Button onClick={deleteScriptHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disabled disableElevation startIcon={<Check />}>\r\n                                                Script Deleted\r\n                                            </Button>\r\n                                            <Button onClick={() =>modalSetter(false)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disabled disableElevation startIcon={<Cancel />}>\r\n                                            Cancel\r\n                                        </Button>\r\n                                        </>\r\n                                    }\r\n                                </div>\r\n                            </Alert>\r\n\r\n                    </Modal>\r\n                </div>\r\n            </Card>}\r\n            \r\n        </EmptyCardFlex>\r\n    )\r\n}","// hooks\r\nimport { useEffect, useState } from \"react\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\n\r\n\r\n// Components\r\nimport Card from \"../../components/Card\";\r\nimport EmptyCardFlex from \"../../components/EmptyCardFlex\";\r\nimport MuiTable from \"../../components/MuiTable\";\r\nimport { Button, FormControl, CircularProgress } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport DownloadIcon from '@material-ui/icons/GetApp';\r\nimport Select from \"../../components/Select\";\r\n\r\n\r\n//config\r\nimport { baseUrl, fileUrl } from \"../../config/\"; \r\nimport { toNormalString } from \"../../utilities/string\";\r\n\r\n\r\n// styles\r\nimport styles from \"./ScrapedData.module.scss\";\r\n\r\nexport default function ManageScrapedData({pageTitle}) {\r\n\r\n\r\n    let {authToken, fileToken} = useAuth(),\r\n\r\n        // collections of data\r\n        {data : siteResources, fetchMessage, isLoading : fetchLoading} = useFetch(`/api/site-resources/`, {}, []),\r\n        {data : scrapers } = useFetch(`/api/scrapers/`, {}, []),\r\n        {data : productSets} = useFetch(`/api/product-sets`, {}, []),\r\n        \r\n\r\n        // filtered data\r\n        [filteredScrapers, setFilteredScrapers] = useState([]),\r\n        [filteredProductSets, setFilteredProductSets] = useState([]),\r\n        [siteResource, setSiteResource] = useState(null),\r\n        [scraper, setScraper] = useState(null),\r\n        [productSet, setProductSet] = useState(null),\r\n\r\n\r\n        // productsData;\r\n\r\n        [productsData, setProductsData] = useState([]),\r\n\r\n\r\n        // next action states // downloading and saving;\r\n        [isLoading, setIsLoading] = useState(false),\r\n        [message, setMessage] = useState(null),\r\n        [status, setStatus] = useState(null),\r\n        [downloadingZip, setDownloadingZip] = useState(false),\r\n\r\n        // abort Controller\r\n        abortCont = new AbortController();\r\n\r\n\r\n\r\n\r\n    // set site resource by select\r\n    const selectSiteResourceHandler = (value) => {\r\n        setSiteResource(prev => siteResources.find(item => item.siteName === value));\r\n        setFilteredScrapers(prev => {\r\n            return scrapers.filter(item => item.siteName === value);\r\n        });\r\n        setFilteredProductSets(prev => []);\r\n        setProductSet(prev => null);\r\n        setScraper(prev => null);\r\n        setDownloadingZip(prev => false);\r\n    }\r\n\r\n    // set productBrand by select\r\n    const selectScraperHandler = (value) => {\r\n        setScraper(prev => filteredScrapers.find(item => item.productBrand === value));\r\n        setFilteredProductSets(prev => {\r\n            return productSets.filter(item => item.productBrand === value)\r\n        });\r\n        setProductSet(prev => null);\r\n    }\r\n\r\n    // productSet handler\r\n    const selectProductSetHandler = (value) => {\r\n        setProductSet(prev => filteredProductSets.find(item => item.groupIdentifier === value));\r\n    }\r\n\r\n    const createUrl = () => {\r\n        let url = `${baseUrl}`;\r\n        if(scraper) {\r\n            url += `${scraper.apiRoute}/`;\r\n            if(productSet)  {\r\n                url += `all?${scraper.groupIdentifierKey}=${productSet.groupIdentifier}`;\r\n            }\r\n            return url;\r\n        } else  {\r\n            return null;\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    const downloadZipHandler = (e) => {\r\n        e.preventDefault();\r\n        setDownloadingZip(true);\r\n\r\n        let { dataDirPath : dirPath, productBrand, groupIdentifier, siteName } = productSet,\r\n            { apiRoute } = scraper;\r\n        // productsData\r\n            \r\n\r\n        fetch(`${baseUrl}/api/script/create-csv-saved-data/`, {\r\n            method : \"POST\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            body : JSON.stringify({dirPath, siteName, productBrand, groupIdentifierKey : scraper.groupIdentifierKey, groupIdentifier, apiRoute, csvExcludedProps : scraper.csvExcludedProps}),\r\n            signal : abortCont.signal,\r\n        })\r\n            .then( res => res.json() )\r\n            .then( data => {\r\n                setDownloadingZip(false);\r\n\r\n                let {filePath} = data,\r\n                    downloadUrl = `${fileUrl}${fileToken}?filePath=${filePath}&qType=download`;\r\n                \r\n                // console.log(data);\r\n\r\n                let aElem = document.createElement(\"a\");\r\n                aElem.setAttribute(\"href\", downloadUrl);\r\n                aElem.setAttribute(\"download\", true);\r\n                aElem.setAttribute(\"target\", \"_blank\");\r\n                aElem.click();\r\n\r\n                aElem.remove();\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setDownloadingZip(false);\r\n                    console.log(err.message);\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    // side effects\r\n\r\n    useEffect(() => {\r\n        if(fetchLoading)    {\r\n            setIsLoading(prev => fetchLoading);\r\n            setMessage(prev => fetchMessage);\r\n            setStatus(prev => \"info\");\r\n        } else  {\r\n            setStatus(null);\r\n            setMessage(null);\r\n            setIsLoading(null);\r\n        }\r\n        \r\n\r\n    }, [fetchLoading, fetchMessage])\r\n\r\n    useEffect(() => {\r\n        let url = createUrl();\r\n\r\n        if(url) {\r\n\r\n            setIsLoading(prev => true);\r\n            setStatus(prev => \"info\");\r\n            setMessage(\"Currently Loading data...\");\r\n\r\n            fetch(url, {\r\n                method : \"GET\",\r\n                headers : {\r\n                    \"Content-type\" : \"application/json\",\r\n                    \"x-auth-token\" : authToken,\r\n                },\r\n                signal : abortCont.signal,\r\n            })\r\n                .then(res => {\r\n                    if(!res.ok) {\r\n                        throw Error(\"We couldn't reach the server...\")\r\n                    }\r\n                    return res.json();\r\n                })\r\n                .then(data => {\r\n                    setProductsData(prev => data);\r\n                    if(data.length) {\r\n                        \r\n\r\n                        setIsLoading(prev => false);\r\n                        setStatus(prev => \"success\");\r\n                        setMessage(\"We have successfully fetched the data\");\r\n                    } else  {\r\n                        setIsLoading(prev => false);\r\n                        setStatus(prev => \"success\");\r\n                        setMessage(\"Query is valid, although we don't have any saved data for this set of products.\");\r\n                    }\r\n                    \r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                    // setIsLoading(prev => false);\r\n                    // setStatus(prev => \"error\");\r\n                    // setMessage(err.message);\r\n                })\r\n\r\n        } else  {\r\n            setProductsData(prev => []);\r\n        }\r\n\r\n    }, [scraper, productSet]);\r\n\r\n    useEffect(() => {\r\n\r\n        return () => abortCont.abort();\r\n    }, []); \r\n    \r\n    return  (\r\n        <EmptyCardFlex className={styles[\"main-container\"]}>  \r\n            <h1 className=\"page-title\">{pageTitle}</h1>\r\n\r\n            \r\n\r\n            <EmptyCardFlex >\r\n                <Card>\r\n                {!siteResource && !isLoading && <h3 className={styles[\"template-section-title\"]}>Please use the filter to display data...</h3>}\r\n                {siteResource && !productSet && !isLoading && productsData.length === 0 && <h3 className={styles[\"template-section-title\"]}>We currently have no data to display</h3>}\r\n                \r\n                {isLoading && <h3 className={styles[\"template-section-title\"]}>Currently Loading the scraped data</h3>}\r\n\r\n                {/* scraper productBrand !productSet */}\r\n                {scraper && !productSet && !isLoading && productsData.length > 0 && <h3 className={styles[\"template-section-title\"]}>Showing the scraped for <span className={styles[\"highlighted\"]}>{scraper.productBrand}</span></h3>}\r\n                \r\n                {/* scraper productBrand !productSet */}\r\n                {scraper && !isLoading && productSet && productsData.length === 0 && <h3 className={styles[\"template-section-title\"]}>We currently have no data for <span className={styles[\"highlighted\"]}>{scraper.productBrand}</span> - <span className={styles[\"highlighted-2\"]}>{productSet.groupIdentifier}</span></h3>}\r\n\r\n                {/* scraper productBrand productSet */}\r\n                {scraper && !isLoading && productSet && productsData.length > 0 && <h3 className={styles[\"template-section-title\"]}>Showing the scraped data for <span className={styles[\"highlighted\"]}>{scraper.productBrand}</span> - <span className={styles[\"highlighted-2\"]}>{productSet.groupIdentifier}</span></h3>}\r\n                <div className={styles[\"select-container\"]}>\r\n                    {siteResources.length > 0 && scrapers.length > 0 && <FormControl style={{width : \"auto\"}}>\r\n                        <Select value={siteResource} selectOnchangeHandler={selectSiteResourceHandler} label=\"Site Resource\" options={siteResources.map(item=> ({...item, labelName : `${item.siteName} - ${item.siteUrl}`}))} uniqueProp=\"siteName\" optionLabelProp=\"labelName\" ></Select>\r\n                    </FormControl>\r\n                    }\r\n\r\n                    {filteredScrapers.length > 0 && productSets.length > 0 &&\r\n                    <FormControl style={{width : \"auto\"}}>\r\n                        <Select value={scraper} selectOnchangeHandler={selectScraperHandler} label=\"Product Line / Brand\" options={filteredScrapers} uniqueProp=\"productBrand\" optionLabelProp=\"productBrand\" ></Select>\r\n                    </FormControl>\r\n                    }\r\n\r\n                    {filteredProductSets.length > 0 && \r\n                    <FormControl style={{width : \"auto\"}}>\r\n                        <Select value={productSet} selectOnchangeHandler={selectProductSetHandler} label={toNormalString(scraper.groupIdentifierKey)} options={filteredProductSets} uniqueProp=\"groupIdentifier\" optionLabelProp=\"groupIdentifier\" ></Select>\r\n                    </FormControl>\r\n                    }\r\n\r\n                    \r\n                </div>\r\n                </Card>\r\n            </EmptyCardFlex>  \r\n            {isLoading && \r\n                <EmptyCardFlex className={styles[\"message-container-top\"]}>\r\n                {message &&\r\n                    <Alert severity={status}>\r\n                        {status === \"info\" && \r\n                            <>\r\n                                <CircularProgress style={{height: \"20px\", width : \"20px\"}} color=\"primary\"  />\r\n                                &nbsp;&nbsp;&nbsp;\r\n                            </>\r\n                        }\r\n                        {message}\r\n                    </Alert>\r\n                }\r\n                </EmptyCardFlex>\r\n            }\r\n            <EmptyCardFlex style={{display : \"grid\"}}>\r\n            {productsData.length > 0 && \r\n                <Card>\r\n                    {productSet && <div className={styles[\"action-buttons-container\"]}>\r\n                       \r\n                        {!downloadingZip && <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"primary\" onClick={downloadZipHandler} disableElevation startIcon={<DownloadIcon />}>\r\n                            Download CSV files and Images\r\n                        </Button>}\r\n\r\n                        {downloadingZip && <Button type=\"button\" variant=\"contained\" size=\"small\" color=\"primary\" onClick={downloadZipHandler} disabled disableElevation startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}} color=\"secondary\"  />}>\r\n                            Downloading CSV files and Images\r\n                        </Button>}\r\n                        \r\n                    </div>}\r\n\r\n                    <MuiTable tableData={productsData} uniqueId=\"_id\" excludedColumns={[\"imageUris\", \"dateCreated\", \"cardUri\", \"__v\", \"productUri\", \"multiFaced\"]}></MuiTable>\r\n\r\n                </Card>\r\n            }\r\n            </EmptyCardFlex>\r\n        </EmptyCardFlex>\r\n    )\r\n}","// hooks\r\nimport { useEffect, useState } from \"react\";\r\nimport useAuth from \"../../../hooks/useAuth\";\r\nimport useFetch from \"../../../hooks/useFetch\";\r\nimport { useParams } from \"react-router\";\r\nimport  { baseUrl } from \"../../../config\";\r\n\r\n// Components\r\nimport Card from \"../../../components/Card\";\r\nimport EmptyCardFlex from \"../../../components/EmptyCardFlex\";\r\nimport MuiTable from \"../../../components/MuiTable\";\r\n\r\n\r\n// styles\r\nimport styles from \"./ScrapedDataTable.module.scss\"\r\n\r\n\r\nexport default function ManageScrapedData({pageTitle}) {\r\n\r\n    let { authToken } = useAuth(),\r\n        { apiRoute } = useParams(),\r\n        { data : scraperDetails } = useFetch(`/api/scrapers/single?apiRoute=/api/${apiRoute}`),\r\n        [productData, setProductData] = useState(null),\r\n        [siteName, setSiteName] = useState(\"\"),\r\n        [productBrand, setProductBrand] = useState(\"\"),\r\n        [isLoading, setIsLoading] = useState(false),\r\n        [hasError, setHasError] = useState(false),\r\n        abortCont = new AbortController();\r\n        \r\n\r\n    useEffect(() => {\r\n        if(scraperDetails.apiRoute)    {\r\n            let queryString = window.location.search;\r\n\r\n            setIsLoading(\"We are currently loading the data...\");\r\n            setSiteName(prev => scraperDetails.siteName);\r\n            setProductBrand(prev => scraperDetails.productBrand);\r\n\r\n\r\n            fetch(`${baseUrl}${scraperDetails.apiRoute}/all${queryString}`, {\r\n                method : \"GET\",\r\n                headers : {\r\n                    \"x-auth-token\" : authToken,\r\n                },\r\n                signal : abortCont.signal\r\n            })\r\n                .then(res => res.json())\r\n                .then(dataObject => {\r\n                    setIsLoading(false);\r\n                    \r\n                    if(Array.isArray(dataObject))    {\r\n                        setHasError(false);\r\n                        setProductData(prev => dataObject);\r\n                    } else  {\r\n                        throw Error(dataObject.message)\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if(err.name !== \"AbortError\")   {\r\n                        setHasError(err.message);\r\n                    }\r\n                })\r\n        }\r\n\r\n\r\n        return () => abortCont.abort();\r\n    }, [scraperDetails])\r\n\r\n    return  (\r\n        <>  \r\n            \r\n\r\n            <EmptyCardFlex className={styles[\"main-container\"]}>\r\n                    \r\n                <Card>\r\n                    {siteName && !isLoading && !hasError &&\r\n                        <h1 className=\"page-title\">{siteName} - <span className={styles[\"highlighted\"]}>{productBrand}</span></h1>}\r\n                    {!siteName && !isLoading && !hasError &&\r\n                        <h1 className=\"page-title\">{pageTitle}</h1>}\r\n                    {isLoading && !hasError && <h1 className=\"page-title\">{isLoading}</h1>}\r\n                    {hasError && <h1 className=\"page-title\">{hasError}</h1>}\r\n\r\n\r\n                    {productData && <MuiTable tableData={productData} uniqueId=\"_id\" excludedColumns={[\"imageUris\", \"dateCreated\", \"cardUri\", \"__v\", \"productUri\", \"multiFaced\"]}></MuiTable>}\r\n                </Card>\r\n            </EmptyCardFlex>  \r\n        </>\r\n    )\r\n}","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport useAuth from \"./useAuth\";\r\n\r\nexport default function useAccessCheck(allowedPermissionLevel)  {\r\n    let { loggedUser } = useAuth(),\r\n        history = useHistory();\r\n    \r\n\r\n    useEffect(() => {\r\n\r\n        if(loggedUser && loggedUser.permissionLevel < allowedPermissionLevel)   {\r\n            history.go(-1);\r\n        }\r\n\r\n    }, [loggedUser]);\r\n}","// core\r\nimport { useHistory } from \"react-router\";\r\n\r\n// hooks\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport useAccessCheck from \"../../hooks/useAccessCheck\";\r\n\r\n// Components\r\nimport Card from \"../../components/Card\";\r\nimport EmptyCardFlex from \"../../components/EmptyCardFlex\";\r\nimport MuiTable from \"../../components/MuiTable\";\r\n\r\n// import SaveIcon from '@material-ui/icons/Save';\r\nimport { Button } from '@material-ui/core';\r\nimport AddUserIcon from '@material-ui/icons/PersonAdd';\r\nimport ListAlt from '@material-ui/icons/ListAlt';\r\n\r\n\r\n// styles\r\nimport styles from \"./ManageUsers.module.scss\";\r\n\r\n// url;\r\nimport { getAllObjectKeys } from \"../../utilities/objects-array\";\r\n\r\n\r\n\r\nexport default function ManageScrapedData({pageTitle}) {\r\n\r\n    let history = useHistory(),\r\n        { data : users } = useFetch(\"/api/users/\"),\r\n        tableData = users.sort((a, b) => {\r\n            return a.firstName < b.firstName ? -1 : a.firstName > b.firstName ? 1 : 0;\r\n        })\r\n        .sort((a, b) => {   \r\n            return Number(b.permissionLevel) - Number(a.permissionLevel);\r\n        })\r\n        .map(item => {\r\n\r\n            const positions = [\"guest\", \"staff\", \"developer\", \"administrator\", \"site-owner\"];\r\n\r\n            const optionClickHandler = (value) => {\r\n                history.push(value);\r\n            }\r\n\r\n            return  {\r\n                ...item,\r\n                accessLevel : positions[item.permissionLevel - 1],\r\n                action : <div className={styles[\"action-column\"]} style={{display: \"flex\", flexDirection : \"row\", gap : \".7rem\", justifyContent: \"center\"}}>\r\n                    <Button \r\n                        onClick={optionClickHandler.bind(null, `/manage-users/${item._id}`)}\r\n                        startIcon={<ListAlt />} \r\n                        size=\"small\" \r\n                        style={{backgroundColor: \"rgb(85 159 171)\", color : \"white\", whiteSpace : \"nowrap\", minWidth : \"125px\", maxWidth : \"250px\"}}>View Details</Button>\r\n                        \r\n                </div>\r\n            }\r\n        }),\r\n        includedKeys = [\"_id\", \"firstName\", \"lastName\", \"username\", \"accessLevel\", \"action\",],\r\n        excludedColumns = getAllObjectKeys(tableData).filter(key => !includedKeys.includes(key));\r\n    \r\n    const addUserHandler = () => {\r\n        history.push(\"/manage-users/create\");\r\n    }\r\n\r\n\r\n    useAccessCheck(4);\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"page-title\">{pageTitle}</h1>\r\n            <EmptyCardFlex>\r\n                \r\n                <Card className={styles[\"main-container\"]}>\r\n                    <Button onClick={addUserHandler} startIcon={<AddUserIcon />} size=\"md\" \r\n                        style={{backgroundColor: \"rgb(35 191 112)\", color : \"white\", whiteSpace : \"nowrap\"}}>Add User</Button>\r\n                    <MuiTable tableData={tableData} uniqueId=\"_id\" excludedColumns={excludedColumns}></MuiTable>\r\n                </Card>\r\n            </EmptyCardFlex>    \r\n        </>\r\n    )\r\n}","// core\r\nimport { useEffect, useState } from \"react\";\r\nimport useAuth from \"../../../hooks/useAuth\";\r\n\r\n// Components\r\nimport Card from \"../../../components/Card\";\r\nimport Select from \"../../../components/Select\";\r\n\r\n// import SaveIcon from '@material-ui/icons/Save';\r\nimport { Button, Divider, CircularProgress, TextField, FormControl } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\n\r\n\r\n// styles\r\nimport styles from \"./EditUser.module.scss\";\r\n\r\n// url;\r\nimport { baseUrl } from \"../../../config\";\r\n\r\n\r\n\r\nexport default function EditUser({loggedUser, user, editUserSetter, userSetter, updateStateHandler})  {\r\n\r\n    let abortCont = new AbortController(),\r\n        { authToken } = useAuth(),\r\n        [initialValue, setInitialValue] = useState({...user}),\r\n        [currentUser, setCurrentUser] = useState(user),\r\n        selectOptions = [\r\n            { name : \"Staff\", value : 2 },\r\n            { name : \"Developer\", value : 3 },\r\n            { name : \"Administrator\", value : 4 },\r\n        ].filter(item => item.value < loggedUser.permissionLevel ),\r\n        [updateButtonEnabled, setUpdateButtonEnabled] = useState(false),\r\n        [isLoading, setIsLoading] = useState(false);\r\n\r\n\r\n    const inputChangeHandler = (propName, e) => {\r\n        e.preventDefault();\r\n\r\n        setCurrentUser(prev => {\r\n            let obj = {\r\n                ...prev,\r\n                [propName] : e.target.value,\r\n            }\r\n            userSetter(previousState => {\r\n                return obj;\r\n            });\r\n\r\n            setUpdateButtonEnabled(prev => {\r\n                return compareData(obj);\r\n            });\r\n\r\n            return obj;\r\n        });\r\n    }   \r\n\r\n    const compareData = (userObject) => {\r\n        let results = [];\r\n        for(let key in userObject)  {\r\n            results.push(userObject[key] !== initialValue[key]);\r\n        }\r\n        return results.some(res => res);\r\n    }\r\n\r\n    const cancelEditHandler = () => {\r\n        editUserSetter(false);\r\n        userSetter(previousState => {\r\n            return initialValue;\r\n        });\r\n        updateStateHandler(false, null, null);\r\n    }\r\n\r\n    const selectOnChangeHandler = (value) => {\r\n        setCurrentUser(prev => {\r\n            let obj = {\r\n                ...prev,\r\n                permissionLevel : value,\r\n            }\r\n            userSetter(previousState => {\r\n                return obj;\r\n            });\r\n\r\n            setUpdateButtonEnabled(prev => {\r\n                return compareData(obj);\r\n            });\r\n            \r\n            return obj;\r\n        });\r\n    }\r\n\r\n    const updateUserHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        updateStateHandler(true, \"Updating User Information\", \"info\");\r\n        setIsLoading(true);\r\n        setUpdateButtonEnabled(false);\r\n\r\n        fetch(`${baseUrl}/api/users/${currentUser._id}`, {\r\n            method : \"PUT\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            body : JSON.stringify(currentUser),\r\n            signal : abortCont.signal,\r\n        })\r\n            .then(res => {\r\n                return res.json();\r\n            })\r\n            .then(data => {\r\n                updateStateHandler(false, \"We have successfully updated the user's information.\", \"success\");\r\n                setIsLoading(false);\r\n                setInitialValue(currentUser);\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setIsLoading(false);\r\n                    updateStateHandler(false, err.message, \"error\");\r\n                }\r\n            })\r\n        \r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(currentUser);\r\n\r\n        return () => abortCont.abort();\r\n\r\n    }, [currentUser])\r\n    \r\n    return (\r\n        <Card>\r\n            <div className={styles[\"edit-user-field-container\"]}>\r\n                <FormControl fullWidth>\r\n                    <TextField \r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        value={currentUser.firstName} \r\n                        label=\"First Name\" \r\n                        onChange={inputChangeHandler.bind(this, \"firstName\")}\r\n                    />\r\n                </FormControl>\r\n                <FormControl fullWidth>\r\n                    <TextField \r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        value={currentUser.lastName} \r\n                        label=\"First Name\" \r\n                        onChange={inputChangeHandler.bind(this, \"lastName\")}\r\n                    />\r\n                </FormControl>\r\n                <FormControl fullWidth>\r\n                    <TextField \r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        value={currentUser.username} \r\n                        label=\"First Name\" \r\n                        disabled\r\n                    />\r\n                </FormControl>\r\n                <FormControl fullWidth>\r\n                    <Select defaultValue={selectOptions.find(item => item.value === currentUser.permissionLevel)} selectOnchangeHandler={selectOnChangeHandler} label=\"Permission / Access Level\" options={selectOptions} uniqueProp=\"value\" optionLabelProp=\"name\" ></Select>\r\n                </FormControl>\r\n            </div>\r\n            <Divider style={{margin : \"1.4rem 0\"}} />\r\n            <div className={styles[\"buttons-container-main\"]}>\r\n                <Button onClick={cancelEditHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Cancel />}>\r\n                    Cancel\r\n                </Button>\r\n                {!updateButtonEnabled && !isLoading && <Button disabled type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<SaveIcon />}>\r\n                    Update\r\n                </Button>}\r\n                {updateButtonEnabled && !isLoading && <Button type=\"button\" onClick={updateUserHandler} variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<SaveIcon />}>\r\n                    Update\r\n                </Button>}\r\n                {isLoading && <Button type=\"button\" disabled onClick={updateUserHandler} variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}} />}>\r\n                    Update\r\n                </Button>}\r\n            </div>\r\n        </Card>\r\n    )\r\n}","// core\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n// hooks\r\nimport useFetch from \"../../../hooks/useFetch\";\r\nimport useAuth from \"../../../hooks/useAuth\";\r\nimport useAccessCheck from \"../../../hooks/useAccessCheck\";\r\n\r\n// Components\r\nimport Card from \"../../../components/Card\";\r\nimport EmptyCardFlex from \"../../../components/EmptyCardFlex\";\r\nimport EditUser from \"../EditUser\";\r\n\r\n// import SaveIcon from '@material-ui/icons/Save';\r\nimport { Button, Divider, CircularProgress, Modal } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport Check from '@material-ui/icons/Check';\r\n\r\n\r\n// styles\r\nimport styles from \"./UserDetails.module.scss\";\r\n\r\n// url;\r\nimport { baseUrl } from \"../../../config\";\r\n\r\n// utils\r\nimport { toCapitalizeAll, toNormalString } from \"../../../utilities/string\";\r\n\r\n\r\n\r\nexport default function UserDetails({pageTitle})   {\r\n\r\n    useAccessCheck(4);\r\n\r\n    let history = useHistory(),\r\n        { authToken, loggedUser } = useAuth(),\r\n        { id } = useParams(),\r\n        { data : user, hasError : userFetchError, fetchMessage : userFetchMessage } = useFetch(`/api/users/${id}`),\r\n        [currentUser, setCurrentUser] = useState(user),\r\n        [modalOpen, setModalOpen] = useState(false),\r\n        positions = [\"guest\", \"staff\", \"developer\", \"administrator\", \"site-owner\"],\r\n        abortCont = new AbortController(),\r\n\r\n        // delete user states\r\n        [isLoading, setIsLoading] = useState(null),\r\n        [message, setMessage] = useState(null),\r\n        [messageType, setMessageType] = useState(null),\r\n\r\n\r\n        // edit user state\r\n        [editUserOn, setEditUserOn] = useState(false);\r\n    \r\n\r\n    const modalSetter = (value) => {\r\n        setModalOpen(prev => value);\r\n    };\r\n\r\n    const editUserHandler = ()  => {\r\n        setEditUserOn(true)\r\n    };\r\n\r\n    const backButtonHandler = () => {\r\n        history.push(\"/manage-users/\");\r\n    }\r\n\r\n    const deleteUserHandler = () => {\r\n        setIsLoading(true);\r\n        setMessageType(\"info\");\r\n        setMessage(\"Deleting the user...\");\r\n        fetch(`${baseUrl}/api/users/${id}`, {\r\n            method : \"DELETE\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            signal : abortCont.signal\r\n        })\r\n            .then(res => {\r\n                if(!res.ok) {\r\n                    throw Error(\"We couldn't fetch the data\");\r\n                }\r\n                return res.json();\r\n            })\r\n            .then(data => {\r\n                setIsLoading(false);\r\n                setMessageType(\"success\");\r\n                setMessage(\"User's information was successfully fetched.\");\r\n                setModalOpen(false);\r\n                setTimeout(() => history.push(\"/manage-users\"), 2500);\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setIsLoading(false);\r\n                    setMessageType(\"error\");\r\n                    setMessage(err.message);\r\n                    setModalOpen(false);\r\n\r\n                }\r\n            })\r\n    };\r\n    \r\n    const updateStateHandler = (loadingState, messageState, messageTypeState) => {\r\n        setIsLoading(loadingState);\r\n        setMessage(messageState);\r\n        setMessageType(messageTypeState);\r\n    }\r\n    \r\n\r\n    useEffect(() => {\r\n        setCurrentUser(user);        \r\n\r\n\r\n\r\n        return () => abortCont.abort();\r\n\r\n    }, [user])\r\n    return (\r\n        <>\r\n            \r\n            <EmptyCardFlex className={styles[\"main-container\"]}>\r\n                <h1 className=\"page-title\">{pageTitle}</h1>\r\n                {\r\n                    message && \r\n                    <Alert severity={messageType}>{isLoading && <><CircularProgress style={{height: \"20px\", width : \"20px\"}}></CircularProgress>&nbsp;&nbsp;&nbsp; </>}\r\n                        {message}\r\n                    </Alert>\r\n                }\r\n            \r\n                <EmptyCardFlex className={styles[\"main-cards-container\"]}>\r\n                        \r\n                    <Card>\r\n                        {/* <Divider style={{margin : \"1.4rem 0\"}} /> */}\r\n                        \r\n                        \r\n                        {!userFetchError && <div className={styles[\"user-info-container\"]}>\r\n                            <ul className={styles[\"user-info-list\"]}>\r\n                                <li><span className={styles[\"label\"]}>ID</span> : <span className={styles[\"value\"]}>{currentUser._id}</span></li>\r\n                                <li><span className={styles[\"label\"]}>First Name</span> : <span className={styles[\"value\"]}>{currentUser.firstName}</span></li>\r\n                                <li><span className={styles[\"label\"]}>Last Name</span> : <span className={styles[\"value\"]}>{currentUser.lastName}</span></li>\r\n                                <li><span className={styles[\"label\"]}>username</span> : <span className={styles[\"value\"]}>{currentUser.username}</span></li>\r\n                                <li><span className={styles[\"label\"]}>Access Level</span> : <span className={styles[\"value\"]}>{currentUser.permissionLevel ? toCapitalizeAll(toNormalString(positions[currentUser.permissionLevel - 1], \"url\")) : \"\"}</span></li>\r\n                            </ul>\r\n                        </div>}\r\n                        {\r\n                            userFetchError && \r\n                            <Alert severity=\"error\">\r\n                                {userFetchMessage}\r\n                            </Alert>\r\n                        }\r\n\r\n                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n                        {currentUser && loggedUser && <>\r\n                        {\r\n                            (loggedUser.permissionLevel <= currentUser.permissionLevel || editUserOn) && \r\n                            <div className={styles[\"buttons-container-main\"]}>\r\n                                <Button onClick={backButtonHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Cancel />}>\r\n                                    Back to Users' List\r\n                                </Button>\r\n                                <Button disabled type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<DeleteIcon />}>\r\n                                    Delete User\r\n                                </Button>\r\n                                <Button disabled type=\"button\" variant=\"contained\" size=\"small\" color=\"default\"  disableElevation startIcon={<EditIcon />}>\r\n                                    Edit User\r\n                                </Button>\r\n                            </div>\r\n                        }\r\n                        {(loggedUser.permissionLevel > currentUser.permissionLevel && !editUserOn) && <div className={styles[\"buttons-container-main\"]}>\r\n                        \r\n                            {!userFetchError && !message &&\r\n                            <>\r\n                                <Button onClick={backButtonHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Cancel />}>\r\n                                    Back to Users' List\r\n                                </Button>\r\n                                <Button onClick={() =>modalSetter(true)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" style={{backgroundColor : \"rgb(201, 85, 85)\", color : \"white\"}} disableElevation startIcon={<DeleteIcon />}>\r\n                                    Delete User\r\n                                </Button>\r\n                                <Button onClick={editUserHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" style={{backgroundColor : \"rgb(85 177 201)\", color : \"white\"}} disableElevation startIcon={<EditIcon />}>\r\n                                    Edit User\r\n                                </Button>\r\n                            </>\r\n                            }\r\n                            {userFetchError && !message && \r\n                            <>\r\n                                <Button onClick={backButtonHandler} disabled type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Cancel />}>\r\n                                    Back to Users' List\r\n                                </Button>\r\n                                <Button onClick={() =>modalSetter(true)} disabled type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<DeleteIcon />}>\r\n                                    Delete User\r\n                                </Button>\r\n                                <Button onClick={editUserHandler} disabled type=\"button\" variant=\"contained\" size=\"small\" color=\"default\"  disableElevation startIcon={<EditIcon />}>\r\n                                    Edit User\r\n                                </Button>\r\n                                \r\n                            </>\r\n                            }\r\n\r\n                            {message && messageType === \"success\" &&\r\n                            <>\r\n                                <Button onClick={backButtonHandler} disabled type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Cancel />}>\r\n                                    Back to Users' List\r\n                                </Button>\r\n                                <Button onClick={() =>modalSetter(true)} disabled type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<DeleteIcon />}>\r\n                                    User Deleted\r\n                                </Button>\r\n                                <Button onClick={editUserHandler} disabled type=\"button\" variant=\"contained\" size=\"small\" color=\"default\"  disableElevation startIcon={<EditIcon />}>\r\n                                    Edit User\r\n                                </Button>\r\n                                \r\n                            </>\r\n                            }\r\n                            <Modal\r\n                                aria-labelledby=\"transition-modal-title\"\r\n                                aria-describedby=\"transition-modal-description\"\r\n                                onClose={() => modalSetter(false)}\r\n                                open={modalOpen}\r\n                                style={{display : \"flex\", justifyContent : \"center\", alignItems : \"center\"}}\r\n                            >\r\n            \r\n                                    <Alert severity=\"error\" style={{minHeight : \"300px\", minWidth : \"250px\", paddingRight : \"2rem\"}}>\r\n                                        <h4 style={{color : \"rgb(201, 85, 85)\"}}className={styles[\"template-section-title\"]}>Deleting the User?</h4>\r\n                                        <Divider style={{margin : \".7rem 0 1.4rem\"}} />\r\n                                        <p>Are you sure you want to delete this user? Is he/she annoying?</p>\r\n                                        <div className={styles[\"buttons-container\"]}>\r\n                                            \r\n                                            {!isLoading && !messageType &&\r\n                                                <>\r\n                                                <Button onClick={deleteUserHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" style={{backgroundColor : \"rgb(201, 85, 85)\", color : \"white\"}} disableElevation startIcon={<DeleteIcon />}>\r\n                                                    Delete User\r\n                                                </Button>\r\n                                                \r\n                                                <Button onClick={() =>modalSetter(false)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" style={{backgroundColor : \"rgb(85 159 171)\", color : \"white\"}} disableElevation startIcon={<Cancel />}>\r\n                                                    Cancel\r\n                                                </Button>\r\n                                                </>\r\n                                            }\r\n\r\n\r\n                                            {isLoading && \r\n                                                <>\r\n                                                    <Button onClick={deleteUserHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disabled disableElevation startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}} />}>\r\n                                                        Deleting User\r\n                                                    </Button>\r\n                                                    <Button onClick={() =>modalSetter(false)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disabled disableElevation startIcon={<Cancel />}>\r\n                                                    Cancel\r\n                                                    </Button>\r\n                                                </>\r\n                                            }\r\n\r\n                                            {!isLoading && messageType === \"success\" &&\r\n                                                <>\r\n                                                    <Button onClick={deleteUserHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disabled disableElevation startIcon={<Check />}>\r\n                                                        User Deleted\r\n                                                    </Button>\r\n                                                    <Button onClick={() =>modalSetter(false)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disabled disableElevation startIcon={<Cancel />}>\r\n                                                    Cancel\r\n                                                    </Button>\r\n                                                </>\r\n                                            }\r\n                                        </div>\r\n                                    </Alert>\r\n\r\n                            </Modal>\r\n                        </div>}\r\n                        </>}\r\n                    </Card>\r\n                    {editUserOn && \r\n                        <EditUser loggedUser={loggedUser} user={currentUser} editUserSetter={setEditUserOn} userSetter={setCurrentUser} updateStateHandler={updateStateHandler} />\r\n                    }\r\n                </EmptyCardFlex>    \r\n            </EmptyCardFlex>\r\n        </>    \r\n    )\r\n}","import EmptyCardFlex from \"../../components/EmptyCardFlex\";\r\n\r\nimport styles from \"./ManageTasks.module.scss\"\r\n\r\n\r\nexport default function ManageScrapedData({pageTitle}) {\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <h1 className=\"page-title\">{pageTitle}</h1>\r\n            <EmptyCardFlex className={styles[\"main-container\"]}>\r\n                <h2 className={styles[\"section-title\"]}>Page Under Construction...</h2>\r\n            </EmptyCardFlex>\r\n        </>\r\n    )\r\n}","// core\r\nimport { useEffect, useState } from \"react\";\r\nimport useAuth from \"../../../hooks/useAuth\";\r\n\r\n// Components\r\nimport Card from \"../../../components/Card\";\r\n\r\n// import SaveIcon from '@material-ui/icons/Save';\r\nimport { Button, Divider, CircularProgress, TextField, FormControl } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport PasswordIcon from '@material-ui/icons/VpnKey';\r\n\r\n\r\n// styles\r\nimport styles from \"./EditInfo.module.scss\";\r\n\r\n// url;\r\nimport { baseUrl } from \"../../../config\";\r\n\r\n\r\nexport default function EditInfo({currentUser, currentUserSetter, updateStateHandler, editInforHandler})  {\r\n\r\n    let abortCont = new AbortController(),\r\n        { authToken } = useAuth(),\r\n        [updateButtonEnabled, setUpdateButtonEnabled] = useState(false),\r\n        [changePassword, setChangePassword] = useState(false),\r\n        [isLoading, setIsLoading] = useState(false),\r\n\r\n        // change password message,\r\n        [passwordMessage, setPasswordMessage] = useState(null),\r\n        [passwordMessageType, setPasswordMessageType] = useState(null),\r\n\r\n        // data for submission\r\n        [firstName, setFirstName] = useState(currentUser.firstName),\r\n        [lastName, setLastName] = useState(currentUser.lastName),\r\n        [password, setPassword] = useState(null),\r\n        [passwordConf, setPasswordConf] = useState(null);\r\n\r\n\r\n\r\n    \r\n    const inputChangeHandler = (propName, e) => {\r\n        e.preventDefault();\r\n        let setter = propName === \"firstName\" ? setFirstName : setLastName;\r\n        setter(prev => e.target.value);\r\n    }\r\n\r\n    const cancelEditHandler = () => {\r\n        editInforHandler(prev => false);\r\n    }\r\n\r\n    \r\n\r\n    const changePasswordHandler = (value, e) => {\r\n        e.preventDefault();\r\n        setChangePassword(prev => value);\r\n        setPassword(null);\r\n        setPasswordConf(null);\r\n    }\r\n\r\n    const passwordInputChangeHandler = (propName, e) => {\r\n        let setter = propName === \"password\" ? setPassword : setPasswordConf;\r\n        setter(prev => e.target.value);\r\n    }\r\n\r\n    // update request submission\r\n    const updateUserHandler = () => {\r\n\r\n        let obj = password ? {firstName, lastName, password} : {firstName, lastName};\r\n\r\n        updateStateHandler(true, \"Currently updating your info...\", \"info\");\r\n        setIsLoading(true);\r\n\r\n        fetch(`${baseUrl}/api/users/${currentUser._id}`,    {\r\n            method : \"PUT\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            body : JSON.stringify(obj),\r\n            signal : abortCont.signal,\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                updateStateHandler(false, \"We have successfully updated your info!\", \"success\");\r\n                setIsLoading(false);\r\n                currentUserSetter(prev => {\r\n                    return {\r\n                        ...prev,\r\n                        firstName,\r\n                        lastName,\r\n                    }\r\n                });\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    updateStateHandler(false, err.message, \"error\");\r\n                    setIsLoading(false);\r\n                }   \r\n            });\r\n\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if(changePassword && password && passwordConf) {\r\n            if(password === passwordConf)   {\r\n                if(password.trim().length >= 8) {\r\n                    setUpdateButtonEnabled(true);\r\n                    setPasswordMessage(\"Passwords met the number of required characters, and both of them matched.\");\r\n                    setPasswordMessageType(\"success\");\r\n                } else  {\r\n                    setUpdateButtonEnabled(false);\r\n                    setPasswordMessage(\"Password requires a minimum of 8 characters.\");\r\n                    setPasswordMessageType(\"error\");\r\n                }\r\n            } else  {\r\n                setUpdateButtonEnabled(false);\r\n                setPasswordMessage(\"Please type the same password on both fields.\");\r\n                setPasswordMessageType(\"error\");\r\n            }\r\n        } else if(firstName !== currentUser.firstName || lastName !== currentUser.lastName) {\r\n            setUpdateButtonEnabled(true);\r\n        } else  {\r\n            setUpdateButtonEnabled(false);\r\n        }\r\n\r\n\r\n        return () => abortCont.abort();\r\n    }, [changePassword, firstName, lastName, password, passwordConf]);\r\n    \r\n\r\n    return (\r\n        <Card>\r\n            <div className={styles[\"edit-user-field-container\"]}>\r\n                <FormControl fullWidth>\r\n                    <TextField \r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        value={firstName} \r\n                        label=\"First Name\" \r\n                        onChange={inputChangeHandler.bind(this, \"firstName\")}\r\n                    />\r\n                </FormControl>\r\n                <FormControl fullWidth>\r\n                    <TextField \r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        value={lastName} \r\n                        label=\"Last Name\" \r\n                        onChange={inputChangeHandler.bind(this, \"lastName\")}\r\n                    />\r\n                </FormControl>\r\n                {\r\n                    changePassword && \r\n                    <>\r\n                    <FormControl fullWidth>\r\n                        <TextField \r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            label=\"Password\" \r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={passwordInputChangeHandler.bind(this, \"password\")}\r\n                        />\r\n                    </FormControl>\r\n                    <FormControl fullWidth>\r\n                        <TextField \r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            label=\"Confirm Password\" \r\n                            type=\"password\"\r\n                            value={passwordConf}\r\n                            onChange={passwordInputChangeHandler.bind(this, \"passwordConf\")}\r\n                        />\r\n                        {passwordMessage && passwordMessageType === \"error\" && <p className={styles[\"error-message\"]}>{passwordMessage}</p>}\r\n                        {passwordMessage && passwordMessageType === \"success\" && <p className={styles[\"success-message\"]}>{passwordMessage}</p>}\r\n                    </FormControl>\r\n                    </>\r\n                }\r\n            </div>\r\n            <Divider style={{margin : \"1.4rem 0\"}} />\r\n            <div className={styles[\"buttons-container-main\"]}>\r\n                {!isLoading &&\r\n                    <Button onClick={cancelEditHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Cancel />}>\r\n                        Cancel\r\n                    </Button>\r\n                }\r\n                {isLoading &&\r\n                    <Button onClick={cancelEditHandler} type=\"button\" disabled variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Cancel />}>\r\n                        Cancel\r\n                    </Button>\r\n                }\r\n                { isLoading && \r\n                <>\r\n                    {!changePassword && \r\n                        <Button onClick={changePasswordHandler.bind(this, true)} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation disabled startIcon={<PasswordIcon />}>\r\n                            Change Password\r\n                        </Button>\r\n                    }\r\n                    {changePassword &&\r\n                        <Button onClick={changePasswordHandler.bind(this, false)} type=\"button\" variant=\"contained\" size=\"small\" disabled disableElevation startIcon={<PasswordIcon />}>\r\n                            Keep Same Password\r\n                        </Button>\r\n                    }\r\n                </>\r\n                }\r\n                { !isLoading && \r\n                    <>\r\n                        {!changePassword && \r\n                            <Button onClick={changePasswordHandler.bind(this, true)} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation style={{backgroundColor : \"rgb(194 138 36)\", color : \"white\"}} startIcon={<PasswordIcon />}>\r\n                                Change Password\r\n                            </Button>\r\n                        }\r\n                        {changePassword &&\r\n                            <Button onClick={changePasswordHandler.bind(this, false)} type=\"button\" variant=\"contained\" size=\"small\" style={{backgroundColor : \"#67b5a6\", color : \"white\"}} disableElevation startIcon={<PasswordIcon />}>\r\n                                Keep Same Password\r\n                            </Button>\r\n                        }\r\n                    </>\r\n                }\r\n                {!updateButtonEnabled && !isLoading && <Button disabled type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disableElevation startIcon={<SaveIcon />}>\r\n                    Update My Info\r\n                </Button>}\r\n                {updateButtonEnabled && !isLoading && <Button type=\"button\" onClick={updateUserHandler} variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<SaveIcon />}>\r\n                    Update My Info\r\n                </Button>}\r\n                {isLoading && <Button type=\"button\" disabled onClick={updateUserHandler} variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}} />}>\r\n                    Updating Info...\r\n                </Button>}\r\n            </div>\r\n        </Card>\r\n    )\r\n}","// core\r\nimport { useEffect, useState } from \"react\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport { useHistory } from \"react-router\";\r\n\r\n// Components\r\nimport Card from \"../../components/Card\";\r\nimport EmptyCardFlex from \"../../components/EmptyCardFlex\";\r\n\r\n// import SaveIcon from '@material-ui/icons/Save';\r\nimport { Button, Divider, CircularProgress } from '@material-ui/core';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\n\r\nimport { toNormalString, toCapitalizeAll } from \"../../utilities/string\";\r\n\r\n// styles\r\nimport styles from \"./MyProfile.module.scss\";\r\n\r\n// url;\r\nimport { baseUrl } from \"../../config\";\r\nimport EditInfo from \"./EditInfo\";\r\n\r\n\r\nexport default function ManageScrapedData({pageTitle}) {\r\n\r\n    let { loggedUser, authToken } = useAuth(),\r\n        history = useHistory(),\r\n        abortCont = new AbortController(),\r\n        positions = [\"guest\", \"staff\", \"developer\", \"administrator\", \"site-owner\"],\r\n        [currentUser, setCurrentUser] = useState(),\r\n\r\n        // edit info\r\n        [editInfoEnabled, setEditInfoEnabled] = useState(false),\r\n\r\n\r\n        // fetch states\r\n        [message, setMessage] = useState(null),\r\n        [messageType, setMessageType] = useState(null),\r\n        [isLoading, setIsLoading] = useState(false);\r\n\r\n\r\n\r\n    const updateStateHandler = (loadingState, messageState, messageTypeState) => {\r\n        setIsLoading(loadingState);\r\n        setMessage(messageState);\r\n        setMessageType(messageTypeState);\r\n    }\r\n\r\n    const editInforHandler = (value) => {\r\n        setEditInfoEnabled(value);\r\n    }\r\n\r\n    const backButtonHandler = () => {\r\n        history.goBack();\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if(loggedUser) {\r\n\r\n            setMessage(\"Currently getting your information\");\r\n            setMessageType(\"info\");\r\n            setIsLoading(true);\r\n\r\n            fetch(`${baseUrl}/api/users/single?username=${loggedUser.username}&permissionLevel=${loggedUser.permissionLevel}`, {\r\n                method : \"GET\",\r\n                headers : {\r\n                    \"Content-type\" : \"application/json\",\r\n                    \"x-auth-token\" : authToken,\r\n                },\r\n                signal : abortCont.signal,\r\n            })\r\n                .then(res => {\r\n                    return res.json()\r\n                })\r\n                .then(data => {\r\n                    setMessage(\"We have successfully fetched your information from the database.\");\r\n                    setMessageType(\"success\");\r\n                    setIsLoading(false);\r\n\r\n                    setCurrentUser(prev => data);\r\n\r\n                })\r\n                .catch(err => {\r\n                    if(err.name !== \"AbortError\")   {\r\n                        setMessage(\"We couldn't reach the server.\");\r\n                        setMessageType(\"error\");\r\n                        setIsLoading(false);\r\n                    }\r\n                })\r\n\r\n\r\n\r\n        }\r\n\r\n        return () => abortCont.abort();\r\n    }, [loggedUser])\r\n    \r\n\r\n    return (\r\n        <EmptyCardFlex className={styles[\"main-container\"]}>\r\n            <h1 className=\"page-title\">{pageTitle}</h1>\r\n            {\r\n                message && \r\n                <Alert severity={messageType}>{isLoading && <><CircularProgress style={{height: \"20px\", width : \"20px\"}}></CircularProgress>&nbsp;&nbsp;&nbsp; </>}\r\n                    {message}\r\n                </Alert>\r\n            }\r\n            <EmptyCardFlex className={styles[\"main-cards-container\"]}>\r\n                <Card>\r\n                    {currentUser && \r\n                    <>\r\n                        <div className={styles[\"user-info-container\"]}>\r\n                            <ul className={styles[\"user-info-list\"]}>\r\n                                <li><span className={styles[\"label\"]}>ID</span> : <span className={styles[\"value\"]}>{currentUser._id}</span></li>\r\n                                <li><span className={styles[\"label\"]}>First Name</span> : <span className={styles[\"value\"]}>{currentUser.firstName}</span></li>\r\n                                <li><span className={styles[\"label\"]}>Last Name</span> : <span className={styles[\"value\"]}>{currentUser.lastName}</span></li>\r\n                                <li><span className={styles[\"label\"]}>username</span> : <span className={styles[\"value\"]}>{currentUser.username}</span></li>\r\n                                <li><span className={styles[\"label\"]}>Access Level</span> : <span className={styles[\"value\"]}>{currentUser.permissionLevel ? toCapitalizeAll(toNormalString(positions[currentUser.permissionLevel - 1], \"url\")) : \"\"}</span></li>\r\n                            </ul>\r\n                        </div>\r\n                        <Divider style={{margin : \"1.4rem 0\"}} />\r\n                    </>\r\n                    }\r\n                    <>\r\n                        <div className={styles[\"buttons-container-main\"]}>\r\n                        {!isLoading && \r\n                            <Button onClick={backButtonHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Cancel />}>\r\n                                Back\r\n                            </Button>\r\n                        }\r\n                        {isLoading && \r\n                            <Button onClick={backButtonHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation disabled startIcon={<Cancel />}>\r\n                                Back\r\n                            </Button>\r\n                        }\r\n                        {!editInfoEnabled &&\r\n                            <Button onClick={editInforHandler.bind(this, true)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" style={{backgroundColor : \"rgb(85 177 201)\", color : \"white\"}} disableElevation startIcon={<EditIcon />}>\r\n                                Edit My Info\r\n                            </Button>\r\n                        }\r\n                        {editInfoEnabled &&\r\n                            <Button onClick={editInforHandler.bind(this, true)} type=\"button\" variant=\"contained\" size=\"small\" color=\"default\" disabled disableElevation startIcon={<EditIcon />}>\r\n                                Edit My Info\r\n                            </Button>\r\n                        }\r\n                        </div>\r\n                    </>\r\n                    \r\n                </Card>\r\n                \r\n\r\n                {\r\n                    editInfoEnabled && \r\n                    <EditInfo currentUser={currentUser} currentUserSetter={setCurrentUser} editInforHandler={editInforHandler} updateStateHandler={updateStateHandler} ></EditInfo>\r\n                }\r\n\r\n\r\n            </EmptyCardFlex>\r\n        </EmptyCardFlex>\r\n    )\r\n}","import EmptyCardFlex from \"../../components/EmptyCardFlex\";\r\nimport styles from \"./Page404.module.scss\";\r\n\r\n\r\n\r\nexport default function Page404()   {\r\n    return (\r\n        <EmptyCardFlex className={styles[\"page404-container\"]}>\r\n            <h2 className={styles[\"page404-error\"]}>404 Error : Page not found</h2>\r\n        </EmptyCardFlex>\r\n    )\r\n}","// core\r\nimport { useHistory } from \"react-router\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n// hooks\r\nimport useAuth from \"../../../hooks/useAuth\";\r\nimport useAccessCheck from \"../../../hooks/useAccessCheck\";\r\n\r\n// Components\r\nimport Card from \"../../../components/Card\";\r\nimport EmptyCardFlex from \"../../../components/EmptyCardFlex\";\r\nimport Select from \"../../../components/Select\";\r\n\r\n// import SaveIcon from '@material-ui/icons/Save';\r\nimport { Button, Divider, CircularProgress, TextField, FormControl, InputAdornment } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport Cancel from '@material-ui/icons/Cancel';\r\nimport PasswordIcon from '@material-ui/icons/VpnKey';\r\nimport UsernameIcon from '@material-ui/icons/AccountCircle';\r\n\r\n\r\n// styles\r\nimport styles from \"./CreateUser.module.scss\";\r\n\r\n// url;\r\nimport { baseUrl } from \"../../../config\";\r\n\r\n// utils\r\nimport { debounce } from \"../../../utilities\";\r\n\r\n\r\nexport default function CreateUser({pageTitle})    {\r\n\r\n    useAccessCheck(4);\r\n\r\n    let history = useHistory(),\r\n        abortCont = new AbortController(),\r\n        { authToken, loggedUser } = useAuth(),\r\n        [user, setUser] = useState({\r\n            firstName : null,\r\n            lastName : null,\r\n            username : null,\r\n            password : null,\r\n            permissionLevel : 2,\r\n        }),\r\n        [selectOptions, setSelectOptions] = useState([\r\n            { name : \"Staff\", value : 2 },\r\n            { name : \"Developer\", value : 3 },\r\n            { name : \"Administrator\", value : 4 },\r\n        ]),\r\n\r\n        // password\r\n        [passwordMessage, setPasswordMessage] = useState(null),\r\n        [passwordMessageType, setPasswordMessageType] = useState(null),\r\n\r\n        // save user states;\r\n        [message, setMessage] = useState(null),\r\n        [isLoading, setIsLoading] = useState(false),\r\n        [messageType, setMessageType] = useState(null),\r\n        [saveButtonEnabled, setSaveButtonEnabled] = useState(false),\r\n\r\n        // username state checker\r\n        [usernameCheckMessage, setUsernameCheckMessage] = useState(null),\r\n        [usernameCheckLoading, setUsernameCheckLoading] = useState(false),\r\n        [usernameCheckMessageType, setUsernameCheckMessageType] = useState(null);\r\n\r\n\r\n\r\n    const inputChangeHandler = (propName, e) => {\r\n        e.preventDefault();\r\n\r\n\r\n        if(propName === \"password\")   {\r\n            if(e.target.value.trim().length >= 8)    {\r\n                setPasswordMessage(\"Password is valid\");\r\n                setPasswordMessageType(\"success\");\r\n            } else  {\r\n                setPasswordMessage(\"Password must contain at least 8 characters.\");\r\n                setPasswordMessageType(\"error\");\r\n            }\r\n        }\r\n        setUser(prev => {\r\n            let obj = {\r\n                ...prev,\r\n                [propName] : e.target.value,\r\n            }\r\n            return obj;\r\n        });\r\n    }   \r\n\r\n\r\n    const selectOnChangeHandler = (value) => {\r\n        setUser(prev => {\r\n            let obj = {\r\n                ...prev,\r\n                permissionLevel : value,\r\n            }\r\n            return obj;\r\n        });\r\n    }\r\n\r\n    \r\n    const cancelButtonHandler = () => {\r\n        history.push(\"/manage-users/\")\r\n    }\r\n\r\n    const usernameKeypressHandler = (e) => {\r\n        setSaveButtonEnabled(prev => false);\r\n        setUsernameCheckMessage(\"Checking the uniqueness of entered username...\");\r\n        setUsernameCheckLoading(true);\r\n        setUsernameCheckMessageType(\"info\");\r\n        if(e.code === \"Space\")  {\r\n            e.preventDefault();\r\n        }\r\n    }\r\n\r\n    const checkUsername = debounce((e) => {\r\n\r\n        console.log(\"this is firing...\");\r\n\r\n        let enteredUsername = e.target.value.trim().replace(/\\s+/g, \"\").toLowerCase();\r\n\r\n        if(!enteredUsername.length) {\r\n            setUsernameCheckMessage(\"Please enter a username\");\r\n            setUsernameCheckLoading(false);\r\n            setUsernameCheckMessageType(\"info\");\r\n        } else  {\r\n            \r\n            \r\n\r\n\r\n            fetch(`${baseUrl}/api/users/all?username=${enteredUsername}`, {\r\n                method : \"GET\",\r\n                headers : {\r\n                    \"Content-type\" : \"application/json\",\r\n                    \"x-auth-token\" : authToken,\r\n                },\r\n                signal : abortCont.signal,\r\n            })\r\n                .then(res => res.json())\r\n                .then(data => {\r\n                    if(data.length) {\r\n                        throw Error(\"This username is already in use.\")\r\n                    } else  {\r\n                        setUsernameCheckMessage(\"Username is valid.\");\r\n                        setUsernameCheckLoading(false);\r\n                        setUsernameCheckMessageType(\"success\");\r\n                        setUser(prev => {\r\n                            return {\r\n                                ...prev,\r\n                                username : enteredUsername\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if(err.name !== \"AbortError\")   {\r\n                        setUsernameCheckMessage(err.message);\r\n                        setUsernameCheckLoading(true);\r\n                        setUsernameCheckMessageType(\"error\");\r\n                        setUser(prev => {\r\n                            return {\r\n                                ...prev,\r\n                                username : null\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n        }\r\n        \r\n    }, 1400, false);\r\n\r\n\r\n    const saveUserHandler = (e) => {\r\n        e.preventDefault();\r\n        console.log(\"YOu clicked...\")\r\n\r\n        setMessage(\"Saving User...\");\r\n        setIsLoading(true);\r\n        setMessageType(\"info\");\r\n        setSaveButtonEnabled(false);\r\n\r\n        fetch(`${baseUrl}/api/users`, {\r\n            method : \"POST\",\r\n            headers : {\r\n                \"Content-type\" : \"application/json\",\r\n                \"x-auth-token\" : authToken,\r\n            },\r\n            body : JSON.stringify(user),\r\n            signal : abortCont.signal,\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                setMessage(\"We have successfully saved the user.\");\r\n                setIsLoading(false);\r\n                setMessageType(\"success\");\r\n                setSaveButtonEnabled(false);\r\n\r\n                let userId = data.data._id;\r\n\r\n                setTimeout(() => history.push(`/manage-users/${userId}`), 2500);\r\n            })\r\n            .catch(err => {\r\n                if(err.name !== \"AbortError\")   {\r\n                    setMessage(err.message);\r\n                    setIsLoading(false);\r\n                    setMessageType(\"error\");\r\n                    setSaveButtonEnabled(true);\r\n                }\r\n            });\r\n\r\n    }\r\n\r\n    const checkAllFields = () => {\r\n        let results = [];\r\n\r\n        for(let key in user)    {\r\n            if(key === \"password\")    {\r\n                if(user.password && user.password.length >= 8)   {\r\n                    results.push(true);\r\n                } else  {\r\n                    results.push(false);\r\n                }\r\n            } else  {\r\n                results.push(user[key] && user[key] !== \"\");\r\n            }\r\n        }\r\n\r\n        setSaveButtonEnabled(prev => results.every(res => res));\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(loggedUser)  {\r\n            setSelectOptions(prev => {\r\n                return prev.filter(item => item.value < loggedUser.permissionLevel);\r\n            });\r\n        }\r\n\r\n        checkAllFields();\r\n\r\n\r\n        return () => abortCont.abort();\r\n\r\n    }, [loggedUser, user]);\r\n\r\n    return (\r\n        <EmptyCardFlex className={styles[\"main-container\"]}>\r\n                <h1 className=\"page-title\">{pageTitle}</h1>\r\n                {\r\n                    message && \r\n                    <Alert severity={messageType}>{isLoading && <><CircularProgress style={{height: \"20px\", width : \"20px\"}}></CircularProgress>&nbsp;&nbsp;&nbsp; </>}\r\n                        {message}\r\n                    </Alert>\r\n                }\r\n            \r\n                <EmptyCardFlex className={styles[\"main-cards-container\"]}>\r\n                    <Card>  \r\n                        <form onSubmit={saveUserHandler}>\r\n                            <div className={styles[\"create-user-field-container\"]}>\r\n                                <FormControl fullWidth className={styles[\"firstName\"]}>\r\n                                    <TextField \r\n                                        value={user.firstName} \r\n                                        label=\"First Name\" \r\n                                        onChange={inputChangeHandler.bind(this, \"firstName\")}\r\n                                    />\r\n                                </FormControl>\r\n                                <FormControl fullWidth className={styles[\"lastName\"]}>\r\n                                    <TextField \r\n                                        value={user.lastName} \r\n                                        label=\"Last Name\" \r\n                                        onChange={inputChangeHandler.bind(this, \"lastName\")}\r\n                                    />\r\n                                </FormControl>\r\n                                <FormControl fullWidth className={styles[\"username\"]}>\r\n                                    <TextField \r\n                                        startAdornment={\r\n                                            <InputAdornment position=\"start\">\r\n                                            <UsernameIcon />\r\n                                            </InputAdornment>\r\n                                        }\r\n                                        label=\"Username\"\r\n                                        onKeyPress={usernameKeypressHandler}\r\n                                        onChange={checkUsername}\r\n                                    />\r\n                                    {usernameCheckMessage && usernameCheckMessageType === \"error\" && <p className={styles[\"error-message\"]}>{usernameCheckMessage}</p>}\r\n                                    {usernameCheckMessage && usernameCheckMessageType === \"info\" && usernameCheckLoading && <p className={styles[\"info-message\"]}>{usernameCheckMessage}</p>}\r\n                                    {usernameCheckMessage && usernameCheckMessageType === \"info\" && !usernameCheckLoading && <p className={styles[\"info-message\"]}>{usernameCheckMessage}</p>}\r\n                                    {usernameCheckMessage && usernameCheckMessageType === \"success\" && <p className={styles[\"success-message\"]}>{usernameCheckMessage}</p>}\r\n                                </FormControl>\r\n                                <FormControl fullWidth className={styles[\"password\"]}>\r\n                                    <TextField \r\n                                        startAdornment={\r\n                                            <InputAdornment position=\"start\">\r\n                                            <PasswordIcon />\r\n                                            </InputAdornment>\r\n                                        }\r\n                                        value={user.password} \r\n                                        label=\"Password\" \r\n                                        onChange={inputChangeHandler.bind(this, \"password\")}\r\n                                    />\r\n                                    {passwordMessage && <p className={styles[`${passwordMessageType}-message`]}>{passwordMessage}</p>}\r\n                                </FormControl>\r\n                                <FormControl fullWidth className={styles[\"permissionLevel\"]}>\r\n                                    <Select defaultValue={selectOptions.find(item => item.value === user.permissionLevel)} selectOnchangeHandler={selectOnChangeHandler} label=\"Permission / Access Level\" options={selectOptions} uniqueProp=\"value\" optionLabelProp=\"name\" ></Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            \r\n                            <Divider style={{margin : \"1.4rem 0\"}} />\r\n\r\n                            <div className={styles[\"buttons-container-main\"]}>\r\n                                <Button onClick={cancelButtonHandler} type=\"button\" variant=\"contained\" size=\"small\" color=\"secondary\" disableElevation startIcon={<Cancel />}>\r\n                                    Cancel\r\n                                </Button>\r\n                                {!saveButtonEnabled && !isLoading && <Button disabled type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<SaveIcon />}>\r\n                                    Save User\r\n                                </Button>}\r\n\r\n                                {!saveButtonEnabled && isLoading && <Button disabled type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<CircularProgress style={{height: \"20px\", width : \"20px\"}} />}>\r\n                                    Saving the User...\r\n                                </Button>}\r\n                                {saveButtonEnabled && !isLoading && <Button type=\"submit\" variant=\"contained\" size=\"small\" color=\"primary\" disableElevation startIcon={<SaveIcon />}>\r\n                                    Save User\r\n                                </Button>}\r\n                            </div>\r\n                        </form>\r\n                    </Card>\r\n                </EmptyCardFlex>\r\n\r\n        </EmptyCardFlex>\r\n    )\r\n}","export function debounce(func, wait, immediate = false){\r\n    let timeout;\r\n    return function() {\r\n        let context = this, args = arguments;\r\n        let later = function() {\r\n            timeout = null;\r\n            if (!immediate) func.apply(context, args);\r\n        };\r\n        let callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow) func.apply(context, args);\r\n    };\r\n}\r\n\r\n\r\n\r\n","// core\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\n// Layout\r\nimport Layout from \"./Layout\";\r\n\r\n// routes \r\nimport routes from \"./routes\";\r\n\r\n// views \r\n    import Login from \"./views/Login\";\r\n    import Dashboard from \"./views/Dashboard\";\r\n\r\n    // Manage Scrapers\r\n    import ManageScrapers from \"./views/ManageScrapers\";\r\n        import CreateScraper from \"./views/ManageScrapers/CreateScraper/\";\r\n        import RunScraperScript from \"./views/ManageScrapers/RunScraperScript/RunScraperScript\";\r\n        import ScraperDetails from \"./views/ManageScrapers/ScraperDetails\";\r\n\r\n    // Scraped Data\r\n    import ScrapedData from \"./views/ScrapedData\";\r\n        import ScrapedDataTable from \"./views/ScrapedData/ScrapedDataTable\";\r\n\r\n    // Manage Users\r\n    import ManageUsers from \"./views/ManageUsers\";\r\n        import UserDetails from \"./views/ManageUsers/UserDetails\";\r\n\r\n    // Manage Tasks\r\n    import ManageTasks from \"./views/ManageTasks\";\r\n\r\n    // MY Profile\r\n    import MyProfile from \"./views/MyProfile\";\r\n\r\n\r\n    // 404\r\n    import Page404 from \"./views/Page404/Page404\";\r\n\r\n\r\n\r\n// css\r\nimport styles from \"./MainComponent.module.scss\";\r\nimport CreateUser from \"./views/ManageUsers/CreateUser\";\r\n\r\nexport default function Main()  {\r\n\r\n    const getRoute = (route) => {\r\n        return routes.find(item => item.path === route);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n            <Router>\r\n                <Switch>\r\n\r\n                    <Route path=\"/\" exact>\r\n                        <Layout><Dashboard pageTitle=\"Scraper Admin Dashboard\" /></Layout>\r\n                    </Route>\r\n\r\n                    {/* {ManageScrapers} */}\r\n                    <Route path=\"/manage-scrapers\" exact>\r\n                        <Layout><ManageScrapers pageTitle={getRoute(\"/manage-scrapers\").title} /></Layout>\r\n                    </Route>\r\n                        <Route path=\"/manage-scrapers/create-scraper/\" exact>\r\n                            <Layout><CreateScraper pageTitle=\"Create a Scraper Script\" /></Layout>\r\n                        </Route>\r\n                        \r\n                        <Route path=\"/manage-scrapers/run-script/:id\" exact>\r\n                            <Layout><RunScraperScript pageTitle=\"Run Scraper Script\" /></Layout>\r\n                        </Route>\r\n\r\n                        <Route path=\"/manage-scrapers/:id\" exact>\r\n                            <Layout><ScraperDetails pageTitle=\"Scraper Details : \" /></Layout>\r\n                        </Route>\r\n\r\n                    \r\n                    {/* Scraped Data */}\r\n                    <Route path=\"/scraped-data/\" exact>\r\n                        <Layout><ScrapedData pageTitle={getRoute(\"/scraped-data\").title} /></Layout>\r\n                    </Route>\r\n                        <Route path=\"/scraped-data/:apiRoute\">\r\n                            <Layout><ScrapedDataTable pageTitle=\"Scraped Data : \" /></Layout>\r\n                        </Route>\r\n\r\n                    {/* Manage Users */}\r\n                    <Route path=\"/manage-users\" exact>\r\n                        <Layout><ManageUsers pageTitle={getRoute(\"/manage-users\").title} /></Layout>\r\n                    </Route>\r\n                        <Route path=\"/manage-users/create\" exact>\r\n                            <Layout><CreateUser pageTitle=\"Create a New User\" /></Layout>\r\n                        </Route>\r\n                        <Route path=\"/manage-users/:id\" exact>\r\n                            <Layout><UserDetails pageTitle=\"User Information\" /></Layout>\r\n                        </Route>\r\n\r\n                    \r\n                        \r\n\r\n                    {/* Tasks*/}\r\n                    <Route path=\"/manage-tasks\" exact>\r\n                        <Layout><ManageTasks pageTitle={getRoute(\"/manage-tasks\").title} /></Layout>\r\n                    </Route>\r\n\r\n                    {/* My Profile */}\r\n                    <Route path=\"/my-profile\" exact>\r\n                        <Layout><MyProfile pageTitle=\"My Profile\" /></Layout>\r\n                    </Route>\r\n\r\n                    {/* Login */}\r\n                    <Route path=\"/login\" exact>\r\n                        <Login  />\r\n                    </Route>\r\n\r\n\r\n                    <Route path=\"/\" >\r\n                        <Layout><Page404 pageTitle={\"Page 404\"} /></Layout>\r\n                    </Route>\r\n                    \r\n                    \r\n                </Switch>\r\n                \r\n            </Router>\r\n        </div>\r\n    );\r\n}","import { blue,blueGrey, red } from '@material-ui/core/colors';\r\nimport { createTheme } from '@material-ui/core/styles';\r\n\r\nconst theme = createTheme({  \r\n    palette: {\r\n        primary: blue,\r\n        secondary: blueGrey,\r\n        error: red,\r\n    },\r\n    typography: {\r\n        button: {\r\n            textTransform: 'none',\r\n        }\r\n    }\r\n});\r\n\r\nexport default theme;","// Main Component\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport MainComponent from \"./MainComponent\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport theme from './theme';    \nimport { ThemeProvider } from \"@material-ui/styles\";\n\n\nimport \"./Reset.scss\";\nimport \"./App.scss\";\nimport \"./Defaults.scss\";\n\nfunction App() {\n\t\n\treturn (\n\t\t<Router>\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<MainComponent />\n\t\t\t\t</div>\n\t\t\t</ThemeProvider>\n\t\t</Router>\n\n  \t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  // TODO : clean all fetch\n\t<App />,\n  \tdocument.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-header\":\"Header_main-header__SyFsk\",\"button-container\":\"Header_button-container__3vTF9\",\"nav-button\":\"Header_nav-button__YOvZq\",\"bar-container\":\"Header_bar-container__1jh_l\",\"bar\":\"Header_bar__MYPLZ\",\"active\":\"Header_active__25cHA\",\"navButtonBars\":\"Header_navButtonBars__2hIiM\",\"header-nav\":\"Header_header-nav__239iq\",\"selected\":\"Header_selected__XuCDQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mui-table-container\":\"MuiTable_mui-table-container__mf75k\",\"mui-table\":\"MuiTable_mui-table__3hYFg\",\"image-slider-container\":\"MuiTable_image-slider-container__2T4wy\",\"image-slider-inner\":\"MuiTable_image-slider-inner__1Tc7N\",\"image-container\":\"MuiTable_image-container__vohZE\",\"tbody\":\"MuiTable_tbody__1PBwi\",\"table-cell\":\"MuiTable_table-cell__3pgzM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"template-title\":\"Login_template-title__3HeaR\",\"highlighted\":\"Login_highlighted__mwJI9\",\"highlighted-2\":\"Login_highlighted-2__AbQSq\",\"template-subtitle\":\"Login_template-subtitle__2EJqv\",\"template-section-title\":\"Login_template-section-title__3J7L0\",\"error-message\":\"Login_error-message__192RR\",\"description\":\"Login_description__2efaS\",\"buttons-container\":\"Login_buttons-container__2hRmy\",\"field-container\":\"Login_field-container__2Lyo9\",\"select-container\":\"Login_select-container__3KaLz\",\"main-container\":\"Login_main-container__qk8so\",\"action-buttons-container\":\"Login_action-buttons-container__18zCf\",\"form-container\":\"Login_form-container__2h7sF\",\"logo-container\":\"Login_logo-container__2rXLf\",\"site-name\":\"Login_site-name__ppjh3\",\"logo\":\"Login_logo__2K-FY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"template-title\":\"CreateScraper_template-title__3AdDm\",\"highlighted\":\"CreateScraper_highlighted__2qTu1\",\"template-subtitle\":\"CreateScraper_template-subtitle__1Lgbe\",\"template-section-title\":\"CreateScraper_template-section-title__13Ssa\",\"error-message\":\"CreateScraper_error-message__1B-co\",\"description\":\"CreateScraper_description__3DWGa\",\"buttons-container\":\"CreateScraper_buttons-container__1eOyG\",\"create-scraper-container\":\"CreateScraper_create-scraper-container__3X0-q\",\"site-resource-card\":\"CreateScraper_site-resource-card__2_Ver\",\"site-resource-select-container\":\"CreateScraper_site-resource-select-container__2324t\",\"json-data\":\"CreateScraper_json-data__12uJv\",\"label\":\"CreateScraper_label__1vOVA\",\"container\":\"CreateScraper_container__8eBYx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"Dashboard_main-container__2u9YT\",\"grid-container\":\"Dashboard_grid-container__tgNjx\",\"data-container\":\"Dashboard_data-container__3J9vQ\",\"users-container\":\"Dashboard_users-container__1oOZo\",\"scrapers-container\":\"Dashboard_scrapers-container__x52tj\",\"profile-container\":\"Dashboard_profile-container__JjutC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-container\":\"CreateSiteResource_form-container__p6rkl\",\"template-title\":\"CreateSiteResource_template-title__Y3MG_\",\"form\":\"CreateSiteResource_form__17gO9\",\"input-container\":\"CreateSiteResource_input-container__2dSI8\",\"buttons-container\":\"CreateSiteResource_buttons-container__2nv8O\"};"],"sourceRoot":""}